2013-09-10 15:27:27,218 root:INFO RP server starting listening on port:8666
2013-09-10 15:27:31,456 root:DEBUG unknown side: 
2013-09-10 15:27:31,478 root:DEBUG unknown side: favicon.ico
2013-09-10 15:31:12,479 root:INFO RP server starting listening on port:8666
2013-09-10 15:31:32,914 root:INFO RP server starting listening on port:8666
2013-09-10 15:31:35,618 root:DEBUG unknown side: 
2013-09-10 16:01:30,958 root:INFO RP server starting listening on port:8666
2013-09-10 16:01:42,248 root:DEBUG unknown side: 
2013-09-10 16:03:41,470 root:INFO RP server starting listening on port:8666
2013-09-10 16:03:46,102 root:DEBUG unknown side: 
2013-09-10 16:04:56,612 root:INFO RP server starting listening on port:8666
2013-09-10 16:05:00,526 root:DEBUG unknown side: 
2013-09-10 16:05:00,547 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:24:33,085 root:INFO RP server starting listening on port:8666
2013-09-10 16:24:38,406 root:DEBUG unknown side: 
2013-09-10 16:24:38,427 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:24:38,429 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:24:38,430 root:DEBUG unknown side: js/bootstrap.min.js
2013-09-10 16:24:52,898 root:INFO [static]sending: static/about.html
2013-09-10 16:26:20,401 root:DEBUG unknown side: 
2013-09-10 16:26:20,415 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:26:20,417 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:26:20,418 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:26:21,324 root:DEBUG unknown side: 
2013-09-10 16:26:21,329 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:26:21,330 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:26:21,330 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:26:22,520 root:DEBUG unknown side: 
2013-09-10 16:26:22,538 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:26:22,538 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:26:22,540 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:26:23,223 root:DEBUG unknown side: 
2013-09-10 16:26:23,237 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:26:23,237 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:26:23,238 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:26:23,807 root:DEBUG unknown side: 
2013-09-10 16:26:23,813 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:26:23,813 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:26:23,813 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:26:24,559 root:DEBUG unknown side: 
2013-09-10 16:26:24,565 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:26:24,565 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:26:24,565 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:26:25,288 root:DEBUG unknown side: 
2013-09-10 16:26:25,296 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:26:25,298 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:26:25,299 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:26:26,095 root:DEBUG unknown side: 
2013-09-10 16:26:26,110 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:26:26,111 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:26:26,111 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:26:30,303 root:DEBUG unknown side: rp
2013-09-10 16:26:30,312 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:26:30,312 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:26:30,312 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:27:09,742 root:DEBUG unknown side: rp
2013-09-10 16:27:09,755 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:27:09,757 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:27:09,758 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:28:03,665 root:DEBUG unknown side: rp
2013-09-10 16:28:03,678 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:28:03,679 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:28:03,680 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:28:04,789 root:DEBUG unknown side: rp
2013-09-10 16:28:04,800 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:28:04,800 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:28:04,801 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:28:05,597 root:DEBUG unknown side: rp
2013-09-10 16:28:05,602 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:28:05,603 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:28:05,603 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:29:00,898 root:DEBUG unknown side: rp
2013-09-10 16:29:00,916 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:29:00,918 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:29:00,919 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:29:02,112 root:DEBUG unknown side: rp
2013-09-10 16:29:02,131 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:29:02,131 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:29:02,131 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:31:13,072 root:DEBUG unknown side: rp
2013-09-10 16:31:13,092 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:31:13,094 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:31:13,095 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:35:20,986 root:DEBUG unknown side: rp
2013-09-10 16:35:21,011 root:INFO [static]sending: static/style.css
2013-09-10 16:35:21,013 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:35:21,014 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:35:21,016 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:36:07,194 root:DEBUG unknown side: rp
2013-09-10 16:36:07,212 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:36:07,214 root:INFO [static]sending: static/style.css
2013-09-10 16:36:07,215 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:36:07,216 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:36:09,703 root:DEBUG unknown side: rp
2013-09-10 16:36:09,729 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:36:09,729 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:36:09,730 root:INFO [static]sending: static/style.css
2013-09-10 16:36:09,730 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:38:03,607 root:DEBUG unknown side: rp
2013-09-10 16:38:03,622 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:38:03,625 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:38:03,625 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:38:03,626 root:INFO [static]sending: static/style.css
2013-09-10 16:40:01,464 root:DEBUG unknown side: rp
2013-09-10 16:40:01,478 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:40:01,480 root:INFO [static]sending: static/style.css
2013-09-10 16:40:01,481 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:40:01,482 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:40:02,793 root:DEBUG unknown side: rp
2013-09-10 16:40:02,815 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:40:02,815 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:40:02,816 root:INFO [static]sending: static/style.css
2013-09-10 16:40:02,816 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:41:00,768 root:DEBUG unknown side: rp
2013-09-10 16:41:00,775 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:41:00,778 root:INFO [static]sending: static/style.css
2013-09-10 16:41:00,778 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:41:00,779 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:41:01,844 root:DEBUG unknown side: rp
2013-09-10 16:41:01,856 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:41:01,856 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:41:01,857 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:41:01,857 root:INFO [static]sending: static/style.css
2013-09-10 16:41:05,230 root:DEBUG unknown side: rp
2013-09-10 16:41:05,235 root:INFO [static]sending: static/style.css
2013-09-10 16:41:05,236 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:41:05,236 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:41:05,238 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:41:24,818 root:DEBUG unknown side: rp
2013-09-10 16:41:24,826 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:41:24,829 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:41:24,829 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:41:24,831 root:INFO [static]sending: static/style.css
2013-09-10 16:41:28,601 root:DEBUG unknown side: rp
2013-09-10 16:41:28,613 root:INFO [static]sending: static/style.css
2013-09-10 16:41:28,614 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:41:28,614 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:41:28,614 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:41:30,760 root:DEBUG unknown side: rp
2013-09-10 16:41:30,771 root:INFO [static]sending: static/style.css
2013-09-10 16:41:30,772 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:41:30,772 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:41:30,773 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:42:04,274 root:DEBUG unknown side: rp
2013-09-10 16:42:04,282 root:INFO [static]sending: static/style.css
2013-09-10 16:42:04,284 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:42:04,285 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:42:04,286 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:42:05,091 root:DEBUG unknown side: rp
2013-09-10 16:42:05,105 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:42:05,105 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:42:05,106 root:INFO [static]sending: static/style.css
2013-09-10 16:42:05,106 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:42:27,202 root:DEBUG unknown side: rp
2013-09-10 16:42:27,208 root:INFO [static]sending: static/style.css
2013-09-10 16:42:27,210 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:42:27,211 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:42:27,211 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:42:29,151 root:DEBUG unknown side: rp
2013-09-10 16:42:29,172 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:42:29,173 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:42:29,175 root:INFO [static]sending: static/style.css
2013-09-10 16:42:29,176 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:42:33,453 root:DEBUG unknown side: rp
2013-09-10 16:42:33,462 root:INFO [static]sending: static/style.css
2013-09-10 16:42:33,462 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:42:33,462 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:42:33,462 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:42:35,612 root:DEBUG unknown side: rp
2013-09-10 16:42:35,635 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:42:35,635 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:42:35,636 root:INFO [static]sending: static/style.css
2013-09-10 16:42:35,636 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:45:06,262 root:DEBUG unknown side: rp
2013-09-10 16:45:06,287 root:INFO [static]sending: static/style.css
2013-09-10 16:45:06,290 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:45:06,291 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:45:06,292 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:45:07,678 root:DEBUG unknown side: rp
2013-09-10 16:45:07,707 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:45:07,707 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:45:07,708 root:INFO [static]sending: static/style.css
2013-09-10 16:45:07,708 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:46:00,747 root:DEBUG unknown side: rp
2013-09-10 16:46:00,761 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:46:00,763 root:INFO [static]sending: static/style.css
2013-09-10 16:46:00,764 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:46:00,765 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:46:01,721 root:DEBUG unknown side: rp
2013-09-10 16:46:01,730 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:46:01,730 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:46:01,730 root:INFO [static]sending: static/style.css
2013-09-10 16:46:01,730 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:46:02,557 root:DEBUG unknown side: rp
2013-09-10 16:46:02,568 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:46:02,568 root:INFO [static]sending: static/style.css
2013-09-10 16:46:02,569 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:46:02,569 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:46:03,181 root:DEBUG unknown side: rp
2013-09-10 16:46:03,195 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:46:03,196 root:INFO [static]sending: static/style.css
2013-09-10 16:46:03,196 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:46:03,198 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:47:23,954 root:DEBUG unknown side: rp
2013-09-10 16:47:23,967 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:47:23,969 root:INFO [static]sending: static/style.css
2013-09-10 16:47:23,970 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:47:23,971 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:47:24,816 root:DEBUG unknown side: rp
2013-09-10 16:47:24,822 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:47:24,823 root:INFO [static]sending: static/style.css
2013-09-10 16:47:24,823 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:47:24,823 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:47:25,537 root:DEBUG unknown side: rp
2013-09-10 16:47:25,543 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:47:25,544 root:INFO [static]sending: static/style.css
2013-09-10 16:47:25,546 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:47:25,547 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:47:35,617 root:DEBUG unknown side: rp
2013-09-10 16:47:35,628 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:47:35,631 root:INFO [static]sending: static/style.css
2013-09-10 16:47:35,632 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:47:35,632 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:47:36,341 root:DEBUG unknown side: rp
2013-09-10 16:47:36,348 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:47:36,348 root:INFO [static]sending: static/style.css
2013-09-10 16:47:36,348 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:47:36,349 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:47:36,936 root:DEBUG unknown side: rp
2013-09-10 16:47:36,954 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:47:36,955 root:INFO [static]sending: static/style.css
2013-09-10 16:47:36,956 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:47:36,957 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:47:44,136 root:DEBUG unknown side: rp
2013-09-10 16:47:44,142 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:47:44,142 root:INFO [static]sending: static/style.css
2013-09-10 16:47:44,143 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:47:44,143 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:47:44,833 root:DEBUG unknown side: rp
2013-09-10 16:47:44,847 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:47:44,847 root:INFO [static]sending: static/style.css
2013-09-10 16:47:44,848 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:47:44,848 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:48:03,271 root:DEBUG unknown side: rp
2013-09-10 16:48:03,278 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:48:03,280 root:INFO [static]sending: static/style.css
2013-09-10 16:48:03,281 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:48:03,282 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:48:03,988 root:DEBUG unknown side: rp
2013-09-10 16:48:04,000 root:INFO [static]sending: static/style.css
2013-09-10 16:48:04,001 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:48:04,001 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:48:04,002 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:48:04,770 root:DEBUG unknown side: rp
2013-09-10 16:48:04,779 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:48:04,779 root:INFO [static]sending: static/style.css
2013-09-10 16:48:04,779 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:48:04,780 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:48:05,474 root:DEBUG unknown side: rp
2013-09-10 16:48:05,480 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:48:05,480 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:48:05,481 root:INFO [static]sending: static/style.css
2013-09-10 16:48:05,482 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:48:06,120 root:DEBUG unknown side: rp
2013-09-10 16:48:06,127 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:48:06,127 root:INFO [static]sending: static/style.css
2013-09-10 16:48:06,128 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:48:06,128 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:48:06,713 root:DEBUG unknown side: rp
2013-09-10 16:48:06,723 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:48:06,723 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:48:06,724 root:INFO [static]sending: static/style.css
2013-09-10 16:48:06,725 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:48:35,874 root:DEBUG unknown side: rp
2013-09-10 16:48:35,880 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:48:35,882 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:48:35,884 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:48:35,885 root:INFO [static]sending: static/style.css
2013-09-10 16:48:36,644 root:DEBUG unknown side: rp
2013-09-10 16:48:36,658 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:48:36,658 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:48:36,659 root:INFO [static]sending: static/style.css
2013-09-10 16:48:36,661 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:52:16,226 root:DEBUG unknown side: rp
2013-09-10 16:52:16,240 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:52:16,242 root:INFO [static]sending: static/style.css
2013-09-10 16:52:16,243 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:52:16,244 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:53:17,441 root:DEBUG unknown side: rp
2013-09-10 16:53:17,466 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:53:17,468 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:53:17,469 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:53:17,470 root:INFO [static]sending: static/style.css
2013-09-10 16:54:12,109 root:DEBUG unknown side: rp
2013-09-10 16:54:12,135 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:54:12,138 root:INFO [static]sending: static/style.css
2013-09-10 16:54:12,139 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:54:12,140 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:54:12,969 root:DEBUG unknown side: rp
2013-09-10 16:54:12,992 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:54:12,993 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:54:12,993 root:INFO [static]sending: static/style.css
2013-09-10 16:54:12,993 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:55:18,164 root:DEBUG unknown side: rp
2013-09-10 16:55:18,184 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:55:18,186 root:INFO [static]sending: static/style.css
2013-09-10 16:55:18,187 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:55:18,188 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:55:19,368 root:DEBUG unknown side: rp
2013-09-10 16:55:19,394 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:55:19,394 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:55:19,394 root:INFO [static]sending: static/style.css
2013-09-10 16:55:19,395 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:55:25,597 root:DEBUG unknown side: rp
2013-09-10 16:55:25,604 root:INFO [static]sending: static/style.css
2013-09-10 16:55:25,604 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:55:25,605 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:55:25,606 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:55:27,708 root:DEBUG unknown side: rp
2013-09-10 16:55:27,715 root:INFO [static]sending: static/style.css
2013-09-10 16:55:27,715 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:55:27,715 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:55:27,716 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:55:30,677 root:DEBUG unknown side: rp
2013-09-10 16:55:30,686 root:INFO [static]sending: static/style.css
2013-09-10 16:55:30,686 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:55:30,686 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:55:30,687 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:55:38,180 root:INFO [static]sending: static/about.html
2013-09-10 16:55:45,792 root:INFO [static]sending: static/about.html
2013-09-10 16:59:11,762 root:DEBUG unknown side: rp
2013-09-10 16:59:11,780 root:INFO [static]sending: static/style.css
2013-09-10 16:59:11,782 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 16:59:11,783 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 16:59:11,784 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 16:59:12,693 root:DEBUG unknown side: rp
2013-09-10 16:59:26,060 root:DEBUG unknown side: rp
2013-09-10 16:59:26,818 root:DEBUG unknown side: rp
2013-09-10 16:59:48,631 root:INFO RP server starting listening on port:8666
2013-09-10 17:00:01,223 root:DEBUG unknown side: 
2013-09-10 17:00:10,566 root:INFO RP server starting listening on port:8666
2013-09-10 17:00:14,179 root:DEBUG unknown side: 
2013-09-10 17:02:49,086 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 17:02:49,087 root:INFO [static]sending: static/style.css
2013-09-10 17:02:49,089 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 17:02:49,090 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 17:03:54,980 root:INFO RP server starting listening on port:8666
2013-09-10 17:03:56,808 root:DEBUG unknown side: 
2013-09-10 17:04:01,921 root:INFO RP server starting listening on port:8666
2013-09-10 17:04:07,030 root:DEBUG unknown side: 
2013-09-10 17:04:07,051 root:INFO [static]sending: static/style.css
2013-09-10 17:04:07,051 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 17:04:07,052 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 17:04:07,053 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 17:04:08,682 root:DEBUG unknown side: rp
2013-09-10 17:04:08,694 root:INFO [static]sending: static/style.css
2013-09-10 17:04:08,695 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 17:04:08,695 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 17:04:08,695 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 17:04:09,766 root:DEBUG unknown side: rp
2013-09-10 17:04:09,773 root:INFO [static]sending: static/style.css
2013-09-10 17:04:09,773 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 17:04:09,773 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 17:04:09,775 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 17:04:22,597 root:DEBUG unknown side: rp
2013-09-10 17:04:22,604 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 17:04:22,606 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 17:04:22,607 root:INFO [static]sending: static/style.css
2013-09-10 17:04:22,608 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 17:04:23,632 root:DEBUG unknown side: rp
2013-09-10 17:04:23,646 root:INFO [static]sending: static/style.css
2013-09-10 17:04:23,646 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 17:04:23,647 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 17:04:23,647 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 17:05:36,548 root:DEBUG unknown side: rp
2013-09-10 17:05:36,555 root:INFO [static]sending: static/style.css
2013-09-10 17:05:36,557 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 17:05:36,558 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 17:05:36,559 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 17:06:10,980 root:DEBUG unknown side: rp
2013-09-10 17:06:10,987 root:INFO [static]sending: static/style.css
2013-09-10 17:06:10,989 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 17:06:10,990 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 17:06:10,990 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 17:09:21,492 root:INFO RP server starting listening on port:8666
2013-09-10 17:09:24,467 root:DEBUG unknown side: rp
2013-09-10 17:09:24,573 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 17:09:24,576 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 17:09:24,577 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 17:09:24,578 root:INFO [static]sending: static/style.css
2013-09-10 17:09:26,774 root:DEBUG unknown side: rp
2013-09-10 17:09:26,863 root:INFO [static]sending: static/style.css
2013-09-10 17:09:26,863 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 17:09:26,863 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 17:09:26,864 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 17:09:28,953 root:DEBUG unknown side: rp
2013-09-10 17:09:29,118 root:INFO [static]sending: static/style.css
2013-09-10 17:09:29,119 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 17:09:29,119 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 17:09:29,120 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 17:09:30,078 root:DEBUG unknown side: rp
2013-09-10 17:09:30,139 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-10 17:09:30,219 root:INFO [static]sending: static/style.css
2013-09-10 17:09:30,250 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-10 17:09:30,250 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-10 17:09:50,643 root:INFO RP server starting listening on port:8666
2013-09-10 17:10:14,391 root:INFO RP server starting listening on port:8666
2013-09-10 17:10:28,297 root:INFO RP server starting listening on port:8666
2013-09-10 17:11:16,026 root:INFO RP server starting listening on port:8666
2013-09-10 17:30:23,201 root:INFO RP server starting listening on port:8666
2013-09-11 08:14:51,243 root:DEBUG unknown side: rp
2013-09-11 08:14:55,945 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:14:55,949 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:14:55,951 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:14:55,953 root:INFO [static]sending: static/style.css
2013-09-11 08:19:34,539 root:DEBUG unknown side: 
2013-09-11 08:19:49,261 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:19:49,266 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:19:49,267 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:19:49,270 root:INFO [static]sending: static/style.css
2013-09-11 08:19:55,666 root:INFO RP server starting listening on port:8666
2013-09-11 08:20:30,494 root:DEBUG unknown side: 
2013-09-11 08:20:30,577 root:INFO [static]sending: static/style.css
2013-09-11 08:20:30,579 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:20:30,580 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:20:30,581 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:20:31,749 root:DEBUG unknown side: 
2013-09-11 08:20:31,925 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:20:31,925 root:INFO [static]sending: static/style.css
2013-09-11 08:20:31,926 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:20:31,926 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:21:30,374 root:DEBUG unknown side: 
2013-09-11 08:21:30,454 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:21:30,454 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:21:30,455 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:21:30,456 root:INFO [static]sending: static/style.css
2013-09-11 08:21:31,369 root:DEBUG unknown side: 
2013-09-11 08:21:31,552 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:21:31,553 root:INFO [static]sending: static/style.css
2013-09-11 08:21:31,553 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:21:31,554 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:25:31,594 root:DEBUG unknown side: 
2013-09-11 08:25:31,674 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:25:31,773 root:INFO [static]sending: static/style.css
2013-09-11 08:25:31,775 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:25:31,776 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:25:32,808 root:DEBUG unknown side: 
2013-09-11 08:25:32,888 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:25:32,889 root:INFO [static]sending: static/style.css
2013-09-11 08:25:32,987 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:25:32,988 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:25:34,295 root:DEBUG unknown side: oplist
2013-09-11 08:25:34,453 root:INFO [static]sending: static/style.css
2013-09-11 08:25:34,453 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:25:34,454 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:25:34,455 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:25:36,232 root:DEBUG unknown side: opbyuid
2013-09-11 08:25:36,394 root:INFO [static]sending: static/style.css
2013-09-11 08:25:36,395 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:25:36,395 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:25:36,397 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:27:01,389 root:INFO RP server starting listening on port:8666
2013-09-11 08:27:19,028 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:27:19,030 root:INFO [static]sending: static/style.css
2013-09-11 08:27:19,034 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:27:19,036 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:30:59,270 root:INFO RP server starting listening on port:8666
2013-09-11 08:31:01,683 root:INFO [static]sending: static/style.css
2013-09-11 08:31:01,686 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:31:01,686 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:31:01,688 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:31:10,323 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:31:10,324 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:31:10,324 root:INFO [static]sending: static/style.css
2013-09-11 08:31:10,325 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:31:33,562 root:INFO [static]sending: static/style.css
2013-09-11 08:31:33,564 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:31:33,565 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:31:33,567 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:31:34,540 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:31:34,541 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:31:34,541 root:INFO [static]sending: static/style.css
2013-09-11 08:31:34,543 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:31:35,809 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:31:35,810 root:INFO [static]sending: static/style.css
2013-09-11 08:31:35,810 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:31:35,890 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:31:38,861 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:31:38,861 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:31:38,861 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:31:38,861 root:INFO [static]sending: static/style.css
2013-09-11 08:31:40,767 root:INFO [static]sending: static/style.css
2013-09-11 08:31:40,767 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:31:40,768 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:31:40,770 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:31:41,747 root:INFO [static]sending: static/style.css
2013-09-11 08:31:41,747 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:31:41,748 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:31:41,748 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:31:43,251 root:INFO [static]sending: static/style.css
2013-09-11 08:31:43,252 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:31:43,252 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:31:43,252 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:31:46,434 root:INFO [static]sending: static/style.css
2013-09-11 08:31:46,435 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:31:46,435 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:31:46,437 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:31:48,760 root:INFO [static]sending: static/style.css
2013-09-11 08:31:48,760 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:31:48,761 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:31:48,762 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:35:09,675 root:INFO [static]sending: static/style.css
2013-09-11 08:35:09,677 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:35:09,678 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:35:09,765 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:35:11,737 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:35:11,738 root:INFO [static]sending: static/style.css
2013-09-11 08:35:11,839 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:35:11,839 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:35:29,722 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:35:29,723 root:INFO [static]sending: static/style.css
2013-09-11 08:35:29,843 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:35:29,845 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:35:30,750 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:35:30,750 root:INFO [static]sending: static/style.css
2013-09-11 08:35:30,752 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:35:30,753 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:36:12,193 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:36:12,195 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:36:12,196 root:INFO [static]sending: static/style.css
2013-09-11 08:36:12,285 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:37:13,760 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:37:13,762 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:37:13,763 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:37:13,764 root:INFO [static]sending: static/style.css
2013-09-11 08:37:14,758 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:37:14,842 root:INFO [static]sending: static/style.css
2013-09-11 08:37:14,851 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:37:14,859 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:37:15,763 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:37:15,763 root:INFO [static]sending: static/style.css
2013-09-11 08:37:15,854 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:37:15,854 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:38:07,280 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:38:07,282 root:INFO [static]sending: static/style.css
2013-09-11 08:38:07,282 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:38:07,366 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:38:51,938 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:38:51,941 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:38:51,942 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:38:51,943 root:INFO [static]sending: static/style.css
2013-09-11 08:38:52,837 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:38:52,838 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:38:52,838 root:INFO [static]sending: static/style.css
2013-09-11 08:38:52,922 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:38:53,879 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:38:53,880 root:INFO [static]sending: static/style.css
2013-09-11 08:38:53,978 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:38:53,978 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:43:07,817 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:43:07,819 root:INFO [static]sending: static/style.css
2013-09-11 08:43:07,951 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:43:07,951 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:43:14,795 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:43:14,796 root:INFO [static]sending: static/style.css
2013-09-11 08:43:14,918 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:43:14,918 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:43:16,155 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:43:16,156 root:INFO [static]sending: static/style.css
2013-09-11 08:43:16,158 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:43:16,159 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:43:34,172 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:43:34,174 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:43:34,175 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:43:34,176 root:INFO [static]sending: static/style.css
2013-09-11 08:43:35,313 root:INFO [static]sending: static/style.css
2013-09-11 08:43:35,313 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:43:35,314 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:43:35,314 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:44:19,884 root:INFO [static]sending: static/style.css
2013-09-11 08:44:19,886 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:44:19,887 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:44:19,888 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:44:42,756 root:INFO [static]sending: static/style.css
2013-09-11 08:44:42,758 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:44:42,759 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:44:42,760 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:44:43,858 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:44:43,858 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:44:43,858 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:44:43,859 root:INFO [static]sending: static/style.css
2013-09-11 08:44:45,215 root:INFO [static]sending: static/style.css
2013-09-11 08:44:45,215 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:44:45,217 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:44:45,218 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:44:54,910 root:INFO [static]sending: static/style.css
2013-09-11 08:44:54,910 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:44:54,911 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:44:55,020 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:44:55,899 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:44:55,984 root:INFO [static]sending: static/style.css
2013-09-11 08:44:56,002 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:44:56,003 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:44:57,230 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:44:57,316 root:INFO [static]sending: static/style.css
2013-09-11 08:44:57,333 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:44:57,333 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:44:58,193 root:INFO [static]sending: static/style.css
2013-09-11 08:44:58,195 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:44:58,196 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:44:58,278 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:47:20,680 root:INFO [static]sending: static/style.css
2013-09-11 08:47:20,682 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:47:20,803 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:47:20,803 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:47:22,162 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:47:22,254 root:INFO [static]sending: static/style.css
2013-09-11 08:47:22,255 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:47:22,257 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:47:24,412 root:INFO [static]sending: static/style.css
2013-09-11 08:47:24,412 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:47:24,412 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:47:24,414 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:50:17,483 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:50:17,485 root:INFO [static]sending: static/style.css
2013-09-11 08:50:17,485 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:50:17,487 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:50:18,572 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:50:18,572 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:50:18,573 root:INFO [static]sending: static/style.css
2013-09-11 08:50:18,574 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:50:20,395 root:INFO [static]sending: static/style.css
2013-09-11 08:50:20,395 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:50:20,395 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:50:20,396 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:50:23,642 root:INFO [static]sending: static/style.css
2013-09-11 08:50:23,642 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:50:23,643 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:50:23,645 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:50:51,244 root:INFO RP server starting listening on port:8666
2013-09-11 08:50:56,291 root:INFO [static]sending: static/style.css
2013-09-11 08:50:56,294 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:50:56,295 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:50:56,296 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:51:00,148 root:INFO [static]sending: static/style.css
2013-09-11 08:51:00,149 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:51:00,149 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:51:00,151 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:51:12,060 root:INFO RP server starting listening on port:8666
2013-09-11 08:51:14,953 root:INFO [static]sending: static/style.css
2013-09-11 08:51:14,955 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:51:14,956 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:51:14,957 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:51:16,334 root:INFO [static]sending: static/style.css
2013-09-11 08:51:16,335 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:51:16,335 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:51:16,335 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:51:19,038 root:INFO [static]sending: static/style.css
2013-09-11 08:51:19,038 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:51:19,041 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:51:19,042 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:51:22,511 root:INFO [static]sending: static/style.css
2013-09-11 08:51:22,512 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:51:22,512 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:51:22,512 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:51:24,831 root:INFO [static]sending: static/style.css
2013-09-11 08:51:24,832 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:51:24,832 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:51:24,834 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:51:28,004 root:INFO [static]sending: static/style.css
2013-09-11 08:51:28,004 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:51:28,005 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:51:28,005 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:51:29,971 root:INFO [static]sending: static/style.css
2013-09-11 08:51:29,971 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:51:30,090 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:51:30,090 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:51:32,589 root:INFO [static]sending: static/style.css
2013-09-11 08:51:32,590 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:51:32,590 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:51:32,697 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:57:14,716 root:INFO [static]sending: static/style.css
2013-09-11 08:57:14,717 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:57:14,718 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:57:14,719 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:57:21,893 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:57:21,894 root:INFO [static]sending: static/style.css
2013-09-11 08:57:21,894 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:57:21,894 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:57:23,395 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:57:23,482 root:INFO [static]sending: static/style.css
2013-09-11 08:57:23,513 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:57:23,513 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:57:25,380 root:INFO [static]sending: static/style.css
2013-09-11 08:57:25,380 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:57:25,380 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:57:25,382 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:57:29,326 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:57:29,326 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:57:29,326 root:INFO [static]sending: static/style.css
2013-09-11 08:57:29,412 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:57:34,218 root:INFO [static]sending: static/style.css
2013-09-11 08:57:34,218 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:57:34,218 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:57:34,304 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:57:35,245 root:INFO [static]sending: static/style.css
2013-09-11 08:57:35,246 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:57:35,251 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:57:35,254 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:57:37,405 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:57:37,511 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:57:37,513 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:57:37,514 root:INFO [static]sending: static/style.css
2013-09-11 08:57:42,686 root:INFO [static]sending: static/style.css
2013-09-11 08:57:42,686 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:57:42,687 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:57:42,688 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:57:45,610 root:INFO [static]sending: static/style.css
2013-09-11 08:57:45,610 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:57:45,611 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:57:45,612 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:57:49,436 root:INFO [static]sending: static/style.css
2013-09-11 08:57:49,437 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:57:49,439 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:57:49,440 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:57:55,282 root:INFO [static]sending: static/style.css
2013-09-11 08:57:55,283 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:57:55,283 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:57:55,283 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:57:59,771 root:INFO [static]sending: static/style.css
2013-09-11 08:57:59,771 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:57:59,772 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:57:59,774 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:58:02,532 root:INFO [static]sending: static/style.css
2013-09-11 08:58:02,533 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:58:02,533 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:58:02,535 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:58:44,804 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:58:44,803 root:INFO [static]sending: static/style.css
2013-09-11 08:58:44,804 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:58:44,804 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:58:57,670 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:58:57,670 root:INFO [static]sending: static/style.css
2013-09-11 08:58:57,671 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:58:57,671 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:59:15,013 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:59:15,013 root:INFO [static]sending: static/style.css
2013-09-11 08:59:15,013 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:59:15,014 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:59:18,521 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:59:18,521 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:59:18,522 root:INFO [static]sending: static/style.css
2013-09-11 08:59:18,522 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:59:38,858 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:59:38,859 root:INFO [static]sending: static/style.css
2013-09-11 08:59:38,859 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:59:38,860 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:59:40,660 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:59:40,660 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:59:40,660 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 08:59:40,661 root:INFO [static]sending: static/style.css
2013-09-11 08:59:53,597 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 08:59:53,598 root:INFO [static]sending: static/style.css
2013-09-11 08:59:53,598 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 08:59:53,599 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 09:22:18,100 root:INFO [static]sending: static/style.css
2013-09-11 09:22:18,102 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 09:22:18,103 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 09:22:18,103 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 09:25:05,636 root:INFO [static]sending: static/style.css
2013-09-11 09:25:05,638 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 09:25:05,639 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 09:25:05,640 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 09:25:13,918 root:INFO RP server starting listening on port:8666
2013-09-11 09:25:17,005 root:INFO RP server starting listening on port:8666
2013-09-11 09:25:37,360 root:INFO RP server starting listening on port:8666
2013-09-11 09:30:56,744 root:INFO RP server starting listening on port:8666
2013-09-11 09:31:02,349 root:INFO RP server starting listening on port:8666
2013-09-11 09:31:27,266 root:INFO [static]sending: static/style.css
2013-09-11 09:31:27,268 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 09:31:27,270 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 09:31:27,271 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 09:31:32,135 root:INFO [static]sending: static/style.css
2013-09-11 09:31:32,138 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 09:31:32,140 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 09:31:32,143 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 09:34:20,534 root:INFO RP server starting listening on port:8666
2013-09-11 09:48:56,627 root:INFO [static]sending: static/style.css
2013-09-11 09:48:56,628 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 09:48:56,630 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 09:48:56,631 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 09:49:00,702 root:INFO [static]sending: static/style.css
2013-09-11 09:49:00,704 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 09:49:00,705 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 09:49:00,793 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 09:58:25,113 root:INFO [static]sending: static/style.css
2013-09-11 09:58:25,114 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 09:58:25,116 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 09:58:25,224 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 09:58:27,304 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 09:58:27,307 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 09:58:27,312 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 09:58:27,316 root:INFO [static]sending: static/style.css
2013-09-11 10:04:35,053 root:INFO [static]sending: static/style.css
2013-09-11 10:04:35,054 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 10:04:35,059 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 10:04:35,063 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 10:04:36,603 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 10:04:36,605 root:INFO [static]sending: static/style.css
2013-09-11 10:04:36,733 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 10:04:36,736 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 10:04:54,931 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 10:04:54,933 root:INFO [static]sending: static/style.css
2013-09-11 10:04:55,060 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 10:04:55,062 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 10:04:56,017 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 10:04:56,020 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 10:04:56,024 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 10:04:56,026 root:INFO [static]sending: static/style.css
2013-09-11 10:07:35,178 root:INFO RP server starting listening on port:8666
2013-09-11 10:07:37,825 root:INFO RP server starting listening on port:8666
2013-09-11 10:07:46,221 root:INFO RP server starting listening on port:8666
2013-09-11 10:08:05,053 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 10:08:05,056 root:INFO [static]sending: static/style.css
2013-09-11 10:08:05,058 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 10:08:05,062 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 10:08:13,993 root:INFO [static]sending: static/style.css
2013-09-11 10:08:13,995 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 10:08:13,998 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 10:08:14,000 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 10:08:25,477 root:INFO [static]sending: static/style.css
2013-09-11 10:08:25,480 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 10:08:25,482 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 10:08:25,484 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 10:08:28,546 root:INFO [static]sending: static/style.css
2013-09-11 10:08:28,550 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 10:08:28,552 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 10:08:28,553 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 10:08:39,262 root:INFO [static]sending: static/style.css
2013-09-11 10:08:39,263 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 10:08:39,265 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 10:08:39,269 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 10:08:43,053 root:INFO [static]sending: static/style.css
2013-09-11 10:08:43,055 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 10:08:43,061 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 10:08:43,157 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 10:08:51,656 root:INFO [static]sending: static/style.css
2013-09-11 10:08:51,660 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 10:08:51,662 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 10:08:51,664 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 10:08:57,031 root:INFO [static]sending: static/style.css
2013-09-11 10:08:57,033 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 10:08:57,144 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 10:08:57,147 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 10:09:20,394 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 10:09:20,396 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 10:09:20,397 root:INFO [static]sending: static/style.css
2013-09-11 10:09:20,399 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 10:09:24,250 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 10:09:24,253 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 10:09:24,256 root:INFO [static]sending: static/style.css
2013-09-11 10:09:24,358 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 10:10:51,823 root:INFO RP server starting listening on port:8666
2013-09-11 10:11:03,296 root:INFO RP server starting listening on port:8666
2013-09-11 10:13:32,811 root:INFO RP server starting listening on port:8666
2013-09-11 10:14:08,697 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 10:14:08,699 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 10:14:08,703 root:INFO [static]sending: static/style.css
2013-09-11 10:14:08,796 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 10:15:46,982 root:INFO RP server starting listening on port:8666
2013-09-11 10:16:27,115 root:INFO RP server starting listening on port:8666
2013-09-11 10:17:53,227 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 10:17:53,229 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 10:17:53,231 root:INFO [static]sending: static/style.css
2013-09-11 10:17:53,235 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 10:35:51,867 root:INFO RP server starting listening on port:8666
2013-09-11 10:36:08,467 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-11 10:37:50,986 root:INFO RP server starting listening on port:8666
2013-09-11 10:38:27,777 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-11 10:38:27,815 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092 HTTP/1.1" 404 None
2013-09-11 13:23:59,197 root:INFO RP server starting listening on port:8666
2013-09-11 13:26:58,147 root:INFO RP server starting listening on port:8666
2013-09-11 13:27:02,150 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 13:27:02,150 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 13:27:02,150 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 13:27:02,151 root:INFO [static]sending: static/style.css
2013-09-11 13:27:17,901 root:INFO RP server starting listening on port:8666
2013-09-11 13:27:21,920 root:INFO RP server starting listening on port:8666
2013-09-11 13:27:33,111 root:INFO RP server starting listening on port:8666
2013-09-11 13:28:19,161 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 13:28:19,162 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 13:28:19,165 root:INFO [static]sending: static/style.css
2013-09-11 13:28:19,171 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 13:28:52,831 root:INFO [static]sending: static/style.css
2013-09-11 13:28:52,833 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 13:28:53,725 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 13:28:53,733 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 13:36:14,058 root:INFO RP server starting listening on port:8666
2013-09-11 13:36:36,675 root:INFO [static]sending: static/style.css
2013-09-11 13:36:36,680 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 13:36:37,494 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 13:36:37,501 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 13:36:58,003 root:INFO [static]sending: static/style.css
2013-09-11 13:36:58,005 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 13:36:58,758 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 13:36:58,761 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 13:37:02,455 root:INFO RP server starting listening on port:8666
2013-09-11 13:37:08,299 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 13:37:08,307 root:INFO [static]sending: static/style.css
2013-09-11 13:37:08,907 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 13:37:08,911 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 13:37:51,015 root:INFO RP server starting listening on port:8666
2013-09-11 13:38:11,007 root:INFO [static]sending: static/style.css
2013-09-11 13:38:11,008 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 13:38:11,009 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 13:38:11,011 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 13:38:18,689 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 13:38:18,690 root:INFO [static]sending: static/style.css
2013-09-11 13:38:18,698 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 13:38:18,699 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 13:38:20,430 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 13:38:20,431 root:INFO [static]sending: static/style.css
2013-09-11 13:38:20,438 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 13:38:20,439 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 13:38:25,586 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 13:38:25,688 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 13:38:25,689 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 13:38:25,690 root:INFO [static]sending: static/style.css
2013-09-11 13:38:43,092 root:INFO RP server starting listening on port:8666
2013-09-11 13:39:38,509 root:INFO RP server starting listening on port:8666
2013-09-11 13:42:05,312 root:INFO RP server starting listening on port:8666
2013-09-11 13:43:58,294 root:INFO RP server starting listening on port:8666
2013-09-11 13:47:49,188 root:INFO RP server starting listening on port:8666
2013-09-11 13:52:06,118 root:INFO RP server starting listening on port:8666
2013-09-11 13:52:22,050 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 13:52:22,052 root:INFO [static]sending: static/style.css
2013-09-11 13:52:22,057 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 13:52:22,058 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 13:52:30,335 root:INFO RP server starting listening on port:8666
2013-09-11 13:52:32,014 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 13:52:32,016 root:INFO [static]sending: static/style.css
2013-09-11 13:52:32,021 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 13:52:32,022 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 13:52:33,999 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 13:52:34,000 root:INFO [static]sending: static/style.css
2013-09-11 13:52:34,005 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 13:52:34,006 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 13:52:53,715 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 13:52:53,724 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 13:52:53,725 root:INFO [static]sending: static/style.css
2013-09-11 13:52:53,725 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 13:54:12,081 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 13:54:12,087 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 13:54:12,088 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 13:54:12,090 root:INFO [static]sending: static/style.css
2013-09-11 14:13:51,800 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 14:13:51,898 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 14:13:51,898 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 14:13:51,902 root:INFO [static]sending: static/style.css
2013-09-11 14:16:38,475 root:INFO RP server starting listening on port:8666
2013-09-11 14:16:58,413 root:INFO RP server starting listening on port:8666
2013-09-11 14:18:11,503 root:INFO RP server starting listening on port:8666
2013-09-11 14:18:28,456 root:INFO RP server starting listening on port:8666
2013-09-11 14:18:58,443 root:INFO RP server starting listening on port:8666
2013-09-11 14:19:15,638 root:INFO RP server starting listening on port:8666
2013-09-11 14:19:19,214 root:INFO [static]sending: static/style.css
2013-09-11 14:19:19,219 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 14:19:19,219 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 14:19:19,220 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 14:19:22,693 root:INFO [static]sending: static/style.css
2013-09-11 14:19:22,694 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 14:19:22,695 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 14:19:22,695 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 14:19:27,826 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 14:19:27,827 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x1065ef4d0>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'authorization_endpoint': 'https://localhost:8092/authorization', 'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'oic', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'token_endpoint': 'https://localhost:8092/token'}, 'pyoidcOIC': {'instance': <rp.pyoidc.pyoidcOIC object at 0x1065ef510>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'authorization_endpoint': 'https://localhost:8092/authorization', 'description': 'Login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'oic', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'token_endpoint': 'https://localhost:8092/token'}}, 'SERVICE': {'pyoidcOAuth': {'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x1065ef4d0>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'authorization_endpoint': 'https://localhost:8092/authorization', 'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'oic', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'token_endpoint': 'https://localhost:8092/token'}, 'pyoidcOIC': {'instance': <rp.pyoidc.pyoidcOIC object at 0x1065ef510>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'authorization_endpoint': 'https://localhost:8092/authorization', 'description': 'Login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'oic', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'token_endpoint': 'https://localhost:8092/token'}}, 'sessions': {}, 'CACHE': {}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x1065ef450>, 'PORT': 8666}
2013-09-11 14:20:25,581 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 14:20:25,582 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x1065ef4d0>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'authorization_endpoint': 'https://localhost:8092/authorization', 'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'oic', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'token_endpoint': 'https://localhost:8092/token'}, 'pyoidcOIC': {'instance': <rp.pyoidc.pyoidcOIC object at 0x1065ef510>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'authorization_endpoint': 'https://localhost:8092/authorization', 'description': 'Login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'oic', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'token_endpoint': 'https://localhost:8092/token'}}, 'SERVICE': {'pyoidcOAuth': {'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x1065ef4d0>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'authorization_endpoint': 'https://localhost:8092/authorization', 'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'oic', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'token_endpoint': 'https://localhost:8092/token'}, 'pyoidcOIC': {'instance': <rp.pyoidc.pyoidcOIC object at 0x1065ef510>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'authorization_endpoint': 'https://localhost:8092/authorization', 'description': 'Login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'oic', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'token_endpoint': 'https://localhost:8092/token'}}, 'sessions': {}, 'CACHE': {}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x1065ef450>, 'PORT': 8666}
2013-09-11 14:23:37,579 root:INFO RP server starting listening on port:8666
2013-09-11 14:24:48,758 root:INFO RP server starting listening on port:8666
2013-09-11 14:25:30,197 root:INFO RP server starting listening on port:8666
2013-09-11 14:26:01,338 root:INFO RP server starting listening on port:8666
2013-09-11 14:26:05,590 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 14:26:05,591 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x1033df4d0>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'authorization_endpoint': 'https://localhost:8092/authorization', 'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'oic', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'token_endpoint': 'https://localhost:8092/token'}, 'pyoidcOIC': {'instance': <rp.pyoidc.pyoidcOIC object at 0x1033df510>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'authorization_endpoint': 'https://localhost:8092/authorization', 'description': 'Login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'oic', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'token_endpoint': 'https://localhost:8092/token'}}, 'SERVICE': {'pyoidcOAuth': {'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x1033df4d0>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'authorization_endpoint': 'https://localhost:8092/authorization', 'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'oic', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'token_endpoint': 'https://localhost:8092/token'}, 'pyoidcOIC': {'instance': <rp.pyoidc.pyoidcOIC object at 0x1033df510>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'authorization_endpoint': 'https://localhost:8092/authorization', 'description': 'Login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'oic', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'token_endpoint': 'https://localhost:8092/token'}}, 'CACHE': {}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666', 'BASE': 'http://hashog.umdc.umu.se:8666', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x1033df450>, 'PORT': 8666}
2013-09-11 14:26:23,386 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 14:26:23,387 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x1033df4d0>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'authorization_endpoint': 'https://localhost:8092/authorization', 'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'oic', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'token_endpoint': 'https://localhost:8092/token'}, 'pyoidcOIC': {'instance': <rp.pyoidc.pyoidcOIC object at 0x1033df510>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'authorization_endpoint': 'https://localhost:8092/authorization', 'description': 'Login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'oic', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'token_endpoint': 'https://localhost:8092/token'}}, 'SERVICE': {'pyoidcOAuth': {'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x1033df4d0>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'authorization_endpoint': 'https://localhost:8092/authorization', 'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'oic', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'token_endpoint': 'https://localhost:8092/token'}, 'pyoidcOIC': {'instance': <rp.pyoidc.pyoidcOIC object at 0x1033df510>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'authorization_endpoint': 'https://localhost:8092/authorization', 'description': 'Login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'oic', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'token_endpoint': 'https://localhost:8092/token'}}, 'CACHE': {}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666', 'BASE': 'http://hashog.umdc.umu.se:8666', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x1033df450>, 'PORT': 8666}
2013-09-11 14:31:33,602 root:INFO RP server starting listening on port:8666
2013-09-11 14:32:06,526 root:INFO RP server starting listening on port:8666
2013-09-11 14:32:17,161 root:INFO RP server starting listening on port:8666
2013-09-11 14:32:29,215 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 14:32:29,216 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10b58b4d0>, 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b58b510>, 'client_secret': 'None', 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10b58b4d0>, 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b58b510>, 'client_secret': 'None', 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'CACHE': {}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666', 'BASE': 'http://hashog.umdc.umu.se:8666', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10b58b450>, 'PORT': 8666}
2013-09-11 14:32:52,431 root:INFO RP server starting listening on port:8666
2013-09-11 14:32:58,201 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 14:32:58,202 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10fd5e4d0>, 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10fd5e510>, 'client_secret': 'None', 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10fd5e4d0>, 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10fd5e510>, 'client_secret': 'None', 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'CACHE': {}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10fd5e450>, 'PORT': 8666}
2013-09-11 14:34:41,437 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 14:35:18,319 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 14:35:18,320 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10fd5e4d0>, 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10fd5e510>, 'client_secret': 'None', 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10fd5e4d0>, 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10fd5e510>, 'client_secret': 'None', 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'CACHE': {}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10fd5e450>, 'PORT': 8666}
2013-09-11 14:35:28,121 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 14:35:28,160 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-11 14:35:28,163 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 14:35:28,204 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-11 14:35:28,207 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 14:35:29,676 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 14:35:45,630 rp.openidconnect:DEBUG Registering RP
2013-09-11 14:35:50,324 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 14:35:50,354 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-11 14:35:50,356 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 14:35:53,384 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378899350&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DgKejwK8srlCV&registration_access_token=Ciulpwfv0urZbLhUKNe8c3tQA17AcaG0&client_id=gKejwK8srlCV&client_secret=d995e409922f9b7bf35b275d17c138b938603b484d0421bfbd36de2e&client_secret_expires_at=1378985750
2013-09-11 14:44:04,166 root:INFO RP server starting listening on port:8666
2013-09-11 14:44:09,962 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 14:44:09,963 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10c172450>, 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10c172490>, 'client_secret': 'None', 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10c172450>, 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10c172490>, 'client_secret': 'None', 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'PORT': 8666}
2013-09-11 14:44:15,519 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 14:44:15,558 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-11 14:44:15,560 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 14:44:15,581 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-11 14:44:15,584 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 14:44:15,754 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 14:44:16,213 rp.openidconnect:DEBUG Registering RP
2013-09-11 14:44:16,615 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 14:44:16,644 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-11 14:44:16,646 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 14:44:16,827 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378899856&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3Dg6QLAbxaCSvD&registration_access_token=DZnSlA1SUGUTSXpiEAZRhF4AlNDAyVLs&client_id=g6QLAbxaCSvD&client_secret=be5cf223f7529571f238b6bbcd3eb8fa00ea6b8e3ef0eb197f334966&client_secret_expires_at=1378986256
2013-09-11 14:46:20,462 root:INFO RP server starting listening on port:8666
2013-09-11 14:46:26,313 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 14:46:26,314 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x108196450>, 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x108196490>, 'client_secret': 'None', 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x108196450>, 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x108196490>, 'client_secret': 'None', 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'PORT': 8666}
2013-09-11 14:46:31,479 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 14:46:31,518 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-11 14:46:31,520 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 14:46:31,542 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-11 14:46:31,544 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 14:46:31,714 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 14:46:32,055 rp.openidconnect:DEBUG Registering RP
2013-09-11 14:46:32,500 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 14:46:32,528 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-11 14:46:32,530 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 14:46:32,690 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378899992&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3D9WoQibiR9QKx&registration_access_token=l5cDfrYLmd7a3rinXnBFfNBG2F3UQsic&client_id=9WoQibiR9QKx&client_secret=704b7af35880e7934e1b05657c68c0f0b4b47a7660a27dbf695117b5&client_secret_expires_at=1378986392
2013-09-11 14:46:39,938 rp.openidconnect:DEBUG Session: {'test': 1, '_accessed_time': 1378903584.168141, 'service': u'https://localhost:8092/', '_creation_time': 1378903584.168141}
2013-09-11 14:55:16,349 root:INFO RP server starting listening on port:8666
2013-09-11 14:55:22,272 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 14:55:22,272 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10ed74490>, 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10ed744d0>, 'client_secret': 'None', 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10ed74490>, 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10ed744d0>, 'client_secret': 'None', 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'PORT': 8666}
2013-09-11 14:55:27,198 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 14:55:27,237 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-11 14:55:27,239 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 14:55:27,260 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-11 14:55:27,263 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 14:55:27,480 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 14:55:27,863 rp.openidconnect:DEBUG Registering RP
2013-09-11 14:55:28,239 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 14:55:28,267 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-11 14:55:28,269 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 14:55:28,464 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378900528&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DQMYwUHCkQ7xi&registration_access_token=r131scORn5lh2A2dfp70ljLfSO2KtQ8a&client_id=QMYwUHCkQ7xi&client_secret=98b82dfc22b6f2205a29c4396885afadc50efabbb6c57683ac4527e8&client_secret_expires_at=1378986928
2013-09-11 14:57:20,579 root:INFO RP server starting listening on port:8666
2013-09-11 14:57:36,761 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 14:57:36,762 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x101f31490>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x101f314d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x101f31490>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x101f314d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'PORT': 8666}
2013-09-11 14:57:38,296 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 14:57:38,336 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-11 14:57:38,338 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 14:57:38,358 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-11 14:57:38,360 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 14:57:38,363 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 14:57:38,363 rp.openidconnect:DEBUG Registering RP
2013-09-11 14:57:38,371 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 14:57:38,402 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-11 14:57:38,404 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 14:57:38,406 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378900658&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3D5zJKUsidpEJn&registration_access_token=6VmNkryN4u35FfQacowKwITfI8ySnvYc&client_id=5zJKUsidpEJn&client_secret=eac9703432f1956a13756517827d5da7a44f773b1ad85ae1c79c3223&client_secret_expires_at=1378987058
2013-09-11 14:57:38,407 rp.openidconnect:DEBUG Session: {'test': 1, '_accessed_time': 1378904253.688898, 'service': u'https://localhost:8092/', '_creation_time': 1378904253.688898}
2013-09-11 15:00:58,407 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 15:00:58,408 root:INFO [static]sending: static/style.css
2013-09-11 15:00:58,409 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 15:00:58,412 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 15:02:55,840 root:INFO RP server starting listening on port:8666
2013-09-11 15:03:00,831 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 15:03:00,832 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 15:03:00,833 root:INFO [static]sending: static/style.css
2013-09-11 15:03:00,834 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 15:03:09,492 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 15:03:09,493 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 15:03:09,493 root:INFO [static]sending: static/style.css
2013-09-11 15:03:09,494 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 15:04:03,767 root:INFO RP server starting listening on port:8666
2013-09-11 15:04:09,569 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 15:04:09,573 root:INFO [static]sending: static/style.css
2013-09-11 15:04:09,670 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 15:04:09,671 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 15:11:17,818 root:INFO RP server starting listening on port:8666
2013-09-11 15:12:34,003 root:INFO RP server starting listening on port:8666
2013-09-11 15:18:47,352 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 15:18:47,354 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 15:18:47,356 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 15:18:47,358 root:INFO [static]sending: static/style.css
2013-09-11 15:18:56,423 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 15:18:56,435 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 15:18:56,436 root:INFO [static]sending: static/style.css
2013-09-11 15:18:56,436 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 15:19:06,356 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 15:19:06,357 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x1094585d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x109458610>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x1094585d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x109458610>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'PORT': 8666}
2013-09-11 15:19:23,205 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 15:19:23,244 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-11 15:19:23,245 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 15:19:23,267 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-11 15:19:23,269 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 15:19:23,826 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 15:19:24,338 rp.openidconnect:DEBUG Registering RP
2013-09-11 15:19:29,015 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 15:19:29,043 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-11 15:19:29,045 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 15:19:29,554 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378901969&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DrcjSMiAun6L2&registration_access_token=vUxj6TG48ui3rD2ulDg7oQyTnyOV2gN7&client_id=rcjSMiAun6L2&client_secret=c47cc20156b3afc833698e2d92d9aff5223cd04580676562e389ded0&client_secret_expires_at=1378988369
2013-09-11 15:19:37,677 rp.openidconnect:DEBUG Session: {'test': 5, 'state': '1234', '_accessed_time': 1378905543.007063, 'service': u'https://localhost:8092/', '_creation_time': 1378905159.216814}
2013-09-11 15:20:47,215 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x109478d50>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', '1234'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'c47cc20156b3afc833698e2d92d9aff5223cd04580676562e389ded0'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10947d1d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10947d550>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'rcjSMiAun6L2'), ('registration_expires', 1378988369), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x109478a50>), ('client_prefs', {}), ('registration_access_token', u'vUxj6TG48ui3rD2ulDg7oQyTnyOV2gN7'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 15:20:47,712 rp.openidconnect:INFO request_args: {'scope': ['openid'], 'state': 'urn:uuid:685dd5e8-4f8c-4716-af1e-32d333114167', 'response_type': 'code'}
2013-09-11 15:20:50,947 rp.openidconnect:DEBUG request: scope=openid&state=urn%3Auuid%3A685dd5e8-4f8c-4716-af1e-32d333114167&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=rcjSMiAun6L2
2013-09-11 15:21:00,104 rp.openidconnect:DEBUG body: None
2013-09-11 15:35:18,152 root:INFO RP server starting listening on port:8666
2013-09-11 15:35:32,741 root:INFO RP server starting listening on port:8666
2013-09-11 15:35:42,044 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 15:35:42,045 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x107136790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1071367d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x107136790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1071367d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'PORT': 8666}
2013-09-11 15:35:45,384 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 15:35:45,424 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-11 15:35:45,425 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 15:35:45,446 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-11 15:35:45,448 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 15:35:45,451 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 15:35:45,451 rp.openidconnect:DEBUG Registering RP
2013-09-11 15:35:45,459 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 15:35:45,487 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-11 15:35:45,489 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 15:35:45,491 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378902945&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DZ6gMJOClX4qZ&registration_access_token=2w7Mzpk9mbM1rQKJ35OXu0I28PQs9922&client_id=Z6gMJOClX4qZ&client_secret=0e703e55306e81327f6a88b193576e6e7f87d9942b28a2c268efeab6&client_secret_expires_at=1378989345
2013-09-11 15:35:45,492 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10714ad50>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:6139698e-115f-419d-ac1c-c5714b2d6fa2'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'0e703e55306e81327f6a88b193576e6e7f87d9942b28a2c268efeab6'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10714add0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x105561ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'Z6gMJOClX4qZ'), ('registration_expires', 1378989345), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10714ad90>), ('client_prefs', {}), ('registration_access_token', u'2w7Mzpk9mbM1rQKJ35OXu0I28PQs9922'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 15:35:45,493 rp.openidconnect:INFO request_args: {'scope': ['openid'], 'state': 'urn:uuid:bbc830bb-c9bd-45d8-9a89-15b8c632a0f8', 'response_type': 'code'}
2013-09-11 15:35:45,494 rp.openidconnect:DEBUG request: scope=openid&state=urn%3Auuid%3Abbc830bb-c9bd-45d8-9a89-15b8c632a0f8&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=Z6gMJOClX4qZ
2013-09-11 15:35:45,495 rp.openidconnect:DEBUG body: None
2013-09-11 15:35:45,495 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid&state=urn%3Auuid%3Abbc830bb-c9bd-45d8-9a89-15b8c632a0f8&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=Z6gMJOClX4qZ
2013-09-11 15:35:45,496 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 15:35:45,496 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid&state=urn%3Auuid%3Abbc830bb-c9bd-45d8-9a89-15b8c632a0f8&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=Z6gMJOClX4qZ')]
2013-09-11 16:00:49,439 root:INFO RP server starting listening on port:8666
2013-09-11 16:01:46,510 root:INFO RP server starting listening on port:8666
2013-09-11 16:02:04,452 root:INFO [static]sending: static/style.css
2013-09-11 16:02:04,455 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 16:02:04,456 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 16:02:04,461 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 16:02:07,786 root:INFO [static]sending: static/style.css
2013-09-11 16:02:07,787 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 16:02:07,790 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 16:02:07,910 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 16:02:13,535 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 16:02:13,536 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10f486750>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f486790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10f486750>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f486790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10f4866d0>, 'PORT': 8666}
2013-09-11 16:02:15,340 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 16:02:15,379 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-11 16:02:15,381 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 16:02:15,403 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-11 16:02:15,405 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 16:02:15,407 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 16:02:15,408 rp.openidconnect:DEBUG Registering RP
2013-09-11 16:02:15,415 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 16:02:15,443 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-11 16:02:15,445 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 16:02:15,447 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378904535&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DefJs7SpEFyGz&registration_access_token=7NldS2H23IE0MQlyY9tXuXfLezhHNu0J&client_id=efJs7SpEFyGz&client_secret=15971b24a97f313b90ce6d5784fc140aac76b725d998f1a36d2f158a&client_secret_expires_at=1378990935
2013-09-11 16:02:15,449 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10f4a7490>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:d64b53a6-70bb-47e3-89cc-5df50f75d1e8'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'15971b24a97f313b90ce6d5784fc140aac76b725d998f1a36d2f158a'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10f4a7410>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10d8afad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'efJs7SpEFyGz'), ('registration_expires', 1378990935), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10f4a74d0>), ('client_prefs', {}), ('registration_access_token', u'7NldS2H23IE0MQlyY9tXuXfLezhHNu0J'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 16:02:15,450 rp.openidconnect:INFO request_args: {'scope': ['openid'], 'state': 'urn:uuid:c9a271c7-5c75-4c2e-9989-4ca2a37151f6', 'response_type': 'code'}
2013-09-11 16:02:15,451 rp.openidconnect:DEBUG request: scope=openid&state=urn%3Auuid%3Ac9a271c7-5c75-4c2e-9989-4ca2a37151f6&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=efJs7SpEFyGz
2013-09-11 16:02:15,452 rp.openidconnect:DEBUG body: None
2013-09-11 16:02:15,452 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid&state=urn%3Auuid%3Ac9a271c7-5c75-4c2e-9989-4ca2a37151f6&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=efJs7SpEFyGz
2013-09-11 16:02:15,452 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 16:02:15,453 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid&state=urn%3Auuid%3Ac9a271c7-5c75-4c2e-9989-4ca2a37151f6&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=efJs7SpEFyGz')]
2013-09-11 16:03:21,938 root:INFO RP server starting listening on port:8666
2013-09-11 16:03:28,809 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10f64a710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid&state=urn%3Auuid%3Ac9a271c7-5c75-4c2e-9989-4ca2a37151f6&code=Johc3t1z77LMR27FzOY9ViLgkN5bcXcCECPp52l6N0h7S9vd6EveZHSk1lwc3ZET', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '65338', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10f654390>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378908204.681873, '_creation_time': 1378908204.681873}, 'wsgi.multithread': True, 'HTTP_CACHE_CONTROL': 'max-age=0', 'REQUEST_URI': '/pyoidcOIC?scope=openid&state=urn%3Auuid%3Ac9a271c7-5c75-4c2e-9989-4ca2a37151f6&code=Johc3t1z77LMR27FzOY9ViLgkN5bcXcCECPp52l6N0h7S9vd6EveZHSk1lwc3ZET', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10d9c8270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=ebf96a9fd1124a77b3ef57eed0f02ff6; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 16:03:29,277 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid'], 'state': ['urn:uuid:c9a271c7-5c75-4c2e-9989-4ca2a37151f6'], 'code': ['Johc3t1z77LMR27FzOY9ViLgkN5bcXcCECPp52l6N0h7S9vd6EveZHSk1lwc3ZET']}
2013-09-11 16:03:53,847 idpproxy:INFO ## Traceback (most recent call last):
2013-09-11 16:03:53,847 idpproxy:INFO ##   File "/Users/haho0032/githubFork/pyoidc/rp/__init__.py", line 56, in callback
    result = self.phaseN(environ, query, server_env, session)
2013-09-11 16:03:53,848 idpproxy:INFO ##   File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 207, in phaseN
    client = server_env["OIC_CLIENT"][self.opKey]
2013-09-11 16:03:53,848 idpproxy:INFO ## KeyError: 'pyoidcOIC'
2013-09-11 16:04:00,110 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10f64a710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid&state=urn%3Auuid%3Ac9a271c7-5c75-4c2e-9989-4ca2a37151f6&code=Johc3t1z77LMR27FzOY9ViLgkN5bcXcCECPp52l6N0h7S9vd6EveZHSk1lwc3ZET', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '65352', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10f5a5350>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378908237.163341, '_creation_time': 1378908237.163341}, 'wsgi.multithread': True, 'HTTP_CACHE_CONTROL': 'max-age=0', 'REQUEST_URI': '/pyoidcOIC?scope=openid&state=urn%3Auuid%3Ac9a271c7-5c75-4c2e-9989-4ca2a37151f6&code=Johc3t1z77LMR27FzOY9ViLgkN5bcXcCECPp52l6N0h7S9vd6EveZHSk1lwc3ZET', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10d9c8270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=ebf96a9fd1124a77b3ef57eed0f02ff6; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 16:04:00,398 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid'], 'state': ['urn:uuid:c9a271c7-5c75-4c2e-9989-4ca2a37151f6'], 'code': ['Johc3t1z77LMR27FzOY9ViLgkN5bcXcCECPp52l6N0h7S9vd6EveZHSk1lwc3ZET']}
2013-09-11 16:07:15,982 root:INFO RP server starting listening on port:8666
2013-09-11 16:07:20,472 root:INFO [static]sending: static/style.css
2013-09-11 16:07:20,478 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 16:07:20,479 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 16:07:20,480 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 16:07:22,506 root:INFO [static]sending: static/style.css
2013-09-11 16:07:22,509 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 16:07:22,511 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 16:07:22,513 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 16:07:27,105 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 16:07:27,106 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10bbce750>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10bbce790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10bbce750>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10bbce790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10bbce6d0>, 'PORT': 8666}
2013-09-11 16:07:28,097 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 16:07:28,136 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-11 16:07:28,138 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 16:07:28,159 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-11 16:07:28,161 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 16:07:28,164 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 16:07:28,164 rp.openidconnect:DEBUG Registering RP
2013-09-11 16:07:28,172 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 16:07:28,200 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-11 16:07:28,202 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 16:07:28,204 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378904848&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DUY47QeTkWhTn&registration_access_token=7dlNXNP5PV7fZqVrmjOX7oI0hlXm7OCs&client_id=UY47QeTkWhTn&client_secret=f31ef1e18df833ba20b00c6779c4f7210ca04e9f5c512bfb944f5442&client_secret_expires_at=1378991248
2013-09-11 16:07:28,205 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10bbe1e50>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:5fbba635-0a20-43aa-9553-4c463655bec6'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'f31ef1e18df833ba20b00c6779c4f7210ca04e9f5c512bfb944f5442'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10bbee1d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10bbe7150>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'UY47QeTkWhTn'), ('registration_expires', 1378991248), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10bbee190>), ('client_prefs', {}), ('registration_access_token', u'7dlNXNP5PV7fZqVrmjOX7oI0hlXm7OCs'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 16:07:28,205 rp.openidconnect:INFO request_args: {'scope': ['openid'], 'state': 'urn:uuid:e061b351-f6e2-4ccf-93d6-1355100890b3', 'response_type': 'code'}
2013-09-11 16:07:28,206 rp.openidconnect:DEBUG request: scope=openid&state=urn%3Auuid%3Ae061b351-f6e2-4ccf-93d6-1355100890b3&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=UY47QeTkWhTn
2013-09-11 16:07:28,207 rp.openidconnect:DEBUG body: None
2013-09-11 16:07:28,208 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid&state=urn%3Auuid%3Ae061b351-f6e2-4ccf-93d6-1355100890b3&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=UY47QeTkWhTn
2013-09-11 16:07:28,208 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 16:07:28,209 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid&state=urn%3Auuid%3Ae061b351-f6e2-4ccf-93d6-1355100890b3&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=UY47QeTkWhTn')]
2013-09-11 16:07:43,385 root:INFO RP server starting listening on port:8666
2013-09-11 16:08:28,661 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 16:08:28,661 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10d640750>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d640790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10d640750>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d640790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10d6406d0>, 'PORT': 8666}
2013-09-11 16:08:30,105 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 16:08:30,145 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-11 16:08:30,147 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 16:08:30,167 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-11 16:08:30,169 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 16:08:30,171 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 16:08:30,172 rp.openidconnect:DEBUG Registering RP
2013-09-11 16:08:30,181 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 16:08:30,210 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-11 16:08:30,212 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 16:08:30,214 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378904910&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DKArEVMMLn8Yz&registration_access_token=MepdU0t2x6F5BXWErjXKzZXAWhnrEgph&client_id=KArEVMMLn8Yz&client_secret=494d16cbea2054d65fe01bb7f9d160054cd8073847698144342cd85c&client_secret_expires_at=1378991310
2013-09-11 16:08:30,215 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10d653d50>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:4c338190-9d96-415c-b62a-ff54f54bba4f'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'494d16cbea2054d65fe01bb7f9d160054cd8073847698144342cd85c'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10d653dd0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10ba69ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'KArEVMMLn8Yz'), ('registration_expires', 1378991310), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10d653d90>), ('client_prefs', {}), ('registration_access_token', u'MepdU0t2x6F5BXWErjXKzZXAWhnrEgph'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 16:08:30,216 rp.openidconnect:INFO request_args: {'scope': ['openid'], 'state': 'urn:uuid:10298d2f-e2b1-49e1-912e-f4b67efd9da9', 'response_type': 'code'}
2013-09-11 16:08:30,217 rp.openidconnect:DEBUG request: scope=openid&state=urn%3Auuid%3A10298d2f-e2b1-49e1-912e-f4b67efd9da9&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=KArEVMMLn8Yz
2013-09-11 16:08:30,217 rp.openidconnect:DEBUG body: None
2013-09-11 16:08:30,218 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid&state=urn%3Auuid%3A10298d2f-e2b1-49e1-912e-f4b67efd9da9&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=KArEVMMLn8Yz
2013-09-11 16:08:30,218 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 16:08:30,219 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid&state=urn%3Auuid%3A10298d2f-e2b1-49e1-912e-f4b67efd9da9&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=KArEVMMLn8Yz')]
2013-09-11 16:08:59,027 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_COOKIE': 'beaker.session.id=ebf96a9fd1124a77b3ef57eed0f02ff6; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10d640710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'HTTP_ORIGIN': 'https://localhost:8092', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid&state=urn%3Auuid%3A10298d2f-e2b1-49e1-912e-f4b67efd9da9&code=5Q99%2F%2FdzY7q4CrA%2BsmTpo4irLJE1yuKQHK0JWawuJRlO4qMVxHZCkC5ut6VfSmx0', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '65401', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10ba69fd0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'authentication': 'VERIFY', '_accessed_time': 1378908533.808248, 'service': u'https://localhost:8092/', '_creation_time': 1378908505.600442, 'authn_auth': u'https://localhost:8092/authorization'}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid&state=urn%3Auuid%3A10298d2f-e2b1-49e1-912e-f4b67efd9da9&code=5Q99%2F%2FdzY7q4CrA%2BsmTpo4irLJE1yuKQHK0JWawuJRlO4qMVxHZCkC5ut6VfSmx0', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10b9bd270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate'}
2013-09-11 16:08:59,294 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid'], 'state': ['urn:uuid:10298d2f-e2b1-49e1-912e-f4b67efd9da9'], 'code': ['5Q99//dzY7q4CrA+smTpo4irLJE1yuKQHK0JWawuJRlO4qMVxHZCkC5ut6VfSmx0']}
2013-09-11 16:09:03,732 rp.openidconnect:DEBUG info: {'scope': ['openid'], 'state': ['urn:uuid:10298d2f-e2b1-49e1-912e-f4b67efd9da9'], 'code': ['5Q99//dzY7q4CrA+smTpo4irLJE1yuKQHK0JWawuJRlO4qMVxHZCkC5ut6VfSmx0']}
2013-09-11 16:09:04,257 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 16:09:04,283 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-11 16:09:04,291 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 16:09:12,716 rp.openidconnect:DEBUG callback environ: {'HTTP_COOKIE': 'beaker.session.id=ebf96a9fd1124a77b3ef57eed0f02ff6; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10d640710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'HTTP_ORIGIN': 'https://localhost:8092', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid&state=urn%3Auuid%3A10298d2f-e2b1-49e1-912e-f4b67efd9da9&code=5Q99%2F%2FdzY7q4CrA%2BsmTpo4irLJE1yuKQHK0JWawuJRlO4qMVxHZCkC5ut6VfSmx0', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '65401', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10ba69fd0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'authentication': 'VERIFY', '_accessed_time': 1378908533.808248, 'service': u'https://localhost:8092/', '_creation_time': 1378908505.600442, 'authn_auth': u'https://localhost:8092/authorization'}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid&state=urn%3Auuid%3A10298d2f-e2b1-49e1-912e-f4b67efd9da9&code=5Q99%2F%2FdzY7q4CrA%2BsmTpo4irLJE1yuKQHK0JWawuJRlO4qMVxHZCkC5ut6VfSmx0', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10b9bd270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate'}
2013-09-11 16:09:15,920 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10d58f368>]
2013-09-11 16:09:15,921 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=5Q99%2F%2FdzY7q4CrA%2BsmTpo4irLJE1yuKQHK0JWawuJRlO4qMVxHZCkC5ut6VfSmx0&client_secret=494d16cbea2054d65fe01bb7f9d160054cd8073847698144342cd85c&grant_type=authorization_code&client_id=KArEVMMLn8Yz&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 16:09:15,922 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 16:09:15,927 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 16:09:15,963 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 16:09:15,965 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 16:09:15,965 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 14:09:15 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 16:09:15,966 oic.oauth2:DEBUG resp.txt: {"access_token": "5Q99//dzY7q4CrA+smTpo/ByWxBnqTC0nlHboxpbCew0p4kcjAn9IOsciaYuc94O", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIktBckVWTU1MbjhZeiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk4Nzc1NSwgImlhdCI6IDEzNzg5MDg1NTUsICJzdWIiOiAiaGFobzAwMzIifQ.hWtZWYn9aFDiCiRfADRWz-zyLaTVwbmbuFHn2_zo8l4ZFUGYmUvI_S_YCyLcCtWaG0eSxIvqy4XeT4WjIELdjKIdwTO8SKGTwcjeDGPYmjLkjj5qP1wWemx79XsqIYko1zgto1hTEI2Rv55iwC2S49sW2hxACfRpEWjIqvWZv68wX_xF-AQ2_kBr8uN4fAQ4K-OMgrD9qMWdmPO4_qj3qqI-HmXBxFZx7ywTqS5qJC34Q375RxXNNI8HGxjpDnN23tSxeRqd79RjLm3XCaG-eQ9n2uqKWru_a3guCA0cdhXEVPNYpzQuKlGF-c3uwYOzA3i73eMuPcxVz03_mv6BnA", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:10298d2f-e2b1-49e1-912e-f4b67efd9da9", "scope": "openid", "refresh_token": "5Q99//dzY7q4CrA+smTpo8zJRSKPlK2+w04cDqG06DiRT6Hq4dGeldd14xGzHNZO"}
2013-09-11 16:09:15,967 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 16:09:40,007 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'5Q99//dzY7q4CrA+smTpo/ByWxBnqTC0nlHboxpbCew0p4kcjAn9IOsciaYuc94O', 'request': 'openid', 'schema': 'openid'}
2013-09-11 16:09:40,008 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=5Q99%2F%2FdzY7q4CrA%2BsmTpo%2FByWxBnqTC0nlHboxpbCew0p4kcjAn9IOsciaYuc94O H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 16:09:40,012 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 16:09:40,042 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 16:09:40,045 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 16:09:40,047 oic.oic:DEBUG Reponse text: '{"sub": "haho0032"}'
2013-09-11 16:12:05,854 root:INFO RP server starting listening on port:8666
2013-09-11 16:12:13,593 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 16:12:13,595 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 16:12:13,596 root:INFO [static]sending: static/style.css
2013-09-11 16:12:13,697 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 16:12:15,921 root:INFO [static]sending: static/style.css
2013-09-11 16:12:15,923 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 16:12:15,924 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 16:12:15,925 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 16:12:17,392 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 16:12:17,392 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x104b76790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x104b767d0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x104b76790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x104b767d0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x104b76710>, 'PORT': 8666}
2013-09-11 16:12:17,405 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 16:12:17,431 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-11 16:12:17,432 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 16:12:17,442 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-11 16:12:17,442 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 16:12:17,443 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 16:12:17,443 rp.openidconnect:DEBUG Registering RP
2013-09-11 16:12:17,444 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 16:12:17,470 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-11 16:12:17,471 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 16:12:17,471 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378905137&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DudR8qZ0pyhtj&registration_access_token=Wb7bhTQcq75F7mxvd8CPvm07j8PuFbut&client_id=udR8qZ0pyhtj&client_secret=c00407c0c21760ad110b4741fd55cd93a8e1d7240c0d11672ad1e781&client_secret_expires_at=1378991537
2013-09-11 16:12:17,472 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x104b85890>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:25e4310a-0a18-489a-9e50-cada6077e7be'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'c00407c0c21760ad110b4741fd55cd93a8e1d7240c0d11672ad1e781'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x104b85790>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x1040a8ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'udR8qZ0pyhtj'), ('registration_expires', 1378991537), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x104b85850>), ('client_prefs', {}), ('registration_access_token', u'Wb7bhTQcq75F7mxvd8CPvm07j8PuFbut'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 16:12:17,472 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:96045fda-cc09-48fb-9f0f-cf5528d3f778', 'response_type': 'code'}
2013-09-11 16:12:17,472 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A96045fda-cc09-48fb-9f0f-cf5528d3f778&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=udR8qZ0pyhtj
2013-09-11 16:12:17,472 rp.openidconnect:DEBUG body: None
2013-09-11 16:12:17,472 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A96045fda-cc09-48fb-9f0f-cf5528d3f778&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=udR8qZ0pyhtj
2013-09-11 16:12:17,473 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 16:12:17,473 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A96045fda-cc09-48fb-9f0f-cf5528d3f778&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=udR8qZ0pyhtj')]
2013-09-11 16:12:17,521 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x104b76750>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A96045fda-cc09-48fb-9f0f-cf5528d3f778&code=YI6FF8Ysy4rbmOno6a5%2BCQYhow1CMeg8HjGApIyNzjqQ6XyFhAQ%2BP1U49%2FS3Md71', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '65425', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x104b81210>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'authentication': 'VERIFY', '_accessed_time': 1378908737.520977, 'service': u'https://localhost:8092/', '_creation_time': 1378908733.487471, 'authn_auth': u'https://localhost:8092/authorization'}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A96045fda-cc09-48fb-9f0f-cf5528d3f778&code=YI6FF8Ysy4rbmOno6a5%2BCQYhow1CMeg8HjGApIyNzjqQ6XyFhAQ%2BP1U49%2FS3Md71', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x103ffc270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=ebf96a9fd1124a77b3ef57eed0f02ff6; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 16:12:17,521 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:96045fda-cc09-48fb-9f0f-cf5528d3f778'], 'code': ['YI6FF8Ysy4rbmOno6a5+CQYhow1CMeg8HjGApIyNzjqQ6XyFhAQ+P1U49/S3Md71']}
2013-09-11 16:12:17,521 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:96045fda-cc09-48fb-9f0f-cf5528d3f778'], 'code': ['YI6FF8Ysy4rbmOno6a5+CQYhow1CMeg8HjGApIyNzjqQ6XyFhAQ+P1U49/S3Md71']}
2013-09-11 16:12:17,522 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 16:12:17,547 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-11 16:12:17,548 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 16:12:17,549 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x104b76750>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A96045fda-cc09-48fb-9f0f-cf5528d3f778&code=YI6FF8Ysy4rbmOno6a5%2BCQYhow1CMeg8HjGApIyNzjqQ6XyFhAQ%2BP1U49%2FS3Md71', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '65425', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x104b81210>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'authentication': 'VERIFY', '_accessed_time': 1378908737.520977, 'service': u'https://localhost:8092/', '_creation_time': 1378908733.487471, 'authn_auth': u'https://localhost:8092/authorization'}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A96045fda-cc09-48fb-9f0f-cf5528d3f778&code=YI6FF8Ysy4rbmOno6a5%2BCQYhow1CMeg8HjGApIyNzjqQ6XyFhAQ%2BP1U49%2FS3Md71', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x103ffc270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=ebf96a9fd1124a77b3ef57eed0f02ff6; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 16:12:17,549 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x104af47a0>]
2013-09-11 16:12:17,549 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=YI6FF8Ysy4rbmOno6a5%2BCQYhow1CMeg8HjGApIyNzjqQ6XyFhAQ%2BP1U49%2FS3Md71&client_secret=c00407c0c21760ad110b4741fd55cd93a8e1d7240c0d11672ad1e781&grant_type=authorization_code&client_id=udR8qZ0pyhtj&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 16:12:17,549 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 16:12:17,550 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 16:12:17,585 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 16:12:17,585 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 16:12:17,585 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 14:12:17 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 16:12:17,586 oic.oauth2:DEBUG resp.txt: {"access_token": "YI6FF8Ysy4rbmOno6a5+CeBjToJHHDKBwOs/55ZLhH1H09ypuhfvCOtHpMchGXEs", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbInVkUjhxWjBweWh0aiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk4NzkzNywgImlhdCI6IDEzNzg5MDg3MzcsICJzdWIiOiAiaGFobzAwMzIifQ.1Cj4fSD9N-zg7llxy-B1cEr-4RFghguRLSc86evVFwSHgclwMieVGaj0lmiihn7WvkOGkPTBhMSx-dxUJ_ujeRJI9MoBh4FySJPyCEiDlnz824LV1iR6AJfx0H4fMLMpkeOdgGGhWUi3RG_l7XXohHSuSsEDR6HR-BeA7AZEbBUAJiy3iIaUTqMer5k9kfYX4SJHlJsZEwv80bVd-F5ROm4yX0r4wkQ-LNSpTrSul8qZzmJg-dXdhgZZNbCG7lg2SkoWxjblUIVsb7gbtGNuQgccdAX8d6qxmU85Dsbgfga-PZZ9OUbgyhvIsRCFJZVrS6NZ0ZcfCjgd2-gll4p8mA", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:96045fda-cc09-48fb-9f0f-cf5528d3f778", "scope": "openid profile", "refresh_token": "YI6FF8Ysy4rbmOno6a5+CZFVOkKi9coLE5iTiOcDK5HIwKQSV46rxLu/4cvAo4FX"}
2013-09-11 16:12:17,586 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 16:12:17,587 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'YI6FF8Ysy4rbmOno6a5+CeBjToJHHDKBwOs/55ZLhH1H09ypuhfvCOtHpMchGXEs', 'request': 'openid', 'schema': 'openid'}
2013-09-11 16:12:17,587 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=YI6FF8Ysy4rbmOno6a5%2BCeBjToJHHDKBwOs%2F55ZLhH1H09ypuhfvCOtHpMchGXEs H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 16:12:17,588 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 16:12:17,614 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 16:12:17,614 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 16:12:17,614 oic.oic:DEBUG Reponse text: '{"sub": "haho0032"}'
2013-09-11 16:12:17,615 idpproxy:INFO ## Traceback (most recent call last):
2013-09-11 16:12:17,615 idpproxy:INFO ##   File "/Users/haho0032/githubFork/pyoidc/rp/__init__.py", line 56, in callback
    result = self.phaseN(environ, query, server_env, session)
2013-09-11 16:12:17,615 idpproxy:INFO ##   File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 247, in phaseN
    userinfo = self.convert(userinfo)
2013-09-11 16:12:17,615 idpproxy:INFO ## AttributeError: 'pyoidcOIC' object has no attribute 'convert'
2013-09-11 16:14:14,131 root:INFO RP server starting listening on port:8666
2013-09-11 16:14:17,132 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_COOKIE': 'beaker.session.id=ebf96a9fd1124a77b3ef57eed0f02ff6; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10580b750>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A96045fda-cc09-48fb-9f0f-cf5528d3f778&code=YI6FF8Ysy4rbmOno6a5%2BCQYhow1CMeg8HjGApIyNzjqQ6XyFhAQ%2BP1U49%2FS3Md71', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '65450', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x105817290>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378908857.132261, '_creation_time': 1378908857.132261}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A96045fda-cc09-48fb-9f0f-cf5528d3f778&code=YI6FF8Ysy4rbmOno6a5%2BCQYhow1CMeg8HjGApIyNzjqQ6XyFhAQ%2BP1U49%2FS3Md71', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x104c92270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate'}
2013-09-11 16:14:17,132 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:96045fda-cc09-48fb-9f0f-cf5528d3f778'], 'code': ['YI6FF8Ysy4rbmOno6a5+CQYhow1CMeg8HjGApIyNzjqQ6XyFhAQ+P1U49/S3Md71']}
2013-09-11 16:14:38,426 root:INFO [static]sending: static/style.css
2013-09-11 16:14:38,429 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 16:14:38,430 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 16:14:38,557 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 16:14:40,591 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 16:14:40,591 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 16:14:40,591 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 16:14:40,592 root:INFO [static]sending: static/style.css
2013-09-11 16:14:41,845 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 16:14:41,845 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10580b790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10580b7d0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10580b790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10580b7d0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10580b710>, 'PORT': 8666}
2013-09-11 16:14:41,859 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 16:14:41,885 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-11 16:14:41,886 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 16:14:41,896 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-11 16:14:41,896 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 16:14:41,897 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 16:14:41,897 rp.openidconnect:DEBUG Registering RP
2013-09-11 16:14:41,898 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 16:14:41,925 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-11 16:14:41,926 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 16:14:41,926 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378905281&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DVG2SAwFiI4ZV&registration_access_token=AwrmYUpqNS5AFsKy1AcnmRtyfY4HxBKG&client_id=VG2SAwFiI4ZV&client_secret=ab2402355555752c1a490a723c754d4defb1191bd642c9a2c880cf3b&client_secret_expires_at=1378991681
2013-09-11 16:14:41,927 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10579bb90>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:1e33024f-4834-461b-8dc6-eac2fbd71560'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'ab2402355555752c1a490a723c754d4defb1191bd642c9a2c880cf3b'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x1057a2150>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x104d3dad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'VG2SAwFiI4ZV'), ('registration_expires', 1378991681), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10579be10>), ('client_prefs', {}), ('registration_access_token', u'AwrmYUpqNS5AFsKy1AcnmRtyfY4HxBKG'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 16:14:41,927 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:06682bd5-2d8d-484d-bdc1-491e865d002b', 'response_type': 'code'}
2013-09-11 16:14:41,927 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A06682bd5-2d8d-484d-bdc1-491e865d002b&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=VG2SAwFiI4ZV
2013-09-11 16:14:41,927 rp.openidconnect:DEBUG body: None
2013-09-11 16:14:41,927 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A06682bd5-2d8d-484d-bdc1-491e865d002b&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=VG2SAwFiI4ZV
2013-09-11 16:14:41,927 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 16:14:41,927 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A06682bd5-2d8d-484d-bdc1-491e865d002b&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=VG2SAwFiI4ZV')]
2013-09-11 16:14:41,961 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10580b750>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A06682bd5-2d8d-484d-bdc1-491e865d002b&code=lWyBpeDLK92w8j7Z82babL42ja1l3DvPotNirhbLbHI4MHPqa%2BlUtC8s7xbZCQn2', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '65453', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x105817250>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'authentication': 'VERIFY', '_accessed_time': 1378908881.9609, 'service': u'https://localhost:8092/', '_creation_time': 1378908857.132261, 'authn_auth': u'https://localhost:8092/authorization'}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A06682bd5-2d8d-484d-bdc1-491e865d002b&code=lWyBpeDLK92w8j7Z82babL42ja1l3DvPotNirhbLbHI4MHPqa%2BlUtC8s7xbZCQn2', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x104c92270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=ebf96a9fd1124a77b3ef57eed0f02ff6; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 16:14:41,961 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:06682bd5-2d8d-484d-bdc1-491e865d002b'], 'code': ['lWyBpeDLK92w8j7Z82babL42ja1l3DvPotNirhbLbHI4MHPqa+lUtC8s7xbZCQn2']}
2013-09-11 16:14:41,961 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:06682bd5-2d8d-484d-bdc1-491e865d002b'], 'code': ['lWyBpeDLK92w8j7Z82babL42ja1l3DvPotNirhbLbHI4MHPqa+lUtC8s7xbZCQn2']}
2013-09-11 16:14:41,962 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 16:14:41,989 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-11 16:14:41,994 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 16:14:41,994 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10580b750>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A06682bd5-2d8d-484d-bdc1-491e865d002b&code=lWyBpeDLK92w8j7Z82babL42ja1l3DvPotNirhbLbHI4MHPqa%2BlUtC8s7xbZCQn2', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '65453', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x105817250>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'authentication': 'VERIFY', '_accessed_time': 1378908881.9609, 'service': u'https://localhost:8092/', '_creation_time': 1378908857.132261, 'authn_auth': u'https://localhost:8092/authorization'}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A06682bd5-2d8d-484d-bdc1-491e865d002b&code=lWyBpeDLK92w8j7Z82babL42ja1l3DvPotNirhbLbHI4MHPqa%2BlUtC8s7xbZCQn2', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x104c92270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=ebf96a9fd1124a77b3ef57eed0f02ff6; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 16:14:41,995 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10584bf38>]
2013-09-11 16:14:41,995 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=lWyBpeDLK92w8j7Z82babL42ja1l3DvPotNirhbLbHI4MHPqa%2BlUtC8s7xbZCQn2&client_secret=ab2402355555752c1a490a723c754d4defb1191bd642c9a2c880cf3b&grant_type=authorization_code&client_id=VG2SAwFiI4ZV&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 16:14:41,995 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 16:14:41,996 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 16:14:42,031 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 16:14:42,031 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 16:14:42,032 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 14:14:42 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 16:14:42,032 oic.oauth2:DEBUG resp.txt: {"access_token": "lWyBpeDLK92w8j7Z82babEERh3Ruj7A5Qricytp029kQ0hka3DdWIdPA4nWTePQr", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIlZHMlNBd0ZpSTRaViJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk4ODA4MiwgImlhdCI6IDEzNzg5MDg4ODIsICJzdWIiOiAiaGFobzAwMzIifQ.D6ZDElEtLlQ1tNrcw9KAmahQDzHGshtQ-FKAcJp2GG3TwQON2q9gaIJ9xtNb7pqFz1GWv_3jCTYd2vee5duhtibwXj1x-0oF4LjjSdXA1-yeuuqT3gDi9seoIQrFkk6iP13HaXaWkQoKbD8SHn-ChCpDfRpMdT-gVKQhZAzmyqZDW3RUmTPlNX2JWSL2NLf_B0t1NOqeRB4KCoj1oi2HbvTBvCP6zNdpMhizdi3dbEQwgp-cdUvHXoBLTu8JJzfTN5omJO97TSVvHJFGir3PL3pDJWXbPyn97_Ftbz3e6i8O67fMoBnFmHrvlKbI4vuSwz9yE8hsZR9XVXbD28zLeg", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:06682bd5-2d8d-484d-bdc1-491e865d002b", "scope": "openid profile", "refresh_token": "lWyBpeDLK92w8j7Z82babDnWY+GnSfRq9rfo1ldNTsmBti1bLVMxs/z0cAjvW0Ri"}
2013-09-11 16:14:42,032 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 16:14:42,033 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'lWyBpeDLK92w8j7Z82babEERh3Ruj7A5Qricytp029kQ0hka3DdWIdPA4nWTePQr', 'request': 'openid', 'schema': 'openid'}
2013-09-11 16:14:42,033 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=lWyBpeDLK92w8j7Z82babEERh3Ruj7A5Qricytp029kQ0hka3DdWIdPA4nWTePQr H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 16:14:42,034 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 16:14:42,060 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 16:14:42,060 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 16:14:42,060 oic.oic:DEBUG Reponse text: '{"sub": "haho0032"}'
2013-09-11 16:15:12,508 root:INFO RP server starting listening on port:8666
2013-09-11 16:15:24,047 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_COOKIE': 'beaker.session.id=ebf96a9fd1124a77b3ef57eed0f02ff6; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x1041eb750>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A06682bd5-2d8d-484d-bdc1-491e865d002b&code=lWyBpeDLK92w8j7Z82babL42ja1l3DvPotNirhbLbHI4MHPqa%2BlUtC8s7xbZCQn2', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '65467', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1041f9b50>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378908919.436573, '_creation_time': 1378908919.436573}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A06682bd5-2d8d-484d-bdc1-491e865d002b&code=lWyBpeDLK92w8j7Z82babL42ja1l3DvPotNirhbLbHI4MHPqa%2BlUtC8s7xbZCQn2', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x102569270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate'}
2013-09-11 16:15:24,916 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:06682bd5-2d8d-484d-bdc1-491e865d002b'], 'code': ['lWyBpeDLK92w8j7Z82babL42ja1l3DvPotNirhbLbHI4MHPqa+lUtC8s7xbZCQn2']}
2013-09-11 16:15:59,281 root:INFO [static]sending: static/style.css
2013-09-11 16:15:59,286 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 16:15:59,290 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 16:15:59,292 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 16:16:02,642 root:INFO [static]sending: static/style.css
2013-09-11 16:16:02,645 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 16:16:02,649 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 16:16:02,651 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 16:16:18,499 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 16:16:18,500 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x1041eb790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1041eb7d0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x1041eb790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1041eb7d0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x1041eb710>, 'PORT': 8666}
2013-09-11 16:16:23,642 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 16:16:23,680 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-11 16:16:23,682 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 16:16:23,704 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-11 16:16:23,707 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 16:16:23,865 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 16:16:24,296 rp.openidconnect:DEBUG Registering RP
2013-09-11 16:16:25,047 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 16:16:25,076 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-11 16:16:25,078 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 16:16:25,519 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378905385&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DuMGy7WnTZil5&registration_access_token=nuEA6gSabtJxLdimzFHE0DAXIsdgjkV1&client_id=uMGy7WnTZil5&client_secret=ba7506cc0eee9b602fd6ef2d7c2ccd8822b2d5e5c990918c9c3d3b36&client_secret_expires_at=1378991785
2013-09-11 16:16:31,752 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x104145410>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:38daa006-b6e7-44d5-ad65-e9ae861c59af'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'ba7506cc0eee9b602fd6ef2d7c2ccd8822b2d5e5c990918c9c3d3b36'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10414b310>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10414b450>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'uMGy7WnTZil5'), ('registration_expires', 1378991785), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10414b0d0>), ('client_prefs', {}), ('registration_access_token', u'nuEA6gSabtJxLdimzFHE0DAXIsdgjkV1'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 16:16:32,117 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:fedbde89-cdd1-4cc7-9620-f32cfd0309e3', 'response_type': 'code'}
2013-09-11 16:16:33,214 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Afedbde89-cdd1-4cc7-9620-f32cfd0309e3&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=uMGy7WnTZil5
2013-09-11 16:16:34,272 rp.openidconnect:DEBUG body: None
2013-09-11 16:16:34,753 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Afedbde89-cdd1-4cc7-9620-f32cfd0309e3&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=uMGy7WnTZil5
2013-09-11 16:16:34,967 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 16:16:36,274 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Afedbde89-cdd1-4cc7-9620-f32cfd0309e3&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=uMGy7WnTZil5')]
2013-09-11 16:16:48,558 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x1041eb750>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Afedbde89-cdd1-4cc7-9620-f32cfd0309e3&code=Z6j7EuG3q3Rcb8U%2F7Vj0MuJNYpGjGhf8isJ7NI1J3hnLx5GKc%2B0iBkRenrVhzxl8', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '65486', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x104145f50>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'authentication': 'VERIFY', '_accessed_time': 1378909003.929828, 'service': u'https://localhost:8092/', '_creation_time': 1378908919.436573, 'authn_auth': u'https://localhost:8092/authorization'}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3Afedbde89-cdd1-4cc7-9620-f32cfd0309e3&code=Z6j7EuG3q3Rcb8U%2F7Vj0MuJNYpGjGhf8isJ7NI1J3hnLx5GKc%2B0iBkRenrVhzxl8', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x102569270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=ebf96a9fd1124a77b3ef57eed0f02ff6; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 16:16:48,912 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:fedbde89-cdd1-4cc7-9620-f32cfd0309e3'], 'code': ['Z6j7EuG3q3Rcb8U/7Vj0MuJNYpGjGhf8isJ7NI1J3hnLx5GKc+0iBkRenrVhzxl8']}
2013-09-11 16:17:03,071 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:fedbde89-cdd1-4cc7-9620-f32cfd0309e3'], 'code': ['Z6j7EuG3q3Rcb8U/7Vj0MuJNYpGjGhf8isJ7NI1J3hnLx5GKc+0iBkRenrVhzxl8']}
2013-09-11 16:17:03,595 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 16:17:03,621 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-11 16:17:03,626 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 16:18:10,123 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x1041eb750>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Afedbde89-cdd1-4cc7-9620-f32cfd0309e3&code=Z6j7EuG3q3Rcb8U%2F7Vj0MuJNYpGjGhf8isJ7NI1J3hnLx5GKc%2B0iBkRenrVhzxl8', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '65486', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x104145f50>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'authentication': 'VERIFY', '_accessed_time': 1378909003.929828, 'service': u'https://localhost:8092/', '_creation_time': 1378908919.436573, 'authn_auth': u'https://localhost:8092/authorization'}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3Afedbde89-cdd1-4cc7-9620-f32cfd0309e3&code=Z6j7EuG3q3Rcb8U%2F7Vj0MuJNYpGjGhf8isJ7NI1J3hnLx5GKc%2B0iBkRenrVhzxl8', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x102569270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=ebf96a9fd1124a77b3ef57eed0f02ff6; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 16:18:12,348 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10423a758>]
2013-09-11 16:18:12,350 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=Z6j7EuG3q3Rcb8U%2F7Vj0MuJNYpGjGhf8isJ7NI1J3hnLx5GKc%2B0iBkRenrVhzxl8&client_secret=ba7506cc0eee9b602fd6ef2d7c2ccd8822b2d5e5c990918c9c3d3b36&grant_type=authorization_code&client_id=uMGy7WnTZil5&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 16:18:12,351 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 16:18:12,356 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 16:18:12,390 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 16:18:12,392 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 16:18:12,393 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 14:18:12 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 16:18:12,394 oic.oauth2:DEBUG resp.txt: {"access_token": "Z6j7EuG3q3Rcb8U/7Vj0Mp5Zdpd9FwsYbiS3z+CVXkqbwMlUbi3SltZLd9P6mAZ0", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbInVNR3k3V25UWmlsNSJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk4ODI5MiwgImlhdCI6IDEzNzg5MDkwOTIsICJzdWIiOiAiaGFobzAwMzIifQ.NrPs0sztRZnXkGNPpbDPP2sbj1I-3rmeT_ldzp2K95v1fHWeftiSj4OHtvyaiDJrUf2flrflbyBx7Fz4AauOwVKEZUGIra915yKwg-smFivoO6y8KT40qngsirgv3bv3tcPPwLfyqtE0wVZljn6YiBfZqipYIJxqhgrJlC5yOeE9N0bVeckUmbGseqO9IddgbZnlvA5zlV8M8lkXvv0qwLBxA3HGIRa7pdUnvXfNL9C5a_KgEKyGzjG3h_Qk90OkVXI_UZNlFLWgyO-NAgZYVPETQu10FOO9Mjss119DDZr_1sp9y_he7ptDSpMHU6utoLHYNCSOPUqQBjg3_B43-w", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:fedbde89-cdd1-4cc7-9620-f32cfd0309e3", "scope": "openid profile", "refresh_token": "Z6j7EuG3q3Rcb8U/7Vj0MguQkOXc8NgL3lJos4sH/dfcptjJQbLVW2U/rK1JgQvk"}
2013-09-11 16:18:12,395 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 16:18:16,936 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'Z6j7EuG3q3Rcb8U/7Vj0Mp5Zdpd9FwsYbiS3z+CVXkqbwMlUbi3SltZLd9P6mAZ0', 'request': 'openid', 'schema': 'openid'}
2013-09-11 16:18:16,937 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=Z6j7EuG3q3Rcb8U%2F7Vj0Mp5Zdpd9FwsYbiS3z%2BCVXkqbwMlUbi3SltZLd9P6mAZ0 H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 16:18:16,941 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 16:18:16,969 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 16:18:16,971 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 16:18:16,972 oic.oic:DEBUG Reponse text: '{"sub": "haho0032"}'
2013-09-11 17:04:48,695 root:INFO RP server starting listening on port:8666
2013-09-11 17:05:15,717 root:INFO RP server starting listening on port:8666
2013-09-11 17:05:18,305 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:05:18,306 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:05:18,307 root:INFO [static]sending: static/style.css
2013-09-11 17:05:18,397 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:05:20,019 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:05:20,020 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:05:20,024 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:05:20,029 root:INFO [static]sending: static/style.css
2013-09-11 17:05:24,064 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:05:24,065 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x109b3e690>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x109b3e6d0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x109b3e690>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x109b3e6d0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x109b3e610>, 'PORT': 8666}
2013-09-11 17:05:25,686 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:05:25,725 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-11 17:05:25,727 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:05:25,748 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-11 17:05:25,750 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 17:05:25,753 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 17:05:25,754 rp.openidconnect:DEBUG Registering RP
2013-09-11 17:05:25,761 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:05:25,789 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-11 17:05:25,791 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:05:25,793 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378908325&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DatMWOyMSmrlZ&registration_access_token=IYZg5xs9RiuyDWfj3BAAK4Y6WcyNx4pg&client_id=atMWOyMSmrlZ&client_secret=d25027ce36843a3736bd8a9613a927a86c79988bb3f27783efc34532&client_secret_expires_at=1378994725
2013-09-11 17:05:25,794 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x109b5aa10>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:b16db5e8-3b99-4ff3-a500-3e427d7e3c9a'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'd25027ce36843a3736bd8a9613a927a86c79988bb3f27783efc34532'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x109b5a950>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x107f6aad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'atMWOyMSmrlZ'), ('registration_expires', 1378994725), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x109b5a9d0>), ('client_prefs', {}), ('registration_access_token', u'IYZg5xs9RiuyDWfj3BAAK4Y6WcyNx4pg'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 17:05:25,795 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:2ff0d828-034e-422a-b1fe-f7e04478f0fb', 'response_type': 'code'}
2013-09-11 17:05:25,796 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A2ff0d828-034e-422a-b1fe-f7e04478f0fb&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=atMWOyMSmrlZ
2013-09-11 17:05:25,797 rp.openidconnect:DEBUG body: None
2013-09-11 17:05:25,797 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A2ff0d828-034e-422a-b1fe-f7e04478f0fb&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=atMWOyMSmrlZ
2013-09-11 17:05:25,797 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:05:25,798 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A2ff0d828-034e-422a-b1fe-f7e04478f0fb&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=atMWOyMSmrlZ')]
2013-09-11 17:05:28,495 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x109b3e650>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A2ff0d828-034e-422a-b1fe-f7e04478f0fb&code=UM%2FR0NaKV%2FG2JxST%2BG7yYkML5iOyhxEPewybNg45Tbq0UMqqCLGfh%2FQpAweI4R6L', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49385', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x109b52950>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378911925.850728, 'service': u'https://localhost:8092/', '_creation_time': 1378911918.218128}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A2ff0d828-034e-422a-b1fe-f7e04478f0fb&code=UM%2FR0NaKV%2FG2JxST%2BG7yYkML5iOyhxEPewybNg45Tbq0UMqqCLGfh%2FQpAweI4R6L', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x107ebf270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:05:28,495 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:2ff0d828-034e-422a-b1fe-f7e04478f0fb'], 'code': ['UM/R0NaKV/G2JxST+G7yYkML5iOyhxEPewybNg45Tbq0UMqqCLGfh/QpAweI4R6L']}
2013-09-11 17:05:43,639 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:2ff0d828-034e-422a-b1fe-f7e04478f0fb'], 'code': ['UM/R0NaKV/G2JxST+G7yYkML5iOyhxEPewybNg45Tbq0UMqqCLGfh/QpAweI4R6L']}
2013-09-11 17:05:43,644 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:05:43,670 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-11 17:05:43,675 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:05:43,676 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x109b3e650>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A2ff0d828-034e-422a-b1fe-f7e04478f0fb&code=UM%2FR0NaKV%2FG2JxST%2BG7yYkML5iOyhxEPewybNg45Tbq0UMqqCLGfh%2FQpAweI4R6L', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49385', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x109b52950>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378911925.850728, 'service': u'https://localhost:8092/', '_creation_time': 1378911918.218128}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A2ff0d828-034e-422a-b1fe-f7e04478f0fb&code=UM%2FR0NaKV%2FG2JxST%2BG7yYkML5iOyhxEPewybNg45Tbq0UMqqCLGfh%2FQpAweI4R6L', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x107ebf270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:05:43,677 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x109a8e8c0>]
2013-09-11 17:05:43,678 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=UM%2FR0NaKV%2FG2JxST%2BG7yYkML5iOyhxEPewybNg45Tbq0UMqqCLGfh%2FQpAweI4R6L&client_secret=d25027ce36843a3736bd8a9613a927a86c79988bb3f27783efc34532&grant_type=authorization_code&client_id=atMWOyMSmrlZ&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 17:05:43,679 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:05:43,683 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:05:43,719 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 17:05:43,721 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:05:43,721 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 15:05:43 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 17:05:43,722 oic.oauth2:DEBUG resp.txt: {"access_token": "UM/R0NaKV/G2JxST+G7yYk2jqzAEusTv/OdhnHJM5s2+bSCTQOLgQl6icZy7EadL", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbImF0TVdPeU1TbXJsWiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk5MTE0MywgImlhdCI6IDEzNzg5MTE5NDMsICJzdWIiOiAiaGFobzAwMzIifQ.t3fYukM8wPK1gcRNz7fTiLzBpaG6tqjiKYybA5THG4iHSnqLkD1cLqqXFk12ZaSP_lpgNYj8ey6HGig1yaBG04uLVFdlfZjJE7iOvUGQVwYQNK8znd4rruoBGSamWYr4sZ0b0hk40MMpSTG__BBNvNI7hghZTu1u35JYF5uAzDayZNY-nKEngYq0d79j7DSew_9vSj-_twBSJhkrWzmiZoIDrD0MYwwEW2t4Yiq-7CBadyu12DJrIe4A_hLrAvU7bnb_1nwH6Ow3PrB_3Et_g8ZRDdEXZK9U8Tq9kowyKmhyu1MXw5iGxQmo6lUBJqKJMmmoKZQgXsZrcA-1-yDGQw", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:2ff0d828-034e-422a-b1fe-f7e04478f0fb", "scope": "openid profile", "refresh_token": "UM/R0NaKV/G2JxST+G7yYu4vdLH6H/w70Xa7dr4cKGKjkAguQTgFwYpqmbjf8Z6w"}
2013-09-11 17:05:43,723 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 17:05:43,726 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'UM/R0NaKV/G2JxST+G7yYk2jqzAEusTv/OdhnHJM5s2+bSCTQOLgQl6icZy7EadL', 'request': 'openid', 'schema': 'openid'}
2013-09-11 17:05:43,726 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=UM%2FR0NaKV%2FG2JxST%2BG7yYk2jqzAEusTv%2FOdhnHJM5s2%2BbSCTQOLgQl6icZy7EadL H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 17:05:43,731 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:05:43,758 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 17:05:43,760 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:05:43,761 oic.oic:DEBUG Reponse text: '{"sub": "haho0032"}'
2013-09-11 17:06:21,748 rp.openidconnect:DEBUG UserInfo: sub=haho0032
2013-09-11 17:06:26,226 rp:DEBUG [do_pyoidcOIC] response: (True, {'sub': u'haho0032'})
2013-09-11 17:06:47,318 root:INFO [static]sending: static/style.css
2013-09-11 17:06:47,319 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:06:47,431 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:06:47,434 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:06:48,993 root:INFO [static]sending: static/style.css
2013-09-11 17:06:49,000 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:06:49,003 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:06:49,004 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:06:52,581 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:06:52,581 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x109b3e690>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x109b3e6d0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x109b3e690>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x109b3e6d0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOIC': <oic.oic.Client object at 0x109b5a8d0>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x109b3e610>, 'PORT': 8666}
2013-09-11 17:06:55,852 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x109b5aa10>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:2ff0d828-034e-422a-b1fe-f7e04478f0fb': <oic.oic.Grant object at 0x109a83e90>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:38bb6a8f-ebf9-4af1-8567-e6919b265482'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'd25027ce36843a3736bd8a9613a927a86c79988bb3f27783efc34532'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x109b5a950>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x107f6aad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'atMWOyMSmrlZ'), ('registration_expires', 1378994725), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x109b5a9d0>), ('client_prefs', {}), ('registration_access_token', u'IYZg5xs9RiuyDWfj3BAAK4Y6WcyNx4pg'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 17:06:55,853 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:b16db5e8-3b99-4ff3-a500-3e427d7e3c9a', 'response_type': 'code'}
2013-09-11 17:06:55,854 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Ab16db5e8-3b99-4ff3-a500-3e427d7e3c9a&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=atMWOyMSmrlZ
2013-09-11 17:06:55,855 rp.openidconnect:DEBUG body: None
2013-09-11 17:06:55,856 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ab16db5e8-3b99-4ff3-a500-3e427d7e3c9a&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=atMWOyMSmrlZ
2013-09-11 17:06:55,856 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:06:55,857 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ab16db5e8-3b99-4ff3-a500-3e427d7e3c9a&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=atMWOyMSmrlZ')]
2013-09-11 17:06:57,882 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x109b3e650>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ab16db5e8-3b99-4ff3-a500-3e427d7e3c9a&code=qpIPVc3DCRoEoQwGSpDDlNK5dOtpt798gMSIbYLEHslYYG4wor4JxfqKW9GPN8tC', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49399', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x109b86ed0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378912015.894535, 'service': u'https://localhost:8092/', '_creation_time': 1378911918.218128}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3Ab16db5e8-3b99-4ff3-a500-3e427d7e3c9a&code=qpIPVc3DCRoEoQwGSpDDlNK5dOtpt798gMSIbYLEHslYYG4wor4JxfqKW9GPN8tC', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x107ebf270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:06:57,883 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:b16db5e8-3b99-4ff3-a500-3e427d7e3c9a'], 'code': ['qpIPVc3DCRoEoQwGSpDDlNK5dOtpt798gMSIbYLEHslYYG4wor4JxfqKW9GPN8tC']}
2013-09-11 17:06:59,528 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:b16db5e8-3b99-4ff3-a500-3e427d7e3c9a'], 'code': ['qpIPVc3DCRoEoQwGSpDDlNK5dOtpt798gMSIbYLEHslYYG4wor4JxfqKW9GPN8tC']}
2013-09-11 17:06:59,529 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:06:59,530 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x109b3e650>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ab16db5e8-3b99-4ff3-a500-3e427d7e3c9a&code=qpIPVc3DCRoEoQwGSpDDlNK5dOtpt798gMSIbYLEHslYYG4wor4JxfqKW9GPN8tC', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49399', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x109b86ed0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378912015.894535, 'service': u'https://localhost:8092/', '_creation_time': 1378911918.218128}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3Ab16db5e8-3b99-4ff3-a500-3e427d7e3c9a&code=qpIPVc3DCRoEoQwGSpDDlNK5dOtpt798gMSIbYLEHslYYG4wor4JxfqKW9GPN8tC', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x107ebf270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:06:59,531 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x109a8e8c0>]
2013-09-11 17:06:59,532 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=qpIPVc3DCRoEoQwGSpDDlNK5dOtpt798gMSIbYLEHslYYG4wor4JxfqKW9GPN8tC&client_secret=d25027ce36843a3736bd8a9613a927a86c79988bb3f27783efc34532&grant_type=authorization_code&client_id=atMWOyMSmrlZ&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 17:06:59,532 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:06:59,538 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:06:59,573 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 17:06:59,575 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:06:59,575 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 15:06:59 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 17:06:59,576 oic.oauth2:DEBUG resp.txt: {"access_token": "qpIPVc3DCRoEoQwGSpDDlKpA3VoyI226qAO69tmUvHUR7kLP8fp6NCHaQx3ucZM3", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbImF0TVdPeU1TbXJsWiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk5MTIxOSwgImlhdCI6IDEzNzg5MTIwMTksICJzdWIiOiAiaGFobzAwMzIifQ.GnkkX85R8Kucp5BenPHivAb4VfFceK2jud9YGFDsmQYUB2yGhF67zh2dHfOl0uWnoj5hONWceI21sQ1eJNUaaNkiz2QMm97M21YJ_p2jfvHkp4_WRATpEfvqGDU4GJeU1rv1r55b09Q_g43bpdx9-9M4QBSHaGTtj7x3MPuHlOFuRwHNe9KKDnRJJVs0OLUuocWuNtCdWkeVmE2IeGAVzvEA_qEva08dHwqULRzNQIkEC2IytaPemhmgcNXWHHYCTMQUYm0vhnMT0UCQv5IVPSbkkUMbz1mEy3A9MLqlIRZztkEpQWmTZyQkac_bV48TB0oLiB07jUX9UcYwshNDgw", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:b16db5e8-3b99-4ff3-a500-3e427d7e3c9a", "scope": "openid profile", "refresh_token": "qpIPVc3DCRoEoQwGSpDDlAQEqvvFSLTuLNEzif/63FfBMAt3vaYnIR0em2VFXErI"}
2013-09-11 17:06:59,577 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 17:06:59,580 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'qpIPVc3DCRoEoQwGSpDDlKpA3VoyI226qAO69tmUvHUR7kLP8fp6NCHaQx3ucZM3', 'request': 'openid', 'schema': 'openid'}
2013-09-11 17:06:59,580 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=qpIPVc3DCRoEoQwGSpDDlKpA3VoyI226qAO69tmUvHUR7kLP8fp6NCHaQx3ucZM3 H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 17:06:59,585 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:06:59,612 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 17:06:59,614 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:06:59,615 oic.oic:DEBUG Reponse text: '{"sub": "haho0032"}'
2013-09-11 17:07:01,696 rp.openidconnect:DEBUG UserInfo: sub=haho0032
2013-09-11 17:07:05,791 rp:DEBUG [do_pyoidcOIC] response: (True, {'sub': u'haho0032'})
2013-09-11 17:08:57,464 root:INFO RP server starting listening on port:8666
2013-09-11 17:09:12,241 root:INFO [static]sending: static/style.css
2013-09-11 17:09:12,246 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:09:12,251 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:09:12,254 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:09:13,893 root:INFO [static]sending: static/style.css
2013-09-11 17:09:13,898 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:09:13,899 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:09:13,902 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:09:18,336 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:09:18,336 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10fe9b650>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10fe9b690>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10fe9b650>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10fe9b690>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10fe9b5d0>, 'PORT': 8666}
2013-09-11 17:09:18,899 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:09:18,937 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-11 17:09:18,939 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:09:18,961 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-11 17:09:18,963 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 17:09:18,966 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 17:09:18,966 rp.openidconnect:DEBUG Registering RP
2013-09-11 17:09:18,973 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:09:19,001 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-11 17:09:19,002 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:09:19,004 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378908558&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3D8KpXwnkjPvMz&registration_access_token=bg1nU4vMbb1hDekGSmbDvDxRDEhqDpSy&client_id=8KpXwnkjPvMz&client_secret=69b079466ebfcf9c0a52fc24e206c2ba3aed128291357b6abd6c8fcc&client_secret_expires_at=1378994958
2013-09-11 17:09:19,006 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10feacb90>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:2b5ae23f-79e6-4bf5-bc11-9812c20531f2'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'69b079466ebfcf9c0a52fc24e206c2ba3aed128291357b6abd6c8fcc'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10feba090>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10e2c3ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'8KpXwnkjPvMz'), ('registration_expires', 1378994958), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10feac990>), ('client_prefs', {}), ('registration_access_token', u'bg1nU4vMbb1hDekGSmbDvDxRDEhqDpSy'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 17:09:19,006 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:13a7ca55-1cca-4799-b84f-6f773f530638', 'response_type': 'code'}
2013-09-11 17:09:19,007 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A13a7ca55-1cca-4799-b84f-6f773f530638&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=8KpXwnkjPvMz
2013-09-11 17:09:19,008 rp.openidconnect:DEBUG body: None
2013-09-11 17:09:19,008 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A13a7ca55-1cca-4799-b84f-6f773f530638&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=8KpXwnkjPvMz
2013-09-11 17:09:19,009 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:09:19,009 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A13a7ca55-1cca-4799-b84f-6f773f530638&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=8KpXwnkjPvMz')]
2013-09-11 17:09:20,529 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10fe9b610>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A13a7ca55-1cca-4799-b84f-6f773f530638&code=CIEnRiFncrSwCZjOD3ksbWB5yX5WJVyD8y4R5qNG56EoyOIiCLig%2Fkvk768iYw6o', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49440', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10fea4c10>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378912159.044718, 'service': u'https://localhost:8092/', '_creation_time': 1378912152.065107}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A13a7ca55-1cca-4799-b84f-6f773f530638&code=CIEnRiFncrSwCZjOD3ksbWB5yX5WJVyD8y4R5qNG56EoyOIiCLig%2Fkvk768iYw6o', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10e218270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:09:20,530 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:13a7ca55-1cca-4799-b84f-6f773f530638'], 'code': ['CIEnRiFncrSwCZjOD3ksbWB5yX5WJVyD8y4R5qNG56EoyOIiCLig/kvk768iYw6o']}
2013-09-11 17:09:22,377 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:13a7ca55-1cca-4799-b84f-6f773f530638'], 'code': ['CIEnRiFncrSwCZjOD3ksbWB5yX5WJVyD8y4R5qNG56EoyOIiCLig/kvk768iYw6o']}
2013-09-11 17:09:22,381 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:09:22,406 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-11 17:09:22,411 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:09:22,412 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10fe9b610>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A13a7ca55-1cca-4799-b84f-6f773f530638&code=CIEnRiFncrSwCZjOD3ksbWB5yX5WJVyD8y4R5qNG56EoyOIiCLig%2Fkvk768iYw6o', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49440', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10fea4c10>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378912159.044718, 'service': u'https://localhost:8092/', '_creation_time': 1378912152.065107}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A13a7ca55-1cca-4799-b84f-6f773f530638&code=CIEnRiFncrSwCZjOD3ksbWB5yX5WJVyD8y4R5qNG56EoyOIiCLig%2Fkvk768iYw6o', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10e218270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:09:22,412 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10fe2cb90>]
2013-09-11 17:09:22,414 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=CIEnRiFncrSwCZjOD3ksbWB5yX5WJVyD8y4R5qNG56EoyOIiCLig%2Fkvk768iYw6o&client_secret=69b079466ebfcf9c0a52fc24e206c2ba3aed128291357b6abd6c8fcc&grant_type=authorization_code&client_id=8KpXwnkjPvMz&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 17:09:22,414 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:09:22,419 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:09:22,453 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 17:09:22,455 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:09:22,456 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 15:09:22 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 17:09:22,456 oic.oauth2:DEBUG resp.txt: {"access_token": "CIEnRiFncrSwCZjOD3ksbZZxtOJZG8a8siYJoP7UONqyqn5oFbNoCX9pw3Ja8fvt", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIjhLcFh3bmtqUHZNeiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk5MTM2MiwgImlhdCI6IDEzNzg5MTIxNjIsICJzdWIiOiAiaGFobzAwMzIifQ.Dt68tXxoOYx3S36_3rXNiMJcYIxwSARTnFfK2Y4kLyVKDnSUykAZW0lHwPTj-IMyEF6U_dpgheXoRp_MFaQ4qT4B-wunvtz__HcA7aMz4xmJwsGsyvQDNy6htGEguHt-q-mDzAqWKCO-SsZ0UP1sHWQUkU56Ro9QZFh2gruntGp4H2hU2XP2LcGBRzj3raPDYlkmGdBLpoJ4oCbpjQrBUgzAxpyj8GdA-SFNRP5IMcrsEPddW1TH81q9OqaGxUaEYtK2JYnDl8Ewg8Z9lO4p-IK0bBEKTojptK4lk89dYfVgZcnfjYxAG2mNrd5rcB_0kxVffuVr-dg52INRmDimBg", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:13a7ca55-1cca-4799-b84f-6f773f530638", "scope": "openid profile", "refresh_token": "CIEnRiFncrSwCZjOD3ksbQHLMf0pmjoAHHOaZJjQmqO9YgMj8YnFc3n0beLeC56S"}
2013-09-11 17:09:22,457 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 17:09:22,460 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'CIEnRiFncrSwCZjOD3ksbZZxtOJZG8a8siYJoP7UONqyqn5oFbNoCX9pw3Ja8fvt', 'request': 'openid', 'schema': 'openid'}
2013-09-11 17:09:22,460 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=CIEnRiFncrSwCZjOD3ksbZZxtOJZG8a8siYJoP7UONqyqn5oFbNoCX9pw3Ja8fvt H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 17:09:22,465 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:09:22,492 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 17:09:22,494 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:09:22,495 oic.oic:DEBUG Reponse text: '{"sub": "haho0032"}'
2013-09-11 17:09:24,728 rp.openidconnect:DEBUG UserInfo: sub=haho0032
2013-09-11 17:09:28,256 rp:DEBUG [do_pyoidcOIC] response: (True, {'sub': u'haho0032'})
2013-09-11 17:10:07,398 root:INFO [static]sending: static/style.css
2013-09-11 17:10:07,399 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:10:07,404 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:10:07,406 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:10:09,023 root:INFO [static]sending: static/style.css
2013-09-11 17:10:09,024 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:10:09,028 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:10:09,032 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:10:15,562 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:10:15,562 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10fe9b650>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10fe9b690>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10fe9b650>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10fe9b690>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOIC': <oic.oic.Client object at 0x10feacf90>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10fe9b5d0>, 'PORT': 8666}
2013-09-11 17:10:16,422 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10feacb90>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:13a7ca55-1cca-4799-b84f-6f773f530638': <oic.oic.Grant object at 0x10feba1d0>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:ca1cfd32-beb2-454a-b8fe-c90aef24eae6'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'69b079466ebfcf9c0a52fc24e206c2ba3aed128291357b6abd6c8fcc'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10feba090>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10e2c3ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'8KpXwnkjPvMz'), ('registration_expires', 1378994958), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10feac990>), ('client_prefs', {}), ('registration_access_token', u'bg1nU4vMbb1hDekGSmbDvDxRDEhqDpSy'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 17:10:16,423 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:2b5ae23f-79e6-4bf5-bc11-9812c20531f2', 'response_type': 'code'}
2013-09-11 17:10:16,424 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A2b5ae23f-79e6-4bf5-bc11-9812c20531f2&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=8KpXwnkjPvMz
2013-09-11 17:10:16,425 rp.openidconnect:DEBUG body: None
2013-09-11 17:10:16,425 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A2b5ae23f-79e6-4bf5-bc11-9812c20531f2&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=8KpXwnkjPvMz
2013-09-11 17:10:16,425 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:10:16,426 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A2b5ae23f-79e6-4bf5-bc11-9812c20531f2&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=8KpXwnkjPvMz')]
2013-09-11 17:10:18,953 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10fe9b610>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A2b5ae23f-79e6-4bf5-bc11-9812c20531f2&code=m%2B9xJUIw4pYKS0KGnwK22ZiBXCfdQV76Mw1%2BJlEr6WFnk7XKa4crysHKYNOHOci5', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49457', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10fea4f90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378912216.477543, 'service': u'https://localhost:8092/', '_creation_time': 1378912152.065107}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A2b5ae23f-79e6-4bf5-bc11-9812c20531f2&code=m%2B9xJUIw4pYKS0KGnwK22ZiBXCfdQV76Mw1%2BJlEr6WFnk7XKa4crysHKYNOHOci5', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10e218270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:10:18,953 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:2b5ae23f-79e6-4bf5-bc11-9812c20531f2'], 'code': ['m+9xJUIw4pYKS0KGnwK22ZiBXCfdQV76Mw1+JlEr6WFnk7XKa4crysHKYNOHOci5']}
2013-09-11 17:10:20,796 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:2b5ae23f-79e6-4bf5-bc11-9812c20531f2'], 'code': ['m+9xJUIw4pYKS0KGnwK22ZiBXCfdQV76Mw1+JlEr6WFnk7XKa4crysHKYNOHOci5']}
2013-09-11 17:10:20,797 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:10:20,798 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10fe9b610>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A2b5ae23f-79e6-4bf5-bc11-9812c20531f2&code=m%2B9xJUIw4pYKS0KGnwK22ZiBXCfdQV76Mw1%2BJlEr6WFnk7XKa4crysHKYNOHOci5', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49457', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10fea4f90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378912216.477543, 'service': u'https://localhost:8092/', '_creation_time': 1378912152.065107}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A2b5ae23f-79e6-4bf5-bc11-9812c20531f2&code=m%2B9xJUIw4pYKS0KGnwK22ZiBXCfdQV76Mw1%2BJlEr6WFnk7XKa4crysHKYNOHOci5', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10e218270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:10:20,799 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10fe2cb90>]
2013-09-11 17:10:20,800 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=m%2B9xJUIw4pYKS0KGnwK22ZiBXCfdQV76Mw1%2BJlEr6WFnk7XKa4crysHKYNOHOci5&client_secret=69b079466ebfcf9c0a52fc24e206c2ba3aed128291357b6abd6c8fcc&grant_type=authorization_code&client_id=8KpXwnkjPvMz&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 17:10:20,801 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:10:20,806 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:10:20,846 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 17:10:20,847 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:10:20,848 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 15:10:20 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 17:10:20,848 oic.oauth2:DEBUG resp.txt: {"access_token": "m+9xJUIw4pYKS0KGnwK22aJaJpTJFsbbIDgaBm+xJ0z7eKljuPs8ClQeoQlJ7lCd", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIjhLcFh3bmtqUHZNeiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk5MTQyMCwgImlhdCI6IDEzNzg5MTIyMjAsICJzdWIiOiAiaGFobzAwMzIifQ.NFTyRI-kUFHgl1aDnbjzzRnCcSei9NzYP2Gm5fi7b3B-Gm4lL5jkuQSsSSjGwEugo2AC2Dq36JI6s_y3GWMsCISVxRsWg2p19mk95YDu1wbryMh7gzZtSxx5HBlzDd_3a_T3AqSqGkN3HyBudnl9PhFpc73s5ro_tPiMXeXRexWK0UDCfnwIDpxKtmjxLFx8Zkb8xMz-qyqGM7tqiox6PoHj76vGEy12aDUA0MxYZyrgwwl1RhYVSp5qaYKgEFHjO51RpKXBWwAOQOyMP0apEvr5TTrhVENBDyYn-wGheheIXniIyXOImwTycDA1zQTGZTRv9CO21S7MwTu6uteVYw", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:2b5ae23f-79e6-4bf5-bc11-9812c20531f2", "scope": "openid profile", "refresh_token": "m+9xJUIw4pYKS0KGnwK22Zm4h0ZtAtmehB3dOPPJqJxfuG3UowUNZEbmUwmnxwil"}
2013-09-11 17:10:20,850 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 17:10:20,852 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'm+9xJUIw4pYKS0KGnwK22aJaJpTJFsbbIDgaBm+xJ0z7eKljuPs8ClQeoQlJ7lCd', 'request': 'openid', 'schema': 'openid'}
2013-09-11 17:10:20,853 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=m%2B9xJUIw4pYKS0KGnwK22aJaJpTJFsbbIDgaBm%2BxJ0z7eKljuPs8ClQeoQlJ7lCd H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 17:10:20,857 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:10:20,884 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 17:10:20,886 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:10:20,887 oic.oic:DEBUG Reponse text: '{"sub": "haho0032"}'
2013-09-11 17:10:24,578 rp.openidconnect:DEBUG UserInfo: sub=haho0032
2013-09-11 17:10:27,057 rp:DEBUG [do_pyoidcOIC] response: (True, {'sub': u'haho0032'})
2013-09-11 17:10:38,906 root:INFO RP server starting listening on port:8666
2013-09-11 17:10:58,910 root:INFO [static]sending: static/style.css
2013-09-11 17:10:58,911 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:10:58,912 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:10:58,917 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:11:00,465 root:INFO [static]sending: static/style.css
2013-09-11 17:11:00,473 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:11:00,474 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:11:00,475 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:11:07,239 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:11:07,239 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10f8076d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f807710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10f8076d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f807710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10f807650>, 'PORT': 8666}
2013-09-11 17:11:07,785 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:11:07,824 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-11 17:11:07,826 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:11:07,848 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-11 17:11:07,850 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 17:11:07,852 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 17:11:07,853 rp.openidconnect:DEBUG Registering RP
2013-09-11 17:11:07,860 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:11:07,887 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-11 17:11:07,889 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:11:07,891 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378908667&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DXC17LB3SvWO0&registration_access_token=hrGhYcRR43iVI6btQIJC3yF7vD6q2g7c&client_id=XC17LB3SvWO0&client_secret=f0976bc368fdbbd52befbb7a48b5b695547402177284ea9bc6e1b8b0&client_secret_expires_at=1378995067
2013-09-11 17:11:07,893 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10f81ad10>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:99c6d62c-1d16-42aa-97ad-6a6973d99da5'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'f0976bc368fdbbd52befbb7a48b5b695547402177284ea9bc6e1b8b0'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10f8282d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10f8211d0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'XC17LB3SvWO0'), ('registration_expires', 1378995067), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10f828290>), ('client_prefs', {}), ('registration_access_token', u'hrGhYcRR43iVI6btQIJC3yF7vD6q2g7c'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 17:11:07,893 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:8058abc2-3fd2-40e3-9623-cd0a8d395f6a', 'response_type': 'code'}
2013-09-11 17:11:07,894 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A8058abc2-3fd2-40e3-9623-cd0a8d395f6a&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=XC17LB3SvWO0
2013-09-11 17:11:07,895 rp.openidconnect:DEBUG body: None
2013-09-11 17:11:07,895 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A8058abc2-3fd2-40e3-9623-cd0a8d395f6a&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=XC17LB3SvWO0
2013-09-11 17:11:07,896 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:11:07,896 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A8058abc2-3fd2-40e3-9623-cd0a8d395f6a&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=XC17LB3SvWO0')]
2013-09-11 17:11:08,843 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10f807690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A8058abc2-3fd2-40e3-9623-cd0a8d395f6a&code=U5GMHb1zKIlQw7LlrRO%2FUMT0%2Bi80QbA88IHHOVoz1QytJ3M6l226lk8NRSffKv2B', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49472', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10f821150>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378912267.932207, 'service': u'https://localhost:8092/', '_creation_time': 1378912258.720808}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A8058abc2-3fd2-40e3-9623-cd0a8d395f6a&code=U5GMHb1zKIlQw7LlrRO%2FUMT0%2Bi80QbA88IHHOVoz1QytJ3M6l226lk8NRSffKv2B', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10db88270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:11:08,843 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:8058abc2-3fd2-40e3-9623-cd0a8d395f6a'], 'code': ['U5GMHb1zKIlQw7LlrRO/UMT0+i80QbA88IHHOVoz1QytJ3M6l226lk8NRSffKv2B']}
2013-09-11 17:11:09,707 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:8058abc2-3fd2-40e3-9623-cd0a8d395f6a'], 'code': ['U5GMHb1zKIlQw7LlrRO/UMT0+i80QbA88IHHOVoz1QytJ3M6l226lk8NRSffKv2B']}
2013-09-11 17:11:09,712 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:11:09,738 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-11 17:11:09,743 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:11:09,744 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10f807690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A8058abc2-3fd2-40e3-9623-cd0a8d395f6a&code=U5GMHb1zKIlQw7LlrRO%2FUMT0%2Bi80QbA88IHHOVoz1QytJ3M6l226lk8NRSffKv2B', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49472', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10f821150>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378912267.932207, 'service': u'https://localhost:8092/', '_creation_time': 1378912258.720808}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A8058abc2-3fd2-40e3-9623-cd0a8d395f6a&code=U5GMHb1zKIlQw7LlrRO%2FUMT0%2Bi80QbA88IHHOVoz1QytJ3M6l226lk8NRSffKv2B', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10db88270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:11:09,745 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10f75acb0>]
2013-09-11 17:11:09,746 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=U5GMHb1zKIlQw7LlrRO%2FUMT0%2Bi80QbA88IHHOVoz1QytJ3M6l226lk8NRSffKv2B&client_secret=f0976bc368fdbbd52befbb7a48b5b695547402177284ea9bc6e1b8b0&grant_type=authorization_code&client_id=XC17LB3SvWO0&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 17:11:09,746 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:11:09,751 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:11:09,786 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 17:11:09,788 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:11:09,788 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 15:11:09 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 17:11:09,789 oic.oauth2:DEBUG resp.txt: {"access_token": "U5GMHb1zKIlQw7LlrRO/UPd0cO4YSIPYV3nsGBYvcu+BzJ/MoKQ0CUOxkxIBcKBd", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIlhDMTdMQjNTdldPMCJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk5MTQ2OSwgImlhdCI6IDEzNzg5MTIyNjksICJzdWIiOiAiaGFobzAwMzIifQ.A1CpajEvz7tupcW24atzrZYNcxCu9au6-MC7LMR70FWwYUY7-q9sHSCOAdJZDDYUdm3Y8-uYcFIpOMt-VUboVMZst_vL_Y22XLeUptb72QAPkGQIE7xkBgv2g-XDUJcqTYSZXoXa3GH0JtMrZBCPRXPw85zkYu90INKO7ECMSG-0JGiO6TxN7ROcLTo-KXu5wR_Dj7kDrVYmCeO_l6aA5cc68hFHqnOOPJyMX1A0JRk0cYgHs0VidVV93jTI6O4g3qIiiXcq95zN5sjJSvypCiIKo3r4guKHU4oriurX14OnggSpmi2sKaFjJKlo08vzYH5ZH0-sQYyipcx5giDH4w", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:8058abc2-3fd2-40e3-9623-cd0a8d395f6a", "scope": "openid profile", "refresh_token": "U5GMHb1zKIlQw7LlrRO/UBs8hekqvaZtVpnIlJW4j6JlCLnJ5HcN8jHfujkSe5Uo"}
2013-09-11 17:11:09,790 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 17:11:09,793 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'U5GMHb1zKIlQw7LlrRO/UPd0cO4YSIPYV3nsGBYvcu+BzJ/MoKQ0CUOxkxIBcKBd', 'request': 'openid', 'schema': 'openid'}
2013-09-11 17:11:09,793 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=U5GMHb1zKIlQw7LlrRO%2FUPd0cO4YSIPYV3nsGBYvcu%2BBzJ%2FMoKQ0CUOxkxIBcKBd H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 17:11:09,798 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:11:09,824 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 17:11:09,826 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:11:09,827 oic.oic:DEBUG Reponse text: '{"sub": "haho0032"}'
2013-09-11 17:11:10,806 rp.openidconnect:DEBUG UserInfo: sub=haho0032
2013-09-11 17:11:10,806 rp:DEBUG [do_pyoidcOIC] response: (True, {'sub': u'haho0032'})
2013-09-11 17:11:11,010 root:INFO [static]sending: static/style.css
2013-09-11 17:11:11,013 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:11:11,017 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:11:11,018 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:13:08,996 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:13:08,998 root:INFO [static]sending: static/style.css
2013-09-11 17:13:08,999 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:13:09,000 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:13:15,644 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:13:15,644 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10f8076d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f807710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10f8076d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f807710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOIC': <oic.oic.Client object at 0x10f821310>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10f807650>, 'PORT': 8666}
2013-09-11 17:13:16,277 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10f81ad10>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:8058abc2-3fd2-40e3-9623-cd0a8d395f6a': <oic.oic.Grant object at 0x10f828390>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:c57b5107-dc63-4e66-98cc-2d790c0f098c'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'f0976bc368fdbbd52befbb7a48b5b695547402177284ea9bc6e1b8b0'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10f8282d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10f8211d0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'XC17LB3SvWO0'), ('registration_expires', 1378995067), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10f828290>), ('client_prefs', {}), ('registration_access_token', u'hrGhYcRR43iVI6btQIJC3yF7vD6q2g7c'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 17:13:16,277 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:99c6d62c-1d16-42aa-97ad-6a6973d99da5', 'response_type': 'code'}
2013-09-11 17:13:16,279 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A99c6d62c-1d16-42aa-97ad-6a6973d99da5&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=XC17LB3SvWO0
2013-09-11 17:13:16,280 rp.openidconnect:DEBUG body: None
2013-09-11 17:13:16,280 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A99c6d62c-1d16-42aa-97ad-6a6973d99da5&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=XC17LB3SvWO0
2013-09-11 17:13:16,280 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:13:16,281 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A99c6d62c-1d16-42aa-97ad-6a6973d99da5&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=XC17LB3SvWO0')]
2013-09-11 17:13:17,741 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10f807690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A99c6d62c-1d16-42aa-97ad-6a6973d99da5&code=tj6feB3EYI5TiBrZWevk3Nab3oAyR47XZurjpa6KDHvEGsaus0mOE30fd6%2FhzsQ%2B', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49493', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10f81a950>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378912396.31944, 'service': u'https://localhost:8092/', '_creation_time': 1378912258.720808}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A99c6d62c-1d16-42aa-97ad-6a6973d99da5&code=tj6feB3EYI5TiBrZWevk3Nab3oAyR47XZurjpa6KDHvEGsaus0mOE30fd6%2FhzsQ%2B', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10db88270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:13:17,741 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:99c6d62c-1d16-42aa-97ad-6a6973d99da5'], 'code': ['tj6feB3EYI5TiBrZWevk3Nab3oAyR47XZurjpa6KDHvEGsaus0mOE30fd6/hzsQ+']}
2013-09-11 17:13:18,629 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:99c6d62c-1d16-42aa-97ad-6a6973d99da5'], 'code': ['tj6feB3EYI5TiBrZWevk3Nab3oAyR47XZurjpa6KDHvEGsaus0mOE30fd6/hzsQ+']}
2013-09-11 17:13:18,630 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:13:18,631 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10f807690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A99c6d62c-1d16-42aa-97ad-6a6973d99da5&code=tj6feB3EYI5TiBrZWevk3Nab3oAyR47XZurjpa6KDHvEGsaus0mOE30fd6%2FhzsQ%2B', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49493', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10f81a950>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378912396.31944, 'service': u'https://localhost:8092/', '_creation_time': 1378912258.720808}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A99c6d62c-1d16-42aa-97ad-6a6973d99da5&code=tj6feB3EYI5TiBrZWevk3Nab3oAyR47XZurjpa6KDHvEGsaus0mOE30fd6%2FhzsQ%2B', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10db88270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:13:18,632 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10f75acb0>]
2013-09-11 17:13:18,633 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=tj6feB3EYI5TiBrZWevk3Nab3oAyR47XZurjpa6KDHvEGsaus0mOE30fd6%2FhzsQ%2B&client_secret=f0976bc368fdbbd52befbb7a48b5b695547402177284ea9bc6e1b8b0&grant_type=authorization_code&client_id=XC17LB3SvWO0&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 17:13:18,634 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:13:18,639 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:13:18,674 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 17:13:18,676 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:13:18,676 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 15:13:18 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 17:13:18,677 oic.oauth2:DEBUG resp.txt: {"access_token": "tj6feB3EYI5TiBrZWevk3P7F3F2PuyjHeWnR3Znd4pFyIs9m7ojF/Wtz+aKymA6O", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIlhDMTdMQjNTdldPMCJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk5MTU5OCwgImlhdCI6IDEzNzg5MTIzOTgsICJzdWIiOiAiaGFobzAwMzIifQ.ARvy4_-gqNmOdCl-QSPKvonFCXGshkWdjiJQ5PGntVJLxX4O9kLgiWDeSq-tq5983mZv-_6dRD7eacCqwPI2YSIjLDjV0SaiHvBgpLmA8PGaJ_dAVovit316wM3f78W4fNdc5fyJKnNwvbNbLt5cRyNSNKt5uFGVeqANvCAyeqFXcMNfBOAr6hN0iMrsuO0RsCHflAhnSrH19_4hgrYvvHBpAh_4UXK54UsdOmsM3Kheuaui4_LFrOoBTaL_R_-cakUJEdhvpcqqE-EZfDlZKGKmW3hq1FTAp9QJJz5zwrLQ2m8RiIEbBePEozvKTu_AkMjvxeHsHUfqwc9KaTgAbQ", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:99c6d62c-1d16-42aa-97ad-6a6973d99da5", "scope": "openid profile", "refresh_token": "tj6feB3EYI5TiBrZWevk3P61ZGNtpWly2qzKgDz1P8+jWpQtUYIiyEpfX/Fj7cVQ"}
2013-09-11 17:13:18,678 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 17:13:18,681 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'tj6feB3EYI5TiBrZWevk3P7F3F2PuyjHeWnR3Znd4pFyIs9m7ojF/Wtz+aKymA6O', 'request': 'openid', 'schema': 'openid'}
2013-09-11 17:13:18,681 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=tj6feB3EYI5TiBrZWevk3P7F3F2PuyjHeWnR3Znd4pFyIs9m7ojF%2FWtz%2BaKymA6O H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 17:13:18,686 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:13:18,724 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 17:13:18,726 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:13:18,727 oic.oic:DEBUG Reponse text: '{"sub": "haho0032"}'
2013-09-11 17:13:19,578 rp.openidconnect:DEBUG UserInfo: sub=haho0032
2013-09-11 17:13:19,578 rp:DEBUG [do_pyoidcOIC] response: (True, {'sub': u'haho0032'})
2013-09-11 17:13:19,783 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:13:19,784 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:13:19,786 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:13:19,791 root:INFO [static]sending: static/style.css
2013-09-11 17:13:24,514 root:INFO RP server starting listening on port:8666
2013-09-11 17:13:39,122 root:INFO RP server starting listening on port:8666
2013-09-11 17:14:01,749 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:14:01,752 root:INFO [static]sending: static/style.css
2013-09-11 17:14:01,753 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:14:01,755 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:14:04,936 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:14:04,937 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x1113cf6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1113cf710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x1113cf6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1113cf710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x1113cf650>, 'PORT': 8666}
2013-09-11 17:14:05,729 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:14:05,768 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-11 17:14:05,770 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:14:05,791 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-11 17:14:05,793 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 17:14:05,796 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 17:14:05,796 rp.openidconnect:DEBUG Registering RP
2013-09-11 17:14:05,804 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:14:05,833 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-11 17:14:05,834 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:14:05,836 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378908845&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3Dupnja0N3xWnB&registration_access_token=klXmvmnOzRl6ALuWK9h4vp3jxCWsLPGk&client_id=upnja0N3xWnB&client_secret=9e88de98e51c828baf105bbf5acc45d976263fc3f2ad415c9734080b&client_secret_expires_at=1378995245
2013-09-11 17:14:05,838 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x1113e2410>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:450922eb-d2f9-4ef4-a090-d1fa7139d7d8'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'9e88de98e51c828baf105bbf5acc45d976263fc3f2ad415c9734080b'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x1113eb7d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10f7faad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'upnja0N3xWnB'), ('registration_expires', 1378995245), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x1113eb790>), ('client_prefs', {}), ('registration_access_token', u'klXmvmnOzRl6ALuWK9h4vp3jxCWsLPGk'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 17:14:05,838 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:5c6fbd76-992a-4320-940d-f2adb72a4d4e', 'response_type': 'code'}
2013-09-11 17:14:05,839 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A5c6fbd76-992a-4320-940d-f2adb72a4d4e&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=upnja0N3xWnB
2013-09-11 17:14:05,840 rp.openidconnect:DEBUG body: None
2013-09-11 17:14:05,841 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A5c6fbd76-992a-4320-940d-f2adb72a4d4e&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=upnja0N3xWnB
2013-09-11 17:14:05,841 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:14:05,841 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A5c6fbd76-992a-4320-940d-f2adb72a4d4e&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=upnja0N3xWnB')]
2013-09-11 17:14:33,362 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x1113cf690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'HTTP_ORIGIN': 'https://localhost:8092', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A5c6fbd76-992a-4320-940d-f2adb72a4d4e&code=7Efb8DdcMGMGgsJX9VgSgQ8TjKFzYT1PMngjL3NsvZECk9TDo1AwRrVNnm9uR8gZ', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49533', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1113dab50>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378912470.308952, 'service': u'https://localhost:8092/', '_creation_time': 1378912441.560721}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A5c6fbd76-992a-4320-940d-f2adb72a4d4e&code=7Efb8DdcMGMGgsJX9VgSgQ8TjKFzYT1PMngjL3NsvZECk9TDo1AwRrVNnm9uR8gZ', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f74f270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate'}
2013-09-11 17:14:33,362 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:5c6fbd76-992a-4320-940d-f2adb72a4d4e'], 'code': ['7Efb8DdcMGMGgsJX9VgSgQ8TjKFzYT1PMngjL3NsvZECk9TDo1AwRrVNnm9uR8gZ']}
2013-09-11 17:14:34,359 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:5c6fbd76-992a-4320-940d-f2adb72a4d4e'], 'code': ['7Efb8DdcMGMGgsJX9VgSgQ8TjKFzYT1PMngjL3NsvZECk9TDo1AwRrVNnm9uR8gZ']}
2013-09-11 17:14:34,364 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:14:34,389 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-11 17:14:34,394 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:14:34,395 rp.openidconnect:DEBUG callback environ: {'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x1113cf690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'HTTP_ORIGIN': 'https://localhost:8092', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A5c6fbd76-992a-4320-940d-f2adb72a4d4e&code=7Efb8DdcMGMGgsJX9VgSgQ8TjKFzYT1PMngjL3NsvZECk9TDo1AwRrVNnm9uR8gZ', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49533', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1113dab50>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378912470.308952, 'service': u'https://localhost:8092/', '_creation_time': 1378912441.560721}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A5c6fbd76-992a-4320-940d-f2adb72a4d4e&code=7Efb8DdcMGMGgsJX9VgSgQ8TjKFzYT1PMngjL3NsvZECk9TDo1AwRrVNnm9uR8gZ', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f74f270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate'}
2013-09-11 17:14:34,395 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x1113209e0>]
2013-09-11 17:14:34,397 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=7Efb8DdcMGMGgsJX9VgSgQ8TjKFzYT1PMngjL3NsvZECk9TDo1AwRrVNnm9uR8gZ&client_secret=9e88de98e51c828baf105bbf5acc45d976263fc3f2ad415c9734080b&grant_type=authorization_code&client_id=upnja0N3xWnB&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 17:14:34,397 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:14:34,402 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:14:34,438 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 17:14:34,440 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:14:34,441 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 15:14:34 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 17:14:34,441 oic.oauth2:DEBUG resp.txt: {"access_token": "7Efb8DdcMGMGgsJX9VgSgWOGTwBnBXAdTHVEcMAWM2LewKgbmvQgF6AJ7VOAqg1Y", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbInVwbmphME4zeFduQiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk5MTY3NCwgImlhdCI6IDEzNzg5MTI0NzQsICJzdWIiOiAiZGlhbmEifQ.K2x8qjRHDctbU_lIh4KgUWs8V6URsmga2BWy89VedKH8yMDm850_MlwCrDkH5QfPiA5bxyplrTcxfXJMiaJOeU8Y-CsXrzrfWEeS46w7qFj_civUNsCNwCjYYUI4oFbPtd2HxNa_2uS52Io247ABvRc9NwPJpZOOagCk_IdLLIoqu3omdfxsI_A3rEmfr-6_zJtdX33suWjULvUX8WMVreGPXUZxh99SLSR7atJBCLu23zy-izy7FNpl85qxpdsCGAYFzcAcMoV-txa1hv8xP62GHuyWVdnaaS727E5fLBjSAHsv61k0zaRop__LVOL5-Q--vZg7MiUJgL138MEJ3g", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:5c6fbd76-992a-4320-940d-f2adb72a4d4e", "scope": "openid profile", "refresh_token": "7Efb8DdcMGMGgsJX9VgSgRxwv6E+L1kTa8jRL/diqIMTWAT/nRf1W4ryArBYdPFO"}
2013-09-11 17:14:34,443 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 17:14:34,445 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'7Efb8DdcMGMGgsJX9VgSgWOGTwBnBXAdTHVEcMAWM2LewKgbmvQgF6AJ7VOAqg1Y', 'request': 'openid', 'schema': 'openid'}
2013-09-11 17:14:34,446 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=7Efb8DdcMGMGgsJX9VgSgWOGTwBnBXAdTHVEcMAWM2LewKgbmvQgF6AJ7VOAqg1Y H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 17:14:34,450 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:14:34,478 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 17:14:34,480 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:14:34,481 oic.oic:DEBUG Reponse text: '{"family_name": "Krall", "nickname": "Dina", "given_name": "Diana", "name": "Diana Krall", "sub": "diana"}'
2013-09-11 17:14:48,292 rp.openidconnect:DEBUG UserInfo: family_name=Krall&nickname=Dina&sub=diana&name=Diana+Krall&given_name=Diana
2013-09-11 17:14:48,292 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'Krall', 'nickname': u'Dina', 'given_name': u'Diana', 'name': u'Diana Krall', 'sub': u'diana'})
2013-09-11 17:14:48,505 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:14:48,506 root:INFO [static]sending: static/style.css
2013-09-11 17:14:48,507 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:14:48,511 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:15:51,138 root:INFO RP server starting listening on port:8666
2013-09-11 17:16:00,071 root:INFO [static]sending: static/style.css
2013-09-11 17:16:00,071 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:16:00,075 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:16:00,077 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:16:03,264 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:16:03,265 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10f2a36d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f2a3710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10f2a36d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f2a3710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10f2a3650>, 'PORT': 8666}
2013-09-11 17:16:04,118 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:16:04,157 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-11 17:16:04,159 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:16:04,180 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-11 17:16:04,183 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 17:16:04,185 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 17:16:04,186 rp.openidconnect:DEBUG Registering RP
2013-09-11 17:16:04,193 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:16:04,222 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-11 17:16:04,224 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:16:04,226 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378908964&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DYf7exspXzk7K&registration_access_token=tdLg2Sld0kQSAGX9Z4VyxWtNG8Yt8n5k&client_id=Yf7exspXzk7K&client_secret=fdb86ef4612132b3ec7bd1d1277b9fc24bf0461df09f8b9fb5da8223&client_secret_expires_at=1378995364
2013-09-11 17:16:04,227 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10f2bf790>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:cfc8de80-8e1a-4131-aae4-349ef162ac57'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'fdb86ef4612132b3ec7bd1d1277b9fc24bf0461df09f8b9fb5da8223'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10f2bf6d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10f2ca4d0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'Yf7exspXzk7K'), ('registration_expires', 1378995364), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10f2bf750>), ('client_prefs', {}), ('registration_access_token', u'tdLg2Sld0kQSAGX9Z4VyxWtNG8Yt8n5k'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 17:16:04,228 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:d3ffb27d-8149-4c3b-aae3-5b6ed9045d6d', 'response_type': 'code'}
2013-09-11 17:16:04,229 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Ad3ffb27d-8149-4c3b-aae3-5b6ed9045d6d&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=Yf7exspXzk7K
2013-09-11 17:16:04,230 rp.openidconnect:DEBUG body: None
2013-09-11 17:16:04,230 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ad3ffb27d-8149-4c3b-aae3-5b6ed9045d6d&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=Yf7exspXzk7K
2013-09-11 17:16:04,231 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:16:04,231 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ad3ffb27d-8149-4c3b-aae3-5b6ed9045d6d&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=Yf7exspXzk7K')]
2013-09-11 17:16:19,890 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10f2a3690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'HTTP_ORIGIN': 'https://localhost:8092', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ad3ffb27d-8149-4c3b-aae3-5b6ed9045d6d&code=0iPhveZfevtcqbGQbmoF2%2FdK48NfHDiLUjFNRr7a6753dBtmcxvyRkUvvCv5ncjP', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49558', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10f2ca510>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378912576.038461, 'service': u'https://localhost:8092/', '_creation_time': 1378912559.85959}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3Ad3ffb27d-8149-4c3b-aae3-5b6ed9045d6d&code=0iPhveZfevtcqbGQbmoF2%2FdK48NfHDiLUjFNRr7a6753dBtmcxvyRkUvvCv5ncjP', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10d623270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate'}
2013-09-11 17:16:19,891 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:d3ffb27d-8149-4c3b-aae3-5b6ed9045d6d'], 'code': ['0iPhveZfevtcqbGQbmoF2/dK48NfHDiLUjFNRr7a6753dBtmcxvyRkUvvCv5ncjP']}
2013-09-11 17:16:21,220 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:d3ffb27d-8149-4c3b-aae3-5b6ed9045d6d'], 'code': ['0iPhveZfevtcqbGQbmoF2/dK48NfHDiLUjFNRr7a6753dBtmcxvyRkUvvCv5ncjP']}
2013-09-11 17:16:21,225 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:16:21,251 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-11 17:16:21,256 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:16:21,257 rp.openidconnect:DEBUG callback environ: {'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10f2a3690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'HTTP_ORIGIN': 'https://localhost:8092', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ad3ffb27d-8149-4c3b-aae3-5b6ed9045d6d&code=0iPhveZfevtcqbGQbmoF2%2FdK48NfHDiLUjFNRr7a6753dBtmcxvyRkUvvCv5ncjP', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49558', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10f2ca510>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378912576.038461, 'service': u'https://localhost:8092/', '_creation_time': 1378912559.85959}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3Ad3ffb27d-8149-4c3b-aae3-5b6ed9045d6d&code=0iPhveZfevtcqbGQbmoF2%2FdK48NfHDiLUjFNRr7a6753dBtmcxvyRkUvvCv5ncjP', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10d623270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate'}
2013-09-11 17:16:21,258 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10f1f4758>]
2013-09-11 17:16:21,259 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=0iPhveZfevtcqbGQbmoF2%2FdK48NfHDiLUjFNRr7a6753dBtmcxvyRkUvvCv5ncjP&client_secret=fdb86ef4612132b3ec7bd1d1277b9fc24bf0461df09f8b9fb5da8223&grant_type=authorization_code&client_id=Yf7exspXzk7K&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 17:16:21,259 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:16:21,264 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:16:21,301 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 17:16:21,303 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:16:21,303 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 15:16:21 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 17:16:21,304 oic.oauth2:DEBUG resp.txt: {"access_token": "0iPhveZfevtcqbGQbmoF2wKXnKaMhcBxFwW+7CNz1Cybu6Q/7wTCdA4G5k9bds86", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIllmN2V4c3BYems3SyJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk5MTc4MSwgImlhdCI6IDEzNzg5MTI1ODEsICJzdWIiOiAiaGFobzAwMzIifQ.c-qMna4RpOnVE961MGoljciw047lOiqtFET2ht1hCTJY8xZJkzttp-PP2tvV2N21eJw3_OD0Q2LFeyA6uPvlsBY7sy69WYlLjWhQX_YtYSHfr6rGvuqGk3oV3KSbPD4_MqoLBUrb33DOxHEGQUZz2Fxf0CTAsNh3ABBmlC50sL_2OM760Mjjr8_rql5JL_F0RuOsYmutvFMCuNchVs7wTmRLFs5fmK5TvYW8hmPJGubDwwADrfPfXKXtEKYnlzPAR6k3hZC03xSO4o_KizYy-1_aXDMI4T7WjpbvOqdX0E7wlJ2nVEGXE-noZ6s3uZ9M_shdu-nWHVHaClSEpEHv5Q", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:d3ffb27d-8149-4c3b-aae3-5b6ed9045d6d", "scope": "openid profile", "refresh_token": "0iPhveZfevtcqbGQbmoF290kzWcCqHVgrWxOpmtfHeQjqEZJ5mkM1Z1QDBuuADMB"}
2013-09-11 17:16:21,305 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 17:16:21,308 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'0iPhveZfevtcqbGQbmoF2wKXnKaMhcBxFwW+7CNz1Cybu6Q/7wTCdA4G5k9bds86', 'request': 'openid', 'schema': 'openid'}
2013-09-11 17:16:21,308 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=0iPhveZfevtcqbGQbmoF2wKXnKaMhcBxFwW%2B7CNz1Cybu6Q%2F7wTCdA4G5k9bds86 H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 17:16:21,313 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:16:21,340 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 17:16:21,342 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:16:21,343 oic.oic:DEBUG Reponse text: '{"sub": "haho0032"}'
2013-09-11 17:16:51,061 rp.openidconnect:DEBUG UserInfo: sub=haho0032
2013-09-11 17:16:51,062 rp:DEBUG [do_pyoidcOIC] response: (True, {'sub': u'haho0032'})
2013-09-11 17:16:51,281 root:INFO [static]sending: static/style.css
2013-09-11 17:16:51,287 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:16:51,287 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:16:51,288 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:18:10,953 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:18:10,959 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:18:10,960 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:18:10,961 root:INFO [static]sending: static/style.css
2013-09-11 17:18:17,414 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:18:17,415 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10f2a36d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f2a3710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10f2a36d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f2a3710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOIC': <oic.oic.Client object at 0x10f2bf650>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10f2a3650>, 'PORT': 8666}
2013-09-11 17:18:18,276 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10f2bf790>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:d3ffb27d-8149-4c3b-aae3-5b6ed9045d6d': <oic.oic.Grant object at 0x10f1f2650>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:62b5c36f-f6fb-43b3-94dd-24d554067725'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'fdb86ef4612132b3ec7bd1d1277b9fc24bf0461df09f8b9fb5da8223'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10f2bf6d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10f2ca4d0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'Yf7exspXzk7K'), ('registration_expires', 1378995364), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10f2bf750>), ('client_prefs', {}), ('registration_access_token', u'tdLg2Sld0kQSAGX9Z4VyxWtNG8Yt8n5k'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 17:18:18,276 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:cfc8de80-8e1a-4131-aae4-349ef162ac57', 'response_type': 'code'}
2013-09-11 17:18:18,278 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Acfc8de80-8e1a-4131-aae4-349ef162ac57&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=Yf7exspXzk7K
2013-09-11 17:18:18,279 rp.openidconnect:DEBUG body: None
2013-09-11 17:18:18,279 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Acfc8de80-8e1a-4131-aae4-349ef162ac57&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=Yf7exspXzk7K
2013-09-11 17:18:18,280 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:18:18,280 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Acfc8de80-8e1a-4131-aae4-349ef162ac57&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=Yf7exspXzk7K')]
2013-09-11 17:18:28,472 root:INFO RP server starting listening on port:8666
2013-09-11 17:18:36,987 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:18:36,988 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10e00e6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10e00e710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10e00e6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10e00e710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10e00e650>, 'PORT': 8666}
2013-09-11 17:18:37,737 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:18:37,777 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-11 17:18:37,779 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:18:37,800 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-11 17:18:37,802 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 17:18:37,804 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 17:18:37,805 rp.openidconnect:DEBUG Registering RP
2013-09-11 17:18:37,813 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:18:37,840 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-11 17:18:37,842 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:18:37,844 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378909117&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3D7SxRbrf0wQ1d&registration_access_token=B6cEE9qPbYD5CN93wIc0IOUyKZnNCFWY&client_id=7SxRbrf0wQ1d&client_secret=c71c62957d48d3e25bbf3cdfeb04ebc198f06e0b9bc575ae8415dfaa&client_secret_expires_at=1378995517
2013-09-11 17:18:37,845 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10e022cd0>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:d889ed7f-cf97-4957-b88f-017a62abcc4d'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'c71c62957d48d3e25bbf3cdfeb04ebc198f06e0b9bc575ae8415dfaa'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10e022d50>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10c438ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'7SxRbrf0wQ1d'), ('registration_expires', 1378995517), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10e022d10>), ('client_prefs', {}), ('registration_access_token', u'B6cEE9qPbYD5CN93wIc0IOUyKZnNCFWY'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 17:18:37,846 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:36443158-c705-4c0c-9d03-71cfa9730ccf', 'response_type': 'code'}
2013-09-11 17:18:37,847 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A36443158-c705-4c0c-9d03-71cfa9730ccf&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=7SxRbrf0wQ1d
2013-09-11 17:18:37,848 rp.openidconnect:DEBUG body: None
2013-09-11 17:18:37,848 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A36443158-c705-4c0c-9d03-71cfa9730ccf&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=7SxRbrf0wQ1d
2013-09-11 17:18:37,849 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:18:37,849 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A36443158-c705-4c0c-9d03-71cfa9730ccf&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=7SxRbrf0wQ1d')]
2013-09-11 17:18:53,683 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10e00e690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'HTTP_ORIGIN': 'https://localhost:8092', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A36443158-c705-4c0c-9d03-71cfa9730ccf&code=OWu%2BeVYnM7MlJJI%2BWXeF7RoD2acTQjxWQSsG2x4jQDhMxfVtm2zyNe3kPXPoJ8Jh', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49583', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10c438fd0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378912730.43366, 'service': u'https://localhost:8092/', '_creation_time': 1378912714.636741}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A36443158-c705-4c0c-9d03-71cfa9730ccf&code=OWu%2BeVYnM7MlJJI%2BWXeF7RoD2acTQjxWQSsG2x4jQDhMxfVtm2zyNe3kPXPoJ8Jh', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10c38c270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate'}
2013-09-11 17:18:53,683 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:36443158-c705-4c0c-9d03-71cfa9730ccf'], 'code': ['OWu+eVYnM7MlJJI+WXeF7RoD2acTQjxWQSsG2x4jQDhMxfVtm2zyNe3kPXPoJ8Jh']}
2013-09-11 17:18:55,863 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:36443158-c705-4c0c-9d03-71cfa9730ccf'], 'code': ['OWu+eVYnM7MlJJI+WXeF7RoD2acTQjxWQSsG2x4jQDhMxfVtm2zyNe3kPXPoJ8Jh']}
2013-09-11 17:18:55,867 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:18:55,893 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-11 17:18:55,898 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:18:55,899 rp.openidconnect:DEBUG callback environ: {'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10e00e690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'HTTP_ORIGIN': 'https://localhost:8092', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A36443158-c705-4c0c-9d03-71cfa9730ccf&code=OWu%2BeVYnM7MlJJI%2BWXeF7RoD2acTQjxWQSsG2x4jQDhMxfVtm2zyNe3kPXPoJ8Jh', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49583', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10c438fd0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378912730.43366, 'service': u'https://localhost:8092/', '_creation_time': 1378912714.636741}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A36443158-c705-4c0c-9d03-71cfa9730ccf&code=OWu%2BeVYnM7MlJJI%2BWXeF7RoD2acTQjxWQSsG2x4jQDhMxfVtm2zyNe3kPXPoJ8Jh', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10c38c270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate'}
2013-09-11 17:18:55,899 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10df5d248>]
2013-09-11 17:18:55,901 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=OWu%2BeVYnM7MlJJI%2BWXeF7RoD2acTQjxWQSsG2x4jQDhMxfVtm2zyNe3kPXPoJ8Jh&client_secret=c71c62957d48d3e25bbf3cdfeb04ebc198f06e0b9bc575ae8415dfaa&grant_type=authorization_code&client_id=7SxRbrf0wQ1d&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 17:18:55,901 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:18:55,907 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:18:55,943 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 17:18:55,946 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:18:55,947 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 15:18:55 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 17:18:55,947 oic.oauth2:DEBUG resp.txt: {"access_token": "OWu+eVYnM7MlJJI+WXeF7WdLUFHsevP/xnxDaXkiw6u1/scD5eggSns2bG3y/GFM", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIjdTeFJicmYwd1ExZCJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk5MTkzNSwgImlhdCI6IDEzNzg5MTI3MzUsICJzdWIiOiAiaGFobzAwMzIifQ.x5JjHjAOdEZSmaV1fZgpAbbwwKsCvO_srToqkKemGJ4K9f2Hu6fTUFZbSlbAuaVwzwkf46RJ8KftBuoefwRP4aUDHFnQGCOCcqaJ-yZ9Vhs0cowWNiZHtF_EE-NYHiCn_Ht73QVysGBj_Rs3HaZ7t5SnpRThyGy1rLUwX_ezfYUHj-LQ4QrlYHEddPLcZ4ySasncTqDj28DxT_S19RJjEiL8vKF2QTEJs5a09iGppGKXL2eelPapTUHUGLVVepDZN5h1Z4vKWNBIxMOdjZkqKIJEIGWLRGJbPOCCh4nh5dEJrvhJeJyuT3qCV1AHr7PSFYmub-gMNYX3z7CM8UyNrg", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:36443158-c705-4c0c-9d03-71cfa9730ccf", "scope": "openid profile", "refresh_token": "OWu+eVYnM7MlJJI+WXeF7QlqVRXJvkAHwrX53zg+Es+kH1TpQVMzJEv4UVKZR4FY"}
2013-09-11 17:18:55,949 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 17:18:55,951 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'OWu+eVYnM7MlJJI+WXeF7WdLUFHsevP/xnxDaXkiw6u1/scD5eggSns2bG3y/GFM', 'request': 'openid', 'schema': 'openid'}
2013-09-11 17:18:55,952 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=OWu%2BeVYnM7MlJJI%2BWXeF7WdLUFHsevP%2FxnxDaXkiw6u1%2FscD5eggSns2bG3y%2FGFM H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 17:18:55,957 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:18:55,987 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 17:18:55,990 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:18:55,991 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-11 17:19:54,194 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-11 17:19:54,195 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'})
2013-09-11 17:19:54,435 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:19:54,438 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:19:54,438 root:INFO [static]sending: static/style.css
2013-09-11 17:19:54,442 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:21:25,473 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:21:25,475 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:21:25,476 root:INFO [static]sending: static/style.css
2013-09-11 17:21:25,482 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:21:41,421 root:INFO RP server starting listening on port:8666
2013-09-11 17:21:46,610 root:INFO [static]sending: static/style.css
2013-09-11 17:21:46,611 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:21:46,615 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:21:46,615 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:21:48,165 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:21:48,165 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:21:48,166 root:INFO [static]sending: static/style.css
2013-09-11 17:21:48,166 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:21:49,175 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:21:49,176 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10f0b9710>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f0b9750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10f0b9710>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f0b9750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10f0b9690>, 'PORT': 8666}
2013-09-11 17:21:49,189 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:21:49,216 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-11 17:21:49,217 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:21:49,227 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-11 17:21:49,228 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 17:21:49,228 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 17:21:49,228 rp.openidconnect:DEBUG Registering RP
2013-09-11 17:21:49,229 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:21:49,256 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-11 17:21:49,256 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:21:49,257 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378909309&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DwhckXg68b1th&registration_access_token=pyVDpQdar7rrqM4BfP6txRF8g8Mxqone&client_id=whckXg68b1th&client_secret=6565251c0047f7567e11d65fb85e22b7d5cc64fdc3b729a406bf9d96&client_secret_expires_at=1378995709
2013-09-11 17:21:49,257 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10f0c9610>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:bf709c10-c068-4361-8498-7e5838f28ae9'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'6565251c0047f7567e11d65fb85e22b7d5cc64fdc3b729a406bf9d96'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10f0c9490>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10f0d1590>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'whckXg68b1th'), ('registration_expires', 1378995709), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10f0c9790>), ('client_prefs', {}), ('registration_access_token', u'pyVDpQdar7rrqM4BfP6txRF8g8Mxqone'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 17:21:49,257 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:5bdad3f7-11e1-45a2-9109-3b34ea89f841', 'response_type': 'code'}
2013-09-11 17:21:49,258 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A5bdad3f7-11e1-45a2-9109-3b34ea89f841&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=whckXg68b1th
2013-09-11 17:21:49,258 rp.openidconnect:DEBUG body: None
2013-09-11 17:21:49,258 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A5bdad3f7-11e1-45a2-9109-3b34ea89f841&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=whckXg68b1th
2013-09-11 17:21:49,258 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:21:49,258 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A5bdad3f7-11e1-45a2-9109-3b34ea89f841&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=whckXg68b1th')]
2013-09-11 17:21:49,306 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10f0b96d0>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A5bdad3f7-11e1-45a2-9109-3b34ea89f841&code=r1ZWrU3sxJQlm85VE%2Fcqg4lSBV%2BMmJ7FbySjgM%2Bj%2Bva1p0fjbswLbrRTDDxd8Ibe', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49624', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10f0c58d0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378912909.306569, 'service': u'https://localhost:8092/', '_creation_time': 1378912906.386024}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A5bdad3f7-11e1-45a2-9109-3b34ea89f841&code=r1ZWrU3sxJQlm85VE%2Fcqg4lSBV%2BMmJ7FbySjgM%2Bj%2Bva1p0fjbswLbrRTDDxd8Ibe', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10e542270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:21:49,306 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:5bdad3f7-11e1-45a2-9109-3b34ea89f841'], 'code': ['r1ZWrU3sxJQlm85VE/cqg4lSBV+MmJ7FbySjgM+j+va1p0fjbswLbrRTDDxd8Ibe']}
2013-09-11 17:21:49,307 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:5bdad3f7-11e1-45a2-9109-3b34ea89f841'], 'code': ['r1ZWrU3sxJQlm85VE/cqg4lSBV+MmJ7FbySjgM+j+va1p0fjbswLbrRTDDxd8Ibe']}
2013-09-11 17:21:49,307 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:21:49,333 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-11 17:21:49,334 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:21:49,335 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10f0b96d0>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A5bdad3f7-11e1-45a2-9109-3b34ea89f841&code=r1ZWrU3sxJQlm85VE%2Fcqg4lSBV%2BMmJ7FbySjgM%2Bj%2Bva1p0fjbswLbrRTDDxd8Ibe', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49624', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10f0c58d0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378912909.306569, 'service': u'https://localhost:8092/', '_creation_time': 1378912906.386024}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A5bdad3f7-11e1-45a2-9109-3b34ea89f841&code=r1ZWrU3sxJQlm85VE%2Fcqg4lSBV%2BMmJ7FbySjgM%2Bj%2Bva1p0fjbswLbrRTDDxd8Ibe', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10e542270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:21:49,335 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10f039290>]
2013-09-11 17:21:49,335 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=r1ZWrU3sxJQlm85VE%2Fcqg4lSBV%2BMmJ7FbySjgM%2Bj%2Bva1p0fjbswLbrRTDDxd8Ibe&client_secret=6565251c0047f7567e11d65fb85e22b7d5cc64fdc3b729a406bf9d96&grant_type=authorization_code&client_id=whckXg68b1th&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 17:21:49,335 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:21:49,336 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:21:49,371 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 17:21:49,371 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:21:49,372 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 15:21:49 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 17:21:49,372 oic.oauth2:DEBUG resp.txt: {"access_token": "r1ZWrU3sxJQlm85VE/cqg4hWBze52p4ze0c0Af0a19526qGbjir2bk6MO1Zqg5I3", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIndoY2tYZzY4YjF0aCJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk5MjEwOSwgImlhdCI6IDEzNzg5MTI5MDksICJzdWIiOiAiaGFobzAwMzIifQ.jevk5GEHUVuEG8PzmzgswjJfAbysRoSFCV04-axNEVORANV5Mxgg5KOovhlPJVBpVEI7MJDggOogJkYQbNFFTTK_Sdxi4Mj6ZXut3vCNkB9g7jpDr2gTlhR0XGbT-6SEZzIFtPvAmihli7xiwRfHDI1sFdyuAstmcVpeqpq-KKOgM88YbCzKz-a5Q4rDQfNKs9RXSF7y-Y1sKtvDhdCEall42ULJslirvwyJskYUz9vh_CXOI997ChV7n5eTNPZBYjOBzerrFM3mz--x_nO1-OJE40cY6PNXr9aRJ4qF21MwBSgX962LChbqr4eQINi9QUn9J1bn4jfYZp3l2qcmyA", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:5bdad3f7-11e1-45a2-9109-3b34ea89f841", "scope": "openid profile", "refresh_token": "r1ZWrU3sxJQlm85VE/cqgxJNyw1Lk9vlyurOEdplqJSeAOWOL435CRRzr7/2rNFB"}
2013-09-11 17:21:49,372 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 17:21:49,373 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'r1ZWrU3sxJQlm85VE/cqg4hWBze52p4ze0c0Af0a19526qGbjir2bk6MO1Zqg5I3', 'request': 'openid', 'schema': 'openid'}
2013-09-11 17:21:49,373 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=r1ZWrU3sxJQlm85VE%2Fcqg4hWBze52p4ze0c0Af0a19526qGbjir2bk6MO1Zqg5I3 H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 17:21:49,374 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:21:49,401 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 17:21:49,401 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:21:49,401 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-11 17:21:49,402 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-11 17:21:49,402 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'})
2013-09-11 17:21:49,621 root:INFO [static]sending: static/style.css
2013-09-11 17:21:49,623 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:21:49,624 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:21:49,626 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:21:57,518 root:INFO RP server starting listening on port:8666
2013-09-11 17:22:01,769 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:22:01,770 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:22:01,772 root:INFO [static]sending: static/style.css
2013-09-11 17:22:01,773 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:22:02,716 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:22:02,716 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110b906d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110b90710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110b906d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110b90710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x110b90650>, 'PORT': 8666}
2013-09-11 17:22:06,549 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:22:06,589 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-11 17:22:06,591 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:22:06,612 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-11 17:22:06,614 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 17:22:06,617 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 17:22:06,617 rp.openidconnect:DEBUG Registering RP
2013-09-11 17:22:06,624 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:22:06,653 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-11 17:22:06,655 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:22:06,657 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378909326&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DqBktCr9Wd4En&registration_access_token=TSVlewW0Bsh5fMDRIk2C6FMYezHUdWTw&client_id=qBktCr9Wd4En&client_secret=97c8361c069f217463ee6c8688dc2dc21047471bd03947ca8ae7168a&client_secret_expires_at=1378995726
2013-09-11 17:22:06,658 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x110bac790>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:9253a7f2-455a-4b50-aff2-850a9884e3ea'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'97c8361c069f217463ee6c8688dc2dc21047471bd03947ca8ae7168a'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x110bac710>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x110bb74d0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'qBktCr9Wd4En'), ('registration_expires', 1378995726), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x110bac690>), ('client_prefs', {}), ('registration_access_token', u'TSVlewW0Bsh5fMDRIk2C6FMYezHUdWTw'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 17:22:06,658 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:e210a624-52c5-4ab1-bb08-7fdd2ef63e01', 'response_type': 'code'}
2013-09-11 17:22:06,659 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Ae210a624-52c5-4ab1-bb08-7fdd2ef63e01&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=qBktCr9Wd4En
2013-09-11 17:22:06,660 rp.openidconnect:DEBUG body: None
2013-09-11 17:22:06,661 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ae210a624-52c5-4ab1-bb08-7fdd2ef63e01&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=qBktCr9Wd4En
2013-09-11 17:22:06,661 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:22:06,662 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ae210a624-52c5-4ab1-bb08-7fdd2ef63e01&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=qBktCr9Wd4En')]
2013-09-11 17:22:32,559 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110b90690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ae210a624-52c5-4ab1-bb08-7fdd2ef63e01&code=Jjii1O4MLyiXOdnbnq5u1A09p%2FBMVfPFsw%2BMZv6%2BPvbphb5tKelOPpNE6nWzKmVp', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49648', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10efbdfd0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378912926.698436, 'service': u'https://localhost:8092/', '_creation_time': 1378912921.545663}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3Ae210a624-52c5-4ab1-bb08-7fdd2ef63e01&code=Jjii1O4MLyiXOdnbnq5u1A09p%2FBMVfPFsw%2BMZv6%2BPvbphb5tKelOPpNE6nWzKmVp', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10ef12270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:22:32,559 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:e210a624-52c5-4ab1-bb08-7fdd2ef63e01'], 'code': ['Jjii1O4MLyiXOdnbnq5u1A09p/BMVfPFsw+MZv6+Pvbphb5tKelOPpNE6nWzKmVp']}
2013-09-11 17:22:35,177 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:e210a624-52c5-4ab1-bb08-7fdd2ef63e01'], 'code': ['Jjii1O4MLyiXOdnbnq5u1A09p/BMVfPFsw+MZv6+Pvbphb5tKelOPpNE6nWzKmVp']}
2013-09-11 17:22:35,181 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:22:35,208 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-11 17:22:35,213 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:22:35,214 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110b90690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ae210a624-52c5-4ab1-bb08-7fdd2ef63e01&code=Jjii1O4MLyiXOdnbnq5u1A09p%2FBMVfPFsw%2BMZv6%2BPvbphb5tKelOPpNE6nWzKmVp', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49648', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10efbdfd0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378912926.698436, 'service': u'https://localhost:8092/', '_creation_time': 1378912921.545663}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3Ae210a624-52c5-4ab1-bb08-7fdd2ef63e01&code=Jjii1O4MLyiXOdnbnq5u1A09p%2FBMVfPFsw%2BMZv6%2BPvbphb5tKelOPpNE6nWzKmVp', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10ef12270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:22:35,214 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x110ae15a8>]
2013-09-11 17:22:35,215 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=Jjii1O4MLyiXOdnbnq5u1A09p%2FBMVfPFsw%2BMZv6%2BPvbphb5tKelOPpNE6nWzKmVp&client_secret=97c8361c069f217463ee6c8688dc2dc21047471bd03947ca8ae7168a&grant_type=authorization_code&client_id=qBktCr9Wd4En&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 17:22:35,216 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:22:35,221 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:22:35,256 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 17:22:35,258 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:22:35,258 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 15:22:35 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 17:22:35,259 oic.oauth2:DEBUG resp.txt: {"access_token": "Jjii1O4MLyiXOdnbnq5u1D2wdd9qE4TPWXrcajOnbExHthHTOed57fryywfMvI91", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbInFCa3RDcjlXZDRFbiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk5MjE1NSwgImlhdCI6IDEzNzg5MTI5NTUsICJzdWIiOiAiaGFobzAwMzIifQ.REku2cyITUN-TO9FuklwAotM0JUhYWycfv8bPOnC_O2wQ3rrr5mH5McqV1_EnTL20t3GC9eVR10W17PUaA9TG9uWCJrzn_cUrV-Ml_SKi-tFx2e7Q-PD8CZGmTpNuVIq63o05DWwhyvHm720hKhfDN5S4GY0blBlFcJALl3slt53-cNlxiqYpOJcnbiqrSa7bwPn__kFU_T9ZdvIBmVGYQAQaj2ZWw0yIr1PeM7BfUECEtCXFSbJ1hlGePoV8PVEfzlGeMdwBYtWCStVHRkLr1jQUsOp7bh7Uf0McTk3ANW7ohW29cefM1BmNeEWJ1RwJnFAiePplv3j5qpgnkT_gw", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:e210a624-52c5-4ab1-bb08-7fdd2ef63e01", "scope": "openid profile", "refresh_token": "Jjii1O4MLyiXOdnbnq5u1BJZZuUr/FFz9ZdErGYacZ/XjcZf/yBDQUj2/CsExJWm"}
2013-09-11 17:22:35,260 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 17:22:35,262 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'Jjii1O4MLyiXOdnbnq5u1D2wdd9qE4TPWXrcajOnbExHthHTOed57fryywfMvI91', 'request': 'openid', 'schema': 'openid'}
2013-09-11 17:22:35,263 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=Jjii1O4MLyiXOdnbnq5u1D2wdd9qE4TPWXrcajOnbExHthHTOed57fryywfMvI91 H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 17:22:35,268 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:22:35,295 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 17:22:35,297 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:22:35,298 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-11 17:22:39,196 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-11 17:22:39,196 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'})
2013-09-11 17:25:10,134 root:INFO [static]sending: static/style.css
2013-09-11 17:25:10,135 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:25:10,139 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:25:10,141 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:25:16,756 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110b90690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ae210a624-52c5-4ab1-bb08-7fdd2ef63e01&code=Jjii1O4MLyiXOdnbnq5u1A09p%2FBMVfPFsw%2BMZv6%2BPvbphb5tKelOPpNE6nWzKmVp', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49677', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110adf910>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913116.755608, 'service': u'https://localhost:8092/', '_creation_time': 1378912921.545663}, 'wsgi.multithread': True, 'HTTP_CACHE_CONTROL': 'max-age=0', 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3Ae210a624-52c5-4ab1-bb08-7fdd2ef63e01&code=Jjii1O4MLyiXOdnbnq5u1A09p%2FBMVfPFsw%2BMZv6%2BPvbphb5tKelOPpNE6nWzKmVp', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10ef12270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:25:16,757 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:e210a624-52c5-4ab1-bb08-7fdd2ef63e01'], 'code': ['Jjii1O4MLyiXOdnbnq5u1A09p/BMVfPFsw+MZv6+Pvbphb5tKelOPpNE6nWzKmVp']}
2013-09-11 17:25:16,757 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:e210a624-52c5-4ab1-bb08-7fdd2ef63e01'], 'code': ['Jjii1O4MLyiXOdnbnq5u1A09p/BMVfPFsw+MZv6+Pvbphb5tKelOPpNE6nWzKmVp']}
2013-09-11 17:25:16,758 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:25:16,759 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110b90690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ae210a624-52c5-4ab1-bb08-7fdd2ef63e01&code=Jjii1O4MLyiXOdnbnq5u1A09p%2FBMVfPFsw%2BMZv6%2BPvbphb5tKelOPpNE6nWzKmVp', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49677', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110adf910>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913116.755608, 'service': u'https://localhost:8092/', '_creation_time': 1378912921.545663}, 'wsgi.multithread': True, 'HTTP_CACHE_CONTROL': 'max-age=0', 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3Ae210a624-52c5-4ab1-bb08-7fdd2ef63e01&code=Jjii1O4MLyiXOdnbnq5u1A09p%2FBMVfPFsw%2BMZv6%2BPvbphb5tKelOPpNE6nWzKmVp', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10ef12270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:25:16,759 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x110ae15a8>]
2013-09-11 17:25:16,761 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=Jjii1O4MLyiXOdnbnq5u1A09p%2FBMVfPFsw%2BMZv6%2BPvbphb5tKelOPpNE6nWzKmVp&client_secret=97c8361c069f217463ee6c8688dc2dc21047471bd03947ca8ae7168a&grant_type=authorization_code&client_id=qBktCr9Wd4En&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 17:25:16,762 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:25:16,768 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:25:16,796 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 400 None
2013-09-11 17:25:16,798 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:25:16,799 rp.openidconnect:ERROR ERROR: Something went wrong: {"error_description": "Access code already used!!", "error": "access_denied"} [400]
2013-09-11 17:25:24,031 root:INFO [static]sending: static/style.css
2013-09-11 17:25:24,036 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:25:24,040 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:25:24,042 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:25:25,933 root:INFO [static]sending: static/style.css
2013-09-11 17:25:25,940 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:25:25,941 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:25:25,943 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:25:27,101 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:25:27,102 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110b906d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110b90710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110b906d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110b90710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOIC': <oic.oic.Client object at 0x110bac650>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x110b90650>, 'PORT': 8666}
2013-09-11 17:25:27,103 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x110bac790>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:e210a624-52c5-4ab1-bb08-7fdd2ef63e01': <oic.oic.Grant object at 0x110ad5ed0>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:3c6feaee-5c0e-4f8b-a19c-7bfc9220312e'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'97c8361c069f217463ee6c8688dc2dc21047471bd03947ca8ae7168a'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x110bac710>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x110bb74d0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'qBktCr9Wd4En'), ('registration_expires', 1378995726), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x110bac690>), ('client_prefs', {}), ('registration_access_token', u'TSVlewW0Bsh5fMDRIk2C6FMYezHUdWTw'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 17:25:27,103 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:9253a7f2-455a-4b50-aff2-850a9884e3ea', 'response_type': 'code'}
2013-09-11 17:25:27,104 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A9253a7f2-455a-4b50-aff2-850a9884e3ea&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=qBktCr9Wd4En
2013-09-11 17:25:27,105 rp.openidconnect:DEBUG body: None
2013-09-11 17:25:27,105 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A9253a7f2-455a-4b50-aff2-850a9884e3ea&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=qBktCr9Wd4En
2013-09-11 17:25:27,106 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:25:27,106 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A9253a7f2-455a-4b50-aff2-850a9884e3ea&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=qBktCr9Wd4En')]
2013-09-11 17:25:27,144 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110b90690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A9253a7f2-455a-4b50-aff2-850a9884e3ea&code=O0A%2B50xvUtcku4yw6b6quxFpHCnPpnW7U2MkmeZNLQ5cdEur00fNdSHhUIdMrmnx', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49689', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110b9be90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913127.144024, 'service': u'https://localhost:8092/', '_creation_time': 1378912921.545663}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A9253a7f2-455a-4b50-aff2-850a9884e3ea&code=O0A%2B50xvUtcku4yw6b6quxFpHCnPpnW7U2MkmeZNLQ5cdEur00fNdSHhUIdMrmnx', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10ef12270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:25:27,145 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:9253a7f2-455a-4b50-aff2-850a9884e3ea'], 'code': ['O0A+50xvUtcku4yw6b6quxFpHCnPpnW7U2MkmeZNLQ5cdEur00fNdSHhUIdMrmnx']}
2013-09-11 17:25:27,145 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:9253a7f2-455a-4b50-aff2-850a9884e3ea'], 'code': ['O0A+50xvUtcku4yw6b6quxFpHCnPpnW7U2MkmeZNLQ5cdEur00fNdSHhUIdMrmnx']}
2013-09-11 17:25:27,146 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:25:27,147 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110b90690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A9253a7f2-455a-4b50-aff2-850a9884e3ea&code=O0A%2B50xvUtcku4yw6b6quxFpHCnPpnW7U2MkmeZNLQ5cdEur00fNdSHhUIdMrmnx', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49689', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110b9be90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913127.144024, 'service': u'https://localhost:8092/', '_creation_time': 1378912921.545663}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A9253a7f2-455a-4b50-aff2-850a9884e3ea&code=O0A%2B50xvUtcku4yw6b6quxFpHCnPpnW7U2MkmeZNLQ5cdEur00fNdSHhUIdMrmnx', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10ef12270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:25:27,148 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x110ae15a8>]
2013-09-11 17:25:27,149 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=O0A%2B50xvUtcku4yw6b6quxFpHCnPpnW7U2MkmeZNLQ5cdEur00fNdSHhUIdMrmnx&client_secret=97c8361c069f217463ee6c8688dc2dc21047471bd03947ca8ae7168a&grant_type=authorization_code&client_id=qBktCr9Wd4En&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 17:25:27,149 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:25:27,154 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:25:27,190 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 17:25:27,192 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:25:27,192 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 15:25:27 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 17:25:27,193 oic.oauth2:DEBUG resp.txt: {"access_token": "O0A+50xvUtcku4yw6b6qu8H5vZ/UK0K3VzkzC8LZ95w3MV27rMiqgjRiFinjaJn7", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbInFCa3RDcjlXZDRFbiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk5MjMyNywgImlhdCI6IDEzNzg5MTMxMjcsICJzdWIiOiAiaGFobzAwMzIifQ.a-4bLhY2jkOw3THGfQXIODnnMH7oFTXnrWyP392MCzgOjERD3Zuwmr-z3517BZMw8TLM6gl7mTyYmRhCzkz1N4Fctif0M6MzzkNJ6Nl1J07ot_rcdmsa8N0DbJB-pz7Ybsxdt6OontGjcHd6lsPbJ0tpu3usU5WcUVnMyTn7jpUjova14DigAd1n360GXc4AyecKl-dKLU66Q9HzYoiCwoHHBR6u6rt0Cx_dNM29ztiCCWB9nDiORDg9nf-h8w3ylZi2onbdmUpad4Y5bOCNeXrWHDLcEpFKH9J63fjSQSi4pgrZwPn37f4WigRleHl9K2Q-YBHcLZfDm0z0bPWpxQ", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:9253a7f2-455a-4b50-aff2-850a9884e3ea", "scope": "openid profile", "refresh_token": "O0A+50xvUtcku4yw6b6qu3A013hHCSGgtdrrBQIwXUjEEOgwKOXpnHbbTIKqFV76"}
2013-09-11 17:25:27,194 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 17:25:27,197 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'O0A+50xvUtcku4yw6b6qu8H5vZ/UK0K3VzkzC8LZ95w3MV27rMiqgjRiFinjaJn7', 'request': 'openid', 'schema': 'openid'}
2013-09-11 17:25:27,197 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=O0A%2B50xvUtcku4yw6b6qu8H5vZ%2FUK0K3VzkzC8LZ95w3MV27rMiqgjRiFinjaJn7 H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 17:25:27,202 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:25:27,241 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 17:25:27,242 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:25:27,243 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-11 17:25:27,245 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-11 17:25:27,245 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'})
2013-09-11 17:25:33,815 root:INFO [static]sending: static/style.css
2013-09-11 17:25:33,816 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:25:33,819 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:25:33,822 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:28:13,984 root:INFO RP server starting listening on port:8666
2013-09-11 17:28:17,337 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:28:17,337 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:28:17,338 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:28:17,341 root:INFO [static]sending: static/style.css
2013-09-11 17:28:18,497 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:28:18,498 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10a3ff690>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10a3ff6d0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10a3ff690>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10a3ff6d0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10a3ff610>, 'PORT': 8666}
2013-09-11 17:28:18,521 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:28:18,561 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-11 17:28:18,563 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:28:18,585 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-11 17:28:18,587 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 17:28:18,589 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 17:28:18,590 rp.openidconnect:DEBUG Registering RP
2013-09-11 17:28:18,597 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:28:18,625 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-11 17:28:18,627 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:28:18,629 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378909698&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DMrcWvMSU3jBq&registration_access_token=WptgpIK3Zu8GIagSeYXVrUQgEDJ5oTDH&client_id=MrcWvMSU3jBq&client_secret=caa9aaae0f0c0dbc18e01e49f4749464d290c86ad5a5225c5db56b13&client_secret_expires_at=1378996098
2013-09-11 17:28:18,630 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10a4135d0>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:365bce55-4b99-4cac-bf6e-9443fd47157e'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'caa9aaae0f0c0dbc18e01e49f4749464d290c86ad5a5225c5db56b13'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10a4131d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x108869ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'MrcWvMSU3jBq'), ('registration_expires', 1378996098), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10a413590>), ('client_prefs', {}), ('registration_access_token', u'WptgpIK3Zu8GIagSeYXVrUQgEDJ5oTDH'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 17:28:18,631 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:6899e99c-454d-466d-851f-769bef5bc334', 'response_type': 'code'}
2013-09-11 17:28:18,632 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A6899e99c-454d-466d-851f-769bef5bc334&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=MrcWvMSU3jBq
2013-09-11 17:28:18,633 rp.openidconnect:DEBUG body: None
2013-09-11 17:28:18,633 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A6899e99c-454d-466d-851f-769bef5bc334&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=MrcWvMSU3jBq
2013-09-11 17:28:18,633 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:28:18,634 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A6899e99c-454d-466d-851f-769bef5bc334&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=MrcWvMSU3jBq')]
2013-09-11 17:28:18,685 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10a3ff650>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A6899e99c-454d-466d-851f-769bef5bc334&code=tFf%2B%2BI9OqlC6IriBGKTFumvib3Mng8OY2%2BOOHJQYzzXSudhNKDqKDQVkhmjOPfNm', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49757', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10a413e90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913298.68487, 'service': u'https://localhost:8092/', '_creation_time': 1378913297.121897}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A6899e99c-454d-466d-851f-769bef5bc334&code=tFf%2B%2BI9OqlC6IriBGKTFumvib3Mng8OY2%2BOOHJQYzzXSudhNKDqKDQVkhmjOPfNm', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1087be270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:28:18,686 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:6899e99c-454d-466d-851f-769bef5bc334'], 'code': ['tFf++I9OqlC6IriBGKTFumvib3Mng8OY2+OOHJQYzzXSudhNKDqKDQVkhmjOPfNm']}
2013-09-11 17:28:18,686 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:6899e99c-454d-466d-851f-769bef5bc334'], 'code': ['tFf++I9OqlC6IriBGKTFumvib3Mng8OY2+OOHJQYzzXSudhNKDqKDQVkhmjOPfNm']}
2013-09-11 17:28:18,690 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:28:18,717 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-11 17:28:18,721 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:28:18,722 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10a3ff650>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A6899e99c-454d-466d-851f-769bef5bc334&code=tFf%2B%2BI9OqlC6IriBGKTFumvib3Mng8OY2%2BOOHJQYzzXSudhNKDqKDQVkhmjOPfNm', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49757', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10a413e90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913298.68487, 'service': u'https://localhost:8092/', '_creation_time': 1378913297.121897}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A6899e99c-454d-466d-851f-769bef5bc334&code=tFf%2B%2BI9OqlC6IriBGKTFumvib3Mng8OY2%2BOOHJQYzzXSudhNKDqKDQVkhmjOPfNm', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1087be270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:28:18,722 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10a386128>]
2013-09-11 17:28:18,724 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=tFf%2B%2BI9OqlC6IriBGKTFumvib3Mng8OY2%2BOOHJQYzzXSudhNKDqKDQVkhmjOPfNm&client_secret=caa9aaae0f0c0dbc18e01e49f4749464d290c86ad5a5225c5db56b13&grant_type=authorization_code&client_id=MrcWvMSU3jBq&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 17:28:18,724 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:28:18,729 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:28:18,764 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 17:28:18,766 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:28:18,766 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 15:28:18 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 17:28:18,767 oic.oauth2:DEBUG resp.txt: {"access_token": "tFf++I9OqlC6IriBGKTFunZb7w9almG2+l1gLErNu6x9pUicAP8qNyEXGb6T6UOB", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIk1yY1d2TVNVM2pCcSJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk5MjQ5OCwgImlhdCI6IDEzNzg5MTMyOTgsICJzdWIiOiAiaGFobzAwMzIifQ.pCG5Xm69YFlgWqP4FRCrhQf5OYTXYN208vsVlvl6e4x28zCCMl07Yc8kepjgiEo6Vgw5cO8-letxdc-wB8aWcutQRXBi5Zbpudt2246wXIop5HerSpKQ94GKz38tS9lGIUc3p8f1OvCEfj_pbYQfO9SZsJtn4d-3ZPB5fyCN2EFP3Z4n3lCIAtllBju2wH1CXWg6om0vZNcYYOuszBwrGW8p3k5nXgLwf2KyNciw05DitW2u0I96Q8YWZaYH8wK9pns99GLpsgFuLtt2Op1iW7_CkK3zKgDWHfF6BHGLa1dlvkKeBd8J7cQghg340mTP3xZ-vNbf83hQUJoJpe1mDQ", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:6899e99c-454d-466d-851f-769bef5bc334", "scope": "openid profile", "refresh_token": "tFf++I9OqlC6IriBGKTFumcGwbpXWM5QHMhlzz55cQjkU5SXr+YOLl0dnSmchM3v"}
2013-09-11 17:28:18,768 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 17:28:18,771 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'tFf++I9OqlC6IriBGKTFunZb7w9almG2+l1gLErNu6x9pUicAP8qNyEXGb6T6UOB', 'request': 'openid', 'schema': 'openid'}
2013-09-11 17:28:18,771 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=tFf%2B%2BI9OqlC6IriBGKTFunZb7w9almG2%2Bl1gLErNu6x9pUicAP8qNyEXGb6T6UOB H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 17:28:18,776 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:28:18,805 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 17:28:18,808 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:28:18,810 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-11 17:28:18,812 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-11 17:28:18,812 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'tFf++I9OqlC6IriBGKTFunZb7w9almG2+l1gLErNu6x9pUicAP8qNyEXGb6T6UOB')
2013-09-11 17:28:19,145 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:28:19,146 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:28:19,146 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:28:19,150 root:INFO [static]sending: static/style.css
2013-09-11 17:28:21,991 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:28:21,992 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:28:21,993 root:INFO [static]sending: static/style.css
2013-09-11 17:28:21,997 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:28:22,807 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:28:22,807 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10a3ff690>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10a3ff6d0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10a3ff690>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10a3ff6d0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOIC': <oic.oic.Client object at 0x10a4133d0>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10a3ff610>, 'PORT': 8666}
2013-09-11 17:28:22,808 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10a4135d0>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:6899e99c-454d-466d-851f-769bef5bc334': <oic.oic.Grant object at 0x10a379e10>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:066140b6-331b-4727-9ed1-8361106e40af'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'caa9aaae0f0c0dbc18e01e49f4749464d290c86ad5a5225c5db56b13'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10a4131d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x108869ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'MrcWvMSU3jBq'), ('registration_expires', 1378996098), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10a413590>), ('client_prefs', {}), ('registration_access_token', u'WptgpIK3Zu8GIagSeYXVrUQgEDJ5oTDH'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 17:28:22,809 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:365bce55-4b99-4cac-bf6e-9443fd47157e', 'response_type': 'code'}
2013-09-11 17:28:22,811 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A365bce55-4b99-4cac-bf6e-9443fd47157e&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=MrcWvMSU3jBq
2013-09-11 17:28:22,812 rp.openidconnect:DEBUG body: None
2013-09-11 17:28:22,812 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A365bce55-4b99-4cac-bf6e-9443fd47157e&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=MrcWvMSU3jBq
2013-09-11 17:28:22,813 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:28:22,813 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A365bce55-4b99-4cac-bf6e-9443fd47157e&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=MrcWvMSU3jBq')]
2013-09-11 17:28:22,826 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10a3ff650>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A365bce55-4b99-4cac-bf6e-9443fd47157e&code=iWPN4R7S1GPDZe6KHCrchmqdKBOeabDZKaGEWvLEOJI7hBRGeAyN9tXns5%2FQKsrh', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49764', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10a383490>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913302.825673, 'service': u'https://localhost:8092/', '_creation_time': 1378913297.121897}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A365bce55-4b99-4cac-bf6e-9443fd47157e&code=iWPN4R7S1GPDZe6KHCrchmqdKBOeabDZKaGEWvLEOJI7hBRGeAyN9tXns5%2FQKsrh', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1087be270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:28:22,826 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:365bce55-4b99-4cac-bf6e-9443fd47157e'], 'code': ['iWPN4R7S1GPDZe6KHCrchmqdKBOeabDZKaGEWvLEOJI7hBRGeAyN9tXns5/QKsrh']}
2013-09-11 17:28:22,827 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:365bce55-4b99-4cac-bf6e-9443fd47157e'], 'code': ['iWPN4R7S1GPDZe6KHCrchmqdKBOeabDZKaGEWvLEOJI7hBRGeAyN9tXns5/QKsrh']}
2013-09-11 17:28:22,827 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:28:22,828 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10a3ff650>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A365bce55-4b99-4cac-bf6e-9443fd47157e&code=iWPN4R7S1GPDZe6KHCrchmqdKBOeabDZKaGEWvLEOJI7hBRGeAyN9tXns5%2FQKsrh', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49764', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10a383490>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913302.825673, 'service': u'https://localhost:8092/', '_creation_time': 1378913297.121897}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A365bce55-4b99-4cac-bf6e-9443fd47157e&code=iWPN4R7S1GPDZe6KHCrchmqdKBOeabDZKaGEWvLEOJI7hBRGeAyN9tXns5%2FQKsrh', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1087be270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:28:22,829 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10a386128>]
2013-09-11 17:28:22,830 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=iWPN4R7S1GPDZe6KHCrchmqdKBOeabDZKaGEWvLEOJI7hBRGeAyN9tXns5%2FQKsrh&client_secret=caa9aaae0f0c0dbc18e01e49f4749464d290c86ad5a5225c5db56b13&grant_type=authorization_code&client_id=MrcWvMSU3jBq&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 17:28:22,830 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:28:22,835 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:28:22,871 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 17:28:22,872 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:28:22,873 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 15:28:22 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 17:28:22,873 oic.oauth2:DEBUG resp.txt: {"access_token": "iWPN4R7S1GPDZe6KHCrchis9Fdx+AwxO34kcVQfKWpS/+AdmzMrsOg74ESHd2O6Z", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIk1yY1d2TVNVM2pCcSJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk5MjUwMiwgImlhdCI6IDEzNzg5MTMzMDIsICJzdWIiOiAiaGFobzAwMzIifQ.V_K6pGCVHFxbTs33tueURDMVWmMfxw7tZJDQBIK5DhmBKkXSeU4m5v7ltd1pOThBP2t0qlywbbDfvf4HqmG8HDycgdeSMz4znrtWFNJu6yq4v8Mtyg87AhxdnbY_WgHxTev-SPUW0JUBjIJtwWUhQg3At6TquaeD2MMZvZgCiCzJXB7KtA8-U944mQBrs8As1NqwyyC4iO6zCpgJKs3HMrnDWeOWw4y_vEV33AozoEFdbIZxj8odWqbSAcMB1sK54-2YYAHlk0J6otkvexxfQpUJJ9SJhoN_Z22IyLJqkMYAAgqeNsIubJvprUuWtx6xapRAIT-v4iUzWBFl6G5gNQ", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:365bce55-4b99-4cac-bf6e-9443fd47157e", "scope": "openid profile", "refresh_token": "iWPN4R7S1GPDZe6KHCrchnWFncSimiYCfLQ7zMpgw5XXxMctYUDQdidw5zsLEy3y"}
2013-09-11 17:28:22,875 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 17:28:22,878 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'iWPN4R7S1GPDZe6KHCrchis9Fdx+AwxO34kcVQfKWpS/+AdmzMrsOg74ESHd2O6Z', 'request': 'openid', 'schema': 'openid'}
2013-09-11 17:28:22,878 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=iWPN4R7S1GPDZe6KHCrchis9Fdx%2BAwxO34kcVQfKWpS%2F%2BAdmzMrsOg74ESHd2O6Z H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 17:28:22,883 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:28:22,910 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 17:28:22,912 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:28:22,913 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-11 17:28:22,914 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-11 17:28:22,914 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'iWPN4R7S1GPDZe6KHCrchis9Fdx+AwxO34kcVQfKWpS/+AdmzMrsOg74ESHd2O6Z')
2013-09-11 17:28:23,116 root:INFO [static]sending: static/style.css
2013-09-11 17:28:23,116 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:28:23,117 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:28:23,118 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:28:31,128 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10a3ff650>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A365bce55-4b99-4cac-bf6e-9443fd47157e&code=iWPN4R7S1GPDZe6KHCrchmqdKBOeabDZKaGEWvLEOJI7hBRGeAyN9tXns5%2FQKsrh', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49768', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108d12a90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913311.127423, 'service': u'https://localhost:8092/', '_creation_time': 1378913297.121897}, 'wsgi.multithread': True, 'HTTP_CACHE_CONTROL': 'max-age=0', 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A365bce55-4b99-4cac-bf6e-9443fd47157e&code=iWPN4R7S1GPDZe6KHCrchmqdKBOeabDZKaGEWvLEOJI7hBRGeAyN9tXns5%2FQKsrh', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1087be270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:28:31,129 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:365bce55-4b99-4cac-bf6e-9443fd47157e'], 'code': ['iWPN4R7S1GPDZe6KHCrchmqdKBOeabDZKaGEWvLEOJI7hBRGeAyN9tXns5/QKsrh']}
2013-09-11 17:28:31,129 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:365bce55-4b99-4cac-bf6e-9443fd47157e'], 'code': ['iWPN4R7S1GPDZe6KHCrchmqdKBOeabDZKaGEWvLEOJI7hBRGeAyN9tXns5/QKsrh']}
2013-09-11 17:28:31,130 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:28:31,132 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10a3ff650>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A365bce55-4b99-4cac-bf6e-9443fd47157e&code=iWPN4R7S1GPDZe6KHCrchmqdKBOeabDZKaGEWvLEOJI7hBRGeAyN9tXns5%2FQKsrh', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49768', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108d12a90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913311.127423, 'service': u'https://localhost:8092/', '_creation_time': 1378913297.121897}, 'wsgi.multithread': True, 'HTTP_CACHE_CONTROL': 'max-age=0', 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A365bce55-4b99-4cac-bf6e-9443fd47157e&code=iWPN4R7S1GPDZe6KHCrchmqdKBOeabDZKaGEWvLEOJI7hBRGeAyN9tXns5%2FQKsrh', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1087be270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:28:31,132 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10a386128>]
2013-09-11 17:28:31,134 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=iWPN4R7S1GPDZe6KHCrchmqdKBOeabDZKaGEWvLEOJI7hBRGeAyN9tXns5%2FQKsrh&client_secret=caa9aaae0f0c0dbc18e01e49f4749464d290c86ad5a5225c5db56b13&grant_type=authorization_code&client_id=MrcWvMSU3jBq&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 17:28:31,134 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:28:31,140 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:28:31,167 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 400 None
2013-09-11 17:28:31,168 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:28:31,169 rp.openidconnect:ERROR ERROR: Something went wrong: {"error_description": "Access code already used!!", "error": "access_denied"} [400]
2013-09-11 17:28:34,321 root:INFO [static]sending: static/style.css
2013-09-11 17:28:34,328 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:28:34,329 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:28:34,330 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:28:35,155 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:28:35,155 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10a3ff690>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10a3ff6d0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10a3ff690>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10a3ff6d0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOIC': <oic.oic.Client object at 0x10a4133d0>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10a3ff610>, 'PORT': 8666}
2013-09-11 17:28:35,157 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10a4135d0>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:365bce55-4b99-4cac-bf6e-9443fd47157e': <oic.oic.Grant object at 0x10a3952d0>, 'urn:uuid:6899e99c-454d-466d-851f-769bef5bc334': <oic.oic.Grant object at 0x10a379e10>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:94c7b339-babc-4311-acec-4ad9f3b25999'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'caa9aaae0f0c0dbc18e01e49f4749464d290c86ad5a5225c5db56b13'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10a4131d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x108869ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'MrcWvMSU3jBq'), ('registration_expires', 1378996098), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10a413590>), ('client_prefs', {}), ('registration_access_token', u'WptgpIK3Zu8GIagSeYXVrUQgEDJ5oTDH'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 17:28:35,158 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:066140b6-331b-4727-9ed1-8361106e40af', 'response_type': 'code'}
2013-09-11 17:28:35,159 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A066140b6-331b-4727-9ed1-8361106e40af&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=MrcWvMSU3jBq
2013-09-11 17:28:35,160 rp.openidconnect:DEBUG body: None
2013-09-11 17:28:35,161 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A066140b6-331b-4727-9ed1-8361106e40af&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=MrcWvMSU3jBq
2013-09-11 17:28:35,161 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:28:35,162 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A066140b6-331b-4727-9ed1-8361106e40af&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=MrcWvMSU3jBq')]
2013-09-11 17:28:35,199 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10a3ff650>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A066140b6-331b-4727-9ed1-8361106e40af&code=FAJ6jR7Qx4d7iVusXnNVoW3vW98CrneqpMfdo2J640nX%2BxoGulkcxTDWlip5DPkH', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49773', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10a40ac50>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913315.198803, 'service': u'https://localhost:8092/', '_creation_time': 1378913297.121897}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A066140b6-331b-4727-9ed1-8361106e40af&code=FAJ6jR7Qx4d7iVusXnNVoW3vW98CrneqpMfdo2J640nX%2BxoGulkcxTDWlip5DPkH', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1087be270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:28:35,199 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:066140b6-331b-4727-9ed1-8361106e40af'], 'code': ['FAJ6jR7Qx4d7iVusXnNVoW3vW98CrneqpMfdo2J640nX+xoGulkcxTDWlip5DPkH']}
2013-09-11 17:28:35,200 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:066140b6-331b-4727-9ed1-8361106e40af'], 'code': ['FAJ6jR7Qx4d7iVusXnNVoW3vW98CrneqpMfdo2J640nX+xoGulkcxTDWlip5DPkH']}
2013-09-11 17:28:35,201 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:28:35,202 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10a3ff650>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A066140b6-331b-4727-9ed1-8361106e40af&code=FAJ6jR7Qx4d7iVusXnNVoW3vW98CrneqpMfdo2J640nX%2BxoGulkcxTDWlip5DPkH', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49773', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10a40ac50>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913315.198803, 'service': u'https://localhost:8092/', '_creation_time': 1378913297.121897}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A066140b6-331b-4727-9ed1-8361106e40af&code=FAJ6jR7Qx4d7iVusXnNVoW3vW98CrneqpMfdo2J640nX%2BxoGulkcxTDWlip5DPkH', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1087be270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:28:35,202 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10a386128>]
2013-09-11 17:28:35,203 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=FAJ6jR7Qx4d7iVusXnNVoW3vW98CrneqpMfdo2J640nX%2BxoGulkcxTDWlip5DPkH&client_secret=caa9aaae0f0c0dbc18e01e49f4749464d290c86ad5a5225c5db56b13&grant_type=authorization_code&client_id=MrcWvMSU3jBq&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 17:28:35,204 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:28:35,210 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:28:35,245 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 17:28:35,247 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:28:35,247 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 15:28:35 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 17:28:35,248 oic.oauth2:DEBUG resp.txt: {"access_token": "FAJ6jR7Qx4d7iVusXnNVoSo5LEHBZC7ojzAAJimT0pqoR8s7GVt7Ly0aSUb5Looy", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIk1yY1d2TVNVM2pCcSJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk5MjUxNSwgImlhdCI6IDEzNzg5MTMzMTUsICJzdWIiOiAiaGFobzAwMzIifQ.1BYfHCL9ejQXm8ulTxHP193waa3upkQpbzOjFxS6tQey4s9CMDY6ae5SsCmwWxDOarrMtCQLL34Ha55_bzkMavSjEQy6MRfAPJujyXbHjLivCfiupe4nDo8QRTzKtopm8uOi7LT7jZiJUbkFLhSf6K_5mhHvb163oe7L5PbUXongQJ3xfvOixwf2YVfS1_i8PyebAq7Eb8uEPJXI5Z3cUEBXDI_4_LEAd4GoIuYWVARjE7WvkFhqOwNPmNNBycSbPZkmhgwEYCOtf_f-t6Jwo72Ibp-Mlj4HmlAxUa9_Vy_oUvWkhb0x7XDZXMIO9jBJy2HZfhLO79CKc-GRh7y8OQ", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:066140b6-331b-4727-9ed1-8361106e40af", "scope": "openid profile", "refresh_token": "FAJ6jR7Qx4d7iVusXnNVoSTcELInGPhtPKBXRFRtde9PNwX5ZtkMd7JAFQovHT05"}
2013-09-11 17:28:35,249 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 17:28:35,251 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'FAJ6jR7Qx4d7iVusXnNVoSo5LEHBZC7ojzAAJimT0pqoR8s7GVt7Ly0aSUb5Looy', 'request': 'openid', 'schema': 'openid'}
2013-09-11 17:28:35,252 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=FAJ6jR7Qx4d7iVusXnNVoSo5LEHBZC7ojzAAJimT0pqoR8s7GVt7Ly0aSUb5Looy H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 17:28:35,256 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:28:35,284 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 17:28:35,286 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:28:35,287 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-11 17:28:35,288 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-11 17:28:35,289 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'FAJ6jR7Qx4d7iVusXnNVoSo5LEHBZC7ojzAAJimT0pqoR8s7GVt7Ly0aSUb5Looy')
2013-09-11 17:28:35,507 root:INFO [static]sending: static/style.css
2013-09-11 17:28:35,509 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:28:35,509 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:28:35,513 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:28:59,922 root:INFO RP server starting listening on port:8666
2013-09-11 17:29:18,901 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:29:18,904 root:INFO [static]sending: static/style.css
2013-09-11 17:29:18,905 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:29:18,906 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:29:19,824 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:29:19,824 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110c7d6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110c7d710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110c7d6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110c7d710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x110c7d650>, 'PORT': 8666}
2013-09-11 17:29:19,845 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:29:19,884 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-11 17:29:19,886 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:29:19,907 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-11 17:29:19,910 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 17:29:19,912 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 17:29:19,912 rp.openidconnect:DEBUG Registering RP
2013-09-11 17:29:19,920 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:29:19,949 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-11 17:29:19,951 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:29:19,953 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378909759&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DoaWeGQnQ2CFv&registration_access_token=a71yAweeZXwLyELbf0zf5IBfio8RDUp1&client_id=oaWeGQnQ2CFv&client_secret=bfad4c1fcaa47700e28fbbfb3f190582587ce33d118cd943df892531&client_secret_expires_at=1378996159
2013-09-11 17:29:19,954 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x110c8f910>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:2223ebd6-deaf-4f5e-a254-ca3fec2ffa19'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'bfad4c1fcaa47700e28fbbfb3f190582587ce33d118cd943df892531'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x110c8f0d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10f0e6ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'oaWeGQnQ2CFv'), ('registration_expires', 1378996159), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x110c8f8d0>), ('client_prefs', {}), ('registration_access_token', u'a71yAweeZXwLyELbf0zf5IBfio8RDUp1'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 17:29:19,954 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:c5ef24ee-f393-4e98-bcc9-06f882ba23d2', 'response_type': 'code'}
2013-09-11 17:29:19,955 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Ac5ef24ee-f393-4e98-bcc9-06f882ba23d2&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv
2013-09-11 17:29:19,956 rp.openidconnect:DEBUG body: None
2013-09-11 17:29:19,957 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ac5ef24ee-f393-4e98-bcc9-06f882ba23d2&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv
2013-09-11 17:29:19,957 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:29:19,957 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ac5ef24ee-f393-4e98-bcc9-06f882ba23d2&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv')]
2013-09-11 17:29:19,993 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110c7d690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ac5ef24ee-f393-4e98-bcc9-06f882ba23d2&code=goerIBF66EQJEzf%2FbkhdIdqgvexAwr83Dl5SosbRe%2F%2FxCCoaIORbEZbLvxY4hZyM', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49807', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110c8fed0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913359.993334, 'service': u'https://localhost:8092/', '_creation_time': 1378913358.669058}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3Ac5ef24ee-f393-4e98-bcc9-06f882ba23d2&code=goerIBF66EQJEzf%2FbkhdIdqgvexAwr83Dl5SosbRe%2F%2FxCCoaIORbEZbLvxY4hZyM', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f03b270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:29:19,994 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:c5ef24ee-f393-4e98-bcc9-06f882ba23d2'], 'code': ['goerIBF66EQJEzf/bkhdIdqgvexAwr83Dl5SosbRe//xCCoaIORbEZbLvxY4hZyM']}
2013-09-11 17:29:19,994 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:c5ef24ee-f393-4e98-bcc9-06f882ba23d2'], 'code': ['goerIBF66EQJEzf/bkhdIdqgvexAwr83Dl5SosbRe//xCCoaIORbEZbLvxY4hZyM']}
2013-09-11 17:29:19,998 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:29:20,024 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-11 17:29:20,029 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:29:20,030 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110c7d690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ac5ef24ee-f393-4e98-bcc9-06f882ba23d2&code=goerIBF66EQJEzf%2FbkhdIdqgvexAwr83Dl5SosbRe%2F%2FxCCoaIORbEZbLvxY4hZyM', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49807', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110c8fed0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913359.993334, 'service': u'https://localhost:8092/', '_creation_time': 1378913358.669058}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3Ac5ef24ee-f393-4e98-bcc9-06f882ba23d2&code=goerIBF66EQJEzf%2FbkhdIdqgvexAwr83Dl5SosbRe%2F%2FxCCoaIORbEZbLvxY4hZyM', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f03b270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:29:20,030 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x110c03098>]
2013-09-11 17:29:20,032 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=goerIBF66EQJEzf%2FbkhdIdqgvexAwr83Dl5SosbRe%2F%2FxCCoaIORbEZbLvxY4hZyM&client_secret=bfad4c1fcaa47700e28fbbfb3f190582587ce33d118cd943df892531&grant_type=authorization_code&client_id=oaWeGQnQ2CFv&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 17:29:20,032 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:29:20,037 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:29:20,073 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 17:29:20,075 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:29:20,075 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 15:29:20 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 17:29:20,076 oic.oauth2:DEBUG resp.txt: {"access_token": "goerIBF66EQJEzf/bkhdIfLkL/o5ZsAsmmrpAjGPmaXfUh73T0IRi34bp0eiprSh", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIm9hV2VHUW5RMkNGdiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk5MjU2MCwgImlhdCI6IDEzNzg5MTMzNjAsICJzdWIiOiAiaGFobzAwMzIifQ.hE65SkgMB2JlOXhep57kPC4zzyU8KEs44S4VXiI3wVT4UT_fqkhPo4oEd8jYbymH2AeSzofZ1ZThC-tdYBn5lJ47dDsj-yKp_jexTWyYNbT1WJEpxeHm2f_-p23pPOoo-5oNmJBPoBeb3mJ5BjUaaFh0xCSaVt-pHOpdGUBboYHuxCLiYNDmq_HcIFzh1OmYbkkTD5G60IXJc1l-PTL4uvoB6WpnIMBb6RFLRWnOB08TN0XRKr0TP8Kdyat7bGWoGBEO8OIKbDQeiKSsUXDPu07KCl-NNaX5EuBY4B6G63sozNVSlFOAeDaJj8jfX0kyep3GcnwyfrB5BcCY5Fjfew", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:c5ef24ee-f393-4e98-bcc9-06f882ba23d2", "scope": "openid profile", "refresh_token": "goerIBF66EQJEzf/bkhdIRifEfY5pRVwRSSfeiV0SMKJPcRYFZexhyJsVXLaCjzM"}
2013-09-11 17:29:20,077 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 17:29:20,079 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'goerIBF66EQJEzf/bkhdIfLkL/o5ZsAsmmrpAjGPmaXfUh73T0IRi34bp0eiprSh', 'request': 'openid', 'schema': 'openid'}
2013-09-11 17:29:20,080 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=goerIBF66EQJEzf%2FbkhdIfLkL%2Fo5ZsAsmmrpAjGPmaXfUh73T0IRi34bp0eiprSh H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 17:29:20,085 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:29:20,112 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 17:29:20,113 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:29:20,114 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-11 17:29:20,115 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-11 17:29:20,116 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'goerIBF66EQJEzf/bkhdIfLkL/o5ZsAsmmrpAjGPmaXfUh73T0IRi34bp0eiprSh')
2013-09-11 17:29:37,895 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:29:37,895 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110c7d6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110c7d710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110c7d6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110c7d710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOIC': <oic.oic.Client object at 0x110c8f1d0>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x110c7d650>, 'PORT': 8666}
2013-09-11 17:29:37,896 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x110c8f910>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:c5ef24ee-f393-4e98-bcc9-06f882ba23d2': <oic.oic.Grant object at 0x110bf6e10>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:abd7dc36-4f40-42db-8f40-00db7abd1b2b'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'bfad4c1fcaa47700e28fbbfb3f190582587ce33d118cd943df892531'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x110c8f0d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10f0e6ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'oaWeGQnQ2CFv'), ('registration_expires', 1378996159), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x110c8f8d0>), ('client_prefs', {}), ('registration_access_token', u'a71yAweeZXwLyELbf0zf5IBfio8RDUp1'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 17:29:37,896 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:2223ebd6-deaf-4f5e-a254-ca3fec2ffa19', 'response_type': 'code'}
2013-09-11 17:29:37,898 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A2223ebd6-deaf-4f5e-a254-ca3fec2ffa19&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv
2013-09-11 17:29:37,899 rp.openidconnect:DEBUG body: None
2013-09-11 17:29:37,900 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A2223ebd6-deaf-4f5e-a254-ca3fec2ffa19&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv
2013-09-11 17:29:37,900 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:29:37,900 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A2223ebd6-deaf-4f5e-a254-ca3fec2ffa19&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv')]
2013-09-11 17:29:37,950 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110c7d690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A2223ebd6-deaf-4f5e-a254-ca3fec2ffa19&code=rq4Ms6CJd%2BgbVehQym0vMjekdkv7MUQ5MsOmOqN3p7qZ0BRXUh3JV42DG9JyhCUk', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49813', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110ce3fd0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913377.94996, 'service': u'https://localhost:8092/', '_creation_time': 1378913358.669058}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A2223ebd6-deaf-4f5e-a254-ca3fec2ffa19&code=rq4Ms6CJd%2BgbVehQym0vMjekdkv7MUQ5MsOmOqN3p7qZ0BRXUh3JV42DG9JyhCUk', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f03b270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:29:37,951 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:2223ebd6-deaf-4f5e-a254-ca3fec2ffa19'], 'code': ['rq4Ms6CJd+gbVehQym0vMjekdkv7MUQ5MsOmOqN3p7qZ0BRXUh3JV42DG9JyhCUk']}
2013-09-11 17:29:37,951 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:2223ebd6-deaf-4f5e-a254-ca3fec2ffa19'], 'code': ['rq4Ms6CJd+gbVehQym0vMjekdkv7MUQ5MsOmOqN3p7qZ0BRXUh3JV42DG9JyhCUk']}
2013-09-11 17:29:37,952 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:29:37,953 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110c7d690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A2223ebd6-deaf-4f5e-a254-ca3fec2ffa19&code=rq4Ms6CJd%2BgbVehQym0vMjekdkv7MUQ5MsOmOqN3p7qZ0BRXUh3JV42DG9JyhCUk', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49813', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110ce3fd0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913377.94996, 'service': u'https://localhost:8092/', '_creation_time': 1378913358.669058}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A2223ebd6-deaf-4f5e-a254-ca3fec2ffa19&code=rq4Ms6CJd%2BgbVehQym0vMjekdkv7MUQ5MsOmOqN3p7qZ0BRXUh3JV42DG9JyhCUk', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f03b270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:29:37,954 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x110c03098>]
2013-09-11 17:29:37,955 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=rq4Ms6CJd%2BgbVehQym0vMjekdkv7MUQ5MsOmOqN3p7qZ0BRXUh3JV42DG9JyhCUk&client_secret=bfad4c1fcaa47700e28fbbfb3f190582587ce33d118cd943df892531&grant_type=authorization_code&client_id=oaWeGQnQ2CFv&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 17:29:37,955 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:29:37,960 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:29:37,996 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 17:29:37,998 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:29:37,998 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 15:29:37 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 17:29:37,999 oic.oauth2:DEBUG resp.txt: {"access_token": "rq4Ms6CJd+gbVehQym0vMsq9ps7sdh8tsje3mJy9tv0Smj9h4vLBiPOY6Kwrcy2y", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIm9hV2VHUW5RMkNGdiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk5MjU3NywgImlhdCI6IDEzNzg5MTMzNzcsICJzdWIiOiAiaGFobzAwMzIifQ.MT8A8JNhbglQOu02xwdYVFENdI2nXhRqvfTg4cJAxOE1Kb_ToyBSrTCGVVByAI0N2y0FI4y7auDUVtJpNnERfuPxxXDRSnVx_dNIkgvYlSEyMqQQgCiTQ8Tkr_mxhD-egBxfm6-JlReL5wnrzXNKESDwsiqwj5wohV5ejsNLGvaneZs_Iz6oDkZ_MTtbsA8HfraPcLL34MpuTch0_WWD6n1RK6bp3pg6Yb7EiYieFxNZUFaNfN3ET5vMnLGIrs2YwZDdoVnigd5uGzopqGv_UKhan1u5s1FXHlBgD9V6Vku9NHiFuRIoJ6PBLI4nckmpG35WU2ZSUkd0eDJSO7xWzA", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:2223ebd6-deaf-4f5e-a254-ca3fec2ffa19", "scope": "openid profile", "refresh_token": "rq4Ms6CJd+gbVehQym0vMnmOvIMSSAoXQ6iEyyop5mFTYquuQA1VvelvfKDQzqF1"}
2013-09-11 17:29:38,000 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 17:29:38,003 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'rq4Ms6CJd+gbVehQym0vMsq9ps7sdh8tsje3mJy9tv0Smj9h4vLBiPOY6Kwrcy2y', 'request': 'openid', 'schema': 'openid'}
2013-09-11 17:29:38,004 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=rq4Ms6CJd%2BgbVehQym0vMsq9ps7sdh8tsje3mJy9tv0Smj9h4vLBiPOY6Kwrcy2y H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 17:29:38,008 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:29:38,046 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 17:29:38,048 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:29:38,049 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-11 17:29:38,050 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-11 17:29:38,051 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'rq4Ms6CJd+gbVehQym0vMsq9ps7sdh8tsje3mJy9tv0Smj9h4vLBiPOY6Kwrcy2y')
2013-09-11 17:29:41,240 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:29:41,241 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110c7d6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110c7d710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110c7d6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110c7d710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOIC': <oic.oic.Client object at 0x110c8f1d0>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x110c7d650>, 'PORT': 8666}
2013-09-11 17:29:41,241 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x110c8f910>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:2223ebd6-deaf-4f5e-a254-ca3fec2ffa19': <oic.oic.Grant object at 0x110ced250>, 'urn:uuid:c5ef24ee-f393-4e98-bcc9-06f882ba23d2': <oic.oic.Grant object at 0x110bf6e10>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:6f26c060-7b72-4f19-9869-fed5674e0871'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'bfad4c1fcaa47700e28fbbfb3f190582587ce33d118cd943df892531'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x110c8f0d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10f0e6ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'oaWeGQnQ2CFv'), ('registration_expires', 1378996159), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x110c8f8d0>), ('client_prefs', {}), ('registration_access_token', u'a71yAweeZXwLyELbf0zf5IBfio8RDUp1'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 17:29:41,242 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:abd7dc36-4f40-42db-8f40-00db7abd1b2b', 'response_type': 'code'}
2013-09-11 17:29:41,243 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Aabd7dc36-4f40-42db-8f40-00db7abd1b2b&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv
2013-09-11 17:29:41,244 rp.openidconnect:DEBUG body: None
2013-09-11 17:29:41,244 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Aabd7dc36-4f40-42db-8f40-00db7abd1b2b&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv
2013-09-11 17:29:41,244 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:29:41,245 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Aabd7dc36-4f40-42db-8f40-00db7abd1b2b&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv')]
2013-09-11 17:29:41,260 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110c7d690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Aabd7dc36-4f40-42db-8f40-00db7abd1b2b&code=ywHVS5DpxXyZRxlYG%2FWt8RztTuyOppqGEMdYiKaohFpmx6MzJEnkrlOLVhArhkeg', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49817', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110ced390>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913381.260139, 'service': u'https://localhost:8092/', '_creation_time': 1378913358.669058}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3Aabd7dc36-4f40-42db-8f40-00db7abd1b2b&code=ywHVS5DpxXyZRxlYG%2FWt8RztTuyOppqGEMdYiKaohFpmx6MzJEnkrlOLVhArhkeg', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f03b270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:29:41,261 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:abd7dc36-4f40-42db-8f40-00db7abd1b2b'], 'code': ['ywHVS5DpxXyZRxlYG/Wt8RztTuyOppqGEMdYiKaohFpmx6MzJEnkrlOLVhArhkeg']}
2013-09-11 17:29:41,261 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:abd7dc36-4f40-42db-8f40-00db7abd1b2b'], 'code': ['ywHVS5DpxXyZRxlYG/Wt8RztTuyOppqGEMdYiKaohFpmx6MzJEnkrlOLVhArhkeg']}
2013-09-11 17:29:41,262 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:29:41,263 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110c7d690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Aabd7dc36-4f40-42db-8f40-00db7abd1b2b&code=ywHVS5DpxXyZRxlYG%2FWt8RztTuyOppqGEMdYiKaohFpmx6MzJEnkrlOLVhArhkeg', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49817', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110ced390>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913381.260139, 'service': u'https://localhost:8092/', '_creation_time': 1378913358.669058}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3Aabd7dc36-4f40-42db-8f40-00db7abd1b2b&code=ywHVS5DpxXyZRxlYG%2FWt8RztTuyOppqGEMdYiKaohFpmx6MzJEnkrlOLVhArhkeg', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f03b270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:29:41,264 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x110c03098>]
2013-09-11 17:29:41,265 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=ywHVS5DpxXyZRxlYG%2FWt8RztTuyOppqGEMdYiKaohFpmx6MzJEnkrlOLVhArhkeg&client_secret=bfad4c1fcaa47700e28fbbfb3f190582587ce33d118cd943df892531&grant_type=authorization_code&client_id=oaWeGQnQ2CFv&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 17:29:41,265 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:29:41,270 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:29:41,305 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 17:29:41,307 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:29:41,307 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 15:29:41 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 17:29:41,308 oic.oauth2:DEBUG resp.txt: {"access_token": "ywHVS5DpxXyZRxlYG/Wt8TJKwTv79m8d47hyPSIBkQ75lkiQZ5NaXU+S+VKkQhbT", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIm9hV2VHUW5RMkNGdiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk5MjU4MSwgImlhdCI6IDEzNzg5MTMzODEsICJzdWIiOiAiaGFobzAwMzIifQ.wGF9ueOV-sHI5Ir7Mm5YVCa5VFgmefAszErNabY-JLsZB52lxMNYYIKgHXSMYk7IpJjNohJEZVG3hOXw6fR9xf4TflYh9B1o1z24x9AVp7-AnKy6DXem4dxxauu5YkaJow7taVfV6e8IPCZ7LF0iumn8gEL1W-zlUymqvn7-IsXdJK5qYWooeaucehghQ0McKEqBUDN2inh02G0ckA_-_YD7NX4qFPdSYecZYuOhL-Jwr-g6VSpbWpsjKlWql60Qil2i-4XHge4ng0yeVwEAO0aDuijj6frvx5z5dDQlea5gkh-sWG06KqlEACX4Mn6O9GiMjwPLr4VRVCEKl2qOGQ", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:abd7dc36-4f40-42db-8f40-00db7abd1b2b", "scope": "openid profile", "refresh_token": "ywHVS5DpxXyZRxlYG/Wt8eAyIuuZNHZV8ANIqCwC5CXbB+jN9MPMMJfVXuTbhh7n"}
2013-09-11 17:29:41,309 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 17:29:41,311 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'ywHVS5DpxXyZRxlYG/Wt8TJKwTv79m8d47hyPSIBkQ75lkiQZ5NaXU+S+VKkQhbT', 'request': 'openid', 'schema': 'openid'}
2013-09-11 17:29:41,312 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=ywHVS5DpxXyZRxlYG%2FWt8TJKwTv79m8d47hyPSIBkQ75lkiQZ5NaXU%2BS%2BVKkQhbT H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 17:29:41,317 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:29:41,344 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 17:29:41,346 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:29:41,346 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-11 17:29:41,348 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-11 17:29:41,348 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'ywHVS5DpxXyZRxlYG/Wt8TJKwTv79m8d47hyPSIBkQ75lkiQZ5NaXU+S+VKkQhbT')
2013-09-11 17:29:50,757 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:29:50,758 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110c7d6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110c7d710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110c7d6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110c7d710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOIC': <oic.oic.Client object at 0x110c8f1d0>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x110c7d650>, 'PORT': 8666}
2013-09-11 17:29:50,758 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x110c8f910>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:abd7dc36-4f40-42db-8f40-00db7abd1b2b': <oic.oic.Grant object at 0x110ced590>, 'urn:uuid:2223ebd6-deaf-4f5e-a254-ca3fec2ffa19': <oic.oic.Grant object at 0x110ced250>, 'urn:uuid:c5ef24ee-f393-4e98-bcc9-06f882ba23d2': <oic.oic.Grant object at 0x110bf6e10>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:ce3e37f1-7e7a-4716-9404-29ce3a9aa9dc'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'bfad4c1fcaa47700e28fbbfb3f190582587ce33d118cd943df892531'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x110c8f0d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10f0e6ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'oaWeGQnQ2CFv'), ('registration_expires', 1378996159), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x110c8f8d0>), ('client_prefs', {}), ('registration_access_token', u'a71yAweeZXwLyELbf0zf5IBfio8RDUp1'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 17:29:50,759 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:6f26c060-7b72-4f19-9869-fed5674e0871', 'response_type': 'code'}
2013-09-11 17:29:50,760 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A6f26c060-7b72-4f19-9869-fed5674e0871&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv
2013-09-11 17:29:50,761 rp.openidconnect:DEBUG body: None
2013-09-11 17:29:50,762 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A6f26c060-7b72-4f19-9869-fed5674e0871&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv
2013-09-11 17:29:50,762 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:29:50,763 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A6f26c060-7b72-4f19-9869-fed5674e0871&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv')]
2013-09-11 17:29:50,777 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110c7d690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A6f26c060-7b72-4f19-9869-fed5674e0871&code=yQP%2FfgoYj3d6mODR5Dca9w4oD3PTc3rNixGBfKQw2PD%2FXeOA%2BauactVsRaXEehA3', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49821', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110ced3d0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913390.776439, 'service': u'https://localhost:8092/', '_creation_time': 1378913358.669058}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A6f26c060-7b72-4f19-9869-fed5674e0871&code=yQP%2FfgoYj3d6mODR5Dca9w4oD3PTc3rNixGBfKQw2PD%2FXeOA%2BauactVsRaXEehA3', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f03b270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:29:50,777 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:6f26c060-7b72-4f19-9869-fed5674e0871'], 'code': ['yQP/fgoYj3d6mODR5Dca9w4oD3PTc3rNixGBfKQw2PD/XeOA+auactVsRaXEehA3']}
2013-09-11 17:29:50,777 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:6f26c060-7b72-4f19-9869-fed5674e0871'], 'code': ['yQP/fgoYj3d6mODR5Dca9w4oD3PTc3rNixGBfKQw2PD/XeOA+auactVsRaXEehA3']}
2013-09-11 17:29:50,778 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:29:50,779 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110c7d690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A6f26c060-7b72-4f19-9869-fed5674e0871&code=yQP%2FfgoYj3d6mODR5Dca9w4oD3PTc3rNixGBfKQw2PD%2FXeOA%2BauactVsRaXEehA3', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49821', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110ced3d0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913390.776439, 'service': u'https://localhost:8092/', '_creation_time': 1378913358.669058}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A6f26c060-7b72-4f19-9869-fed5674e0871&code=yQP%2FfgoYj3d6mODR5Dca9w4oD3PTc3rNixGBfKQw2PD%2FXeOA%2BauactVsRaXEehA3', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f03b270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:29:50,780 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x110c03098>]
2013-09-11 17:29:50,781 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=yQP%2FfgoYj3d6mODR5Dca9w4oD3PTc3rNixGBfKQw2PD%2FXeOA%2BauactVsRaXEehA3&client_secret=bfad4c1fcaa47700e28fbbfb3f190582587ce33d118cd943df892531&grant_type=authorization_code&client_id=oaWeGQnQ2CFv&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 17:29:50,781 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:29:50,786 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:29:50,822 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 17:29:50,824 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:29:50,824 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 15:29:50 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 17:29:50,825 oic.oauth2:DEBUG resp.txt: {"access_token": "yQP/fgoYj3d6mODR5Dca967Zl7DOeRSner80CbgAPYfY1M5ZWqfDAt5WMoa1XrUw", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIm9hV2VHUW5RMkNGdiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk5MjU5MCwgImlhdCI6IDEzNzg5MTMzOTAsICJzdWIiOiAiaGFobzAwMzIifQ.AJGnZKlEbmCsnu9HKhl9h32b_WDDER9w154X8p7rtaeOlKK4RQNAbU4Ijd7OeldOfRf91plwG24_4DzpscxbN4n_riU_SyvDtuBSxoTm04PpBdMw9U_AJwbRoZpoYQ433BxXiruf8TYUjVCYV4L9CJr3RyGrxYV_mdpzz9JU_ZgF8PBVAQpuFXKxyALbaiEgR3PMW7_IDD1JMTjWzbw_8Y9IC-2R2y7SJlX5eGL1tgFNDy6mmps1KQ8SFOh-9xBTr_22ax1IqFhly9zEEw9ZysMcQzEmsooCw9NFPoyhMoDnot4q1-HKiTt5pkzTla3mbxUdw3NL5sNaXQHjbOEKEQ", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:6f26c060-7b72-4f19-9869-fed5674e0871", "scope": "openid profile", "refresh_token": "yQP/fgoYj3d6mODR5Dca90kqBi39zIflJ0tSBJcPXybQ4d7HEw+4qBgpFFHfSpdC"}
2013-09-11 17:29:50,826 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 17:29:50,828 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'yQP/fgoYj3d6mODR5Dca967Zl7DOeRSner80CbgAPYfY1M5ZWqfDAt5WMoa1XrUw', 'request': 'openid', 'schema': 'openid'}
2013-09-11 17:29:50,829 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=yQP%2FfgoYj3d6mODR5Dca967Zl7DOeRSner80CbgAPYfY1M5ZWqfDAt5WMoa1XrUw H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 17:29:50,834 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:29:50,861 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 17:29:50,863 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:29:50,863 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-11 17:29:50,865 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-11 17:29:50,865 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'yQP/fgoYj3d6mODR5Dca967Zl7DOeRSner80CbgAPYfY1M5ZWqfDAt5WMoa1XrUw')
2013-09-11 17:30:10,156 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:30:10,157 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110c7d6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110c7d710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110c7d6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110c7d710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOIC': <oic.oic.Client object at 0x110c8f1d0>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x110c7d650>, 'PORT': 8666}
2013-09-11 17:30:10,158 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x110c8f910>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:6f26c060-7b72-4f19-9869-fed5674e0871': <oic.oic.Grant object at 0x110cedc10>, 'urn:uuid:abd7dc36-4f40-42db-8f40-00db7abd1b2b': <oic.oic.Grant object at 0x110ced590>, 'urn:uuid:2223ebd6-deaf-4f5e-a254-ca3fec2ffa19': <oic.oic.Grant object at 0x110ced250>, 'urn:uuid:c5ef24ee-f393-4e98-bcc9-06f882ba23d2': <oic.oic.Grant object at 0x110bf6e10>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:ff11aec2-b87d-4925-9b93-f882f94bfa31'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'bfad4c1fcaa47700e28fbbfb3f190582587ce33d118cd943df892531'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x110c8f0d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10f0e6ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'oaWeGQnQ2CFv'), ('registration_expires', 1378996159), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x110c8f8d0>), ('client_prefs', {}), ('registration_access_token', u'a71yAweeZXwLyELbf0zf5IBfio8RDUp1'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 17:30:10,158 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:ce3e37f1-7e7a-4716-9404-29ce3a9aa9dc', 'response_type': 'code'}
2013-09-11 17:30:10,159 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Ace3e37f1-7e7a-4716-9404-29ce3a9aa9dc&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv
2013-09-11 17:30:10,160 rp.openidconnect:DEBUG body: None
2013-09-11 17:30:10,161 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ace3e37f1-7e7a-4716-9404-29ce3a9aa9dc&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv
2013-09-11 17:30:10,162 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:30:10,162 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ace3e37f1-7e7a-4716-9404-29ce3a9aa9dc&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv')]
2013-09-11 17:30:10,200 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110c7d690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ace3e37f1-7e7a-4716-9404-29ce3a9aa9dc&code=Hxl3pRzq5e5jHbrBKA7NxC7wciaaGJN5m%2FRvU5bXXp9W921V2%2F%2FtU1a8H%2B7lzSP0', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49827', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110cedf90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913410.199893, 'service': u'https://localhost:8092/', '_creation_time': 1378913358.669058}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3Ace3e37f1-7e7a-4716-9404-29ce3a9aa9dc&code=Hxl3pRzq5e5jHbrBKA7NxC7wciaaGJN5m%2FRvU5bXXp9W921V2%2F%2FtU1a8H%2B7lzSP0', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f03b270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:30:10,201 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:ce3e37f1-7e7a-4716-9404-29ce3a9aa9dc'], 'code': ['Hxl3pRzq5e5jHbrBKA7NxC7wciaaGJN5m/RvU5bXXp9W921V2//tU1a8H+7lzSP0']}
2013-09-11 17:30:10,201 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:ce3e37f1-7e7a-4716-9404-29ce3a9aa9dc'], 'code': ['Hxl3pRzq5e5jHbrBKA7NxC7wciaaGJN5m/RvU5bXXp9W921V2//tU1a8H+7lzSP0']}
2013-09-11 17:30:10,202 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:30:10,203 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110c7d690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ace3e37f1-7e7a-4716-9404-29ce3a9aa9dc&code=Hxl3pRzq5e5jHbrBKA7NxC7wciaaGJN5m%2FRvU5bXXp9W921V2%2F%2FtU1a8H%2B7lzSP0', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49827', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110cedf90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913410.199893, 'service': u'https://localhost:8092/', '_creation_time': 1378913358.669058}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3Ace3e37f1-7e7a-4716-9404-29ce3a9aa9dc&code=Hxl3pRzq5e5jHbrBKA7NxC7wciaaGJN5m%2FRvU5bXXp9W921V2%2F%2FtU1a8H%2B7lzSP0', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f03b270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:30:10,203 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x110c03098>]
2013-09-11 17:30:10,204 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=Hxl3pRzq5e5jHbrBKA7NxC7wciaaGJN5m%2FRvU5bXXp9W921V2%2F%2FtU1a8H%2B7lzSP0&client_secret=bfad4c1fcaa47700e28fbbfb3f190582587ce33d118cd943df892531&grant_type=authorization_code&client_id=oaWeGQnQ2CFv&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 17:30:10,205 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:30:10,210 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:30:10,245 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 17:30:10,247 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:30:10,247 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 15:30:10 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 17:30:10,248 oic.oauth2:DEBUG resp.txt: {"access_token": "Hxl3pRzq5e5jHbrBKA7NxGWVstdG+TApkjjpBB5mtSUI6irxLCLgiwAeXpEwDDNn", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIm9hV2VHUW5RMkNGdiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk5MjYxMCwgImlhdCI6IDEzNzg5MTM0MTAsICJzdWIiOiAiaGFobzAwMzIifQ.bjA-CGxhn5CJ-ibL4yqklwJEAwWjTafwU1_O6NQkIeYfoitUFBOVg63m7vSBbN7dIbc3nPcnBS_h397jsKv_miJKRbXlMNNkMmYkSRfiUvfU4JwYyXeY50vqQ5MBwTeUbYE9kJo7c2BaIKJ7bdeVjOzi1NpuFrtvNlbXfiWlagByTdr0uEZGPIb-vwaN1IhvKBu4qCEp9zOPLYrsv06WpED8WTBbs-aiiCChWIWOYsZS7K7O9wlDCvaN-0Z33F9VY2UdXOOzzGFt-bKuSu4AOv48defn1ED4nuSpswA2x1Eo66CvITpWO5rXPwyW4JdaKx5XWiHk2zkZNAo6tvV2Eg", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:ce3e37f1-7e7a-4716-9404-29ce3a9aa9dc", "scope": "openid profile", "refresh_token": "Hxl3pRzq5e5jHbrBKA7NxAiIF04pPADycTzThxZ6DFhzRwT2/Ea5r9bZFuUmTr2P"}
2013-09-11 17:30:10,249 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 17:30:10,251 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'Hxl3pRzq5e5jHbrBKA7NxGWVstdG+TApkjjpBB5mtSUI6irxLCLgiwAeXpEwDDNn', 'request': 'openid', 'schema': 'openid'}
2013-09-11 17:30:10,252 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=Hxl3pRzq5e5jHbrBKA7NxGWVstdG%2BTApkjjpBB5mtSUI6irxLCLgiwAeXpEwDDNn H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 17:30:10,257 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:30:10,284 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 17:30:10,286 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:30:10,287 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-11 17:30:10,288 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-11 17:30:10,289 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'Hxl3pRzq5e5jHbrBKA7NxGWVstdG+TApkjjpBB5mtSUI6irxLCLgiwAeXpEwDDNn')
2013-09-11 17:30:39,122 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:30:39,123 root:INFO [static]sending: static/style.css
2013-09-11 17:30:39,128 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:30:39,236 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:30:40,148 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:30:40,148 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110c7d6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110c7d710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110c7d6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110c7d710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOIC': <oic.oic.Client object at 0x110c8f1d0>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x110c7d650>, 'PORT': 8666}
2013-09-11 17:30:40,149 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x110c8f910>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:ce3e37f1-7e7a-4716-9404-29ce3a9aa9dc': <oic.oic.Grant object at 0x110cf7190>, 'urn:uuid:6f26c060-7b72-4f19-9869-fed5674e0871': <oic.oic.Grant object at 0x110cedc10>, 'urn:uuid:abd7dc36-4f40-42db-8f40-00db7abd1b2b': <oic.oic.Grant object at 0x110ced590>, 'urn:uuid:2223ebd6-deaf-4f5e-a254-ca3fec2ffa19': <oic.oic.Grant object at 0x110ced250>, 'urn:uuid:c5ef24ee-f393-4e98-bcc9-06f882ba23d2': <oic.oic.Grant object at 0x110bf6e10>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:390f9ce1-78f3-4e03-a151-f93c4fcaca8d'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'bfad4c1fcaa47700e28fbbfb3f190582587ce33d118cd943df892531'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x110c8f0d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10f0e6ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'oaWeGQnQ2CFv'), ('registration_expires', 1378996159), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x110c8f8d0>), ('client_prefs', {}), ('registration_access_token', u'a71yAweeZXwLyELbf0zf5IBfio8RDUp1'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 17:30:40,150 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:ff11aec2-b87d-4925-9b93-f882f94bfa31', 'response_type': 'code'}
2013-09-11 17:30:40,151 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Aff11aec2-b87d-4925-9b93-f882f94bfa31&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv
2013-09-11 17:30:40,152 rp.openidconnect:DEBUG body: None
2013-09-11 17:30:40,153 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Aff11aec2-b87d-4925-9b93-f882f94bfa31&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv
2013-09-11 17:30:40,154 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:30:40,154 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Aff11aec2-b87d-4925-9b93-f882f94bfa31&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv')]
2013-09-11 17:30:40,194 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110c7d690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Aff11aec2-b87d-4925-9b93-f882f94bfa31&code=T3OjqyW0%2FDnVgXNMUbW7DOkaRtFCSmW7CdztvzwEDRiMaS%2B3Cap8Guu96Ou%2FUnp%2B', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49835', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110ced750>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913440.193624, 'service': u'https://localhost:8092/', '_creation_time': 1378913358.669058}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3Aff11aec2-b87d-4925-9b93-f882f94bfa31&code=T3OjqyW0%2FDnVgXNMUbW7DOkaRtFCSmW7CdztvzwEDRiMaS%2B3Cap8Guu96Ou%2FUnp%2B', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f03b270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:30:40,194 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:ff11aec2-b87d-4925-9b93-f882f94bfa31'], 'code': ['T3OjqyW0/DnVgXNMUbW7DOkaRtFCSmW7CdztvzwEDRiMaS+3Cap8Guu96Ou/Unp+']}
2013-09-11 17:30:40,195 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:ff11aec2-b87d-4925-9b93-f882f94bfa31'], 'code': ['T3OjqyW0/DnVgXNMUbW7DOkaRtFCSmW7CdztvzwEDRiMaS+3Cap8Guu96Ou/Unp+']}
2013-09-11 17:30:40,196 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:30:40,197 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110c7d690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Aff11aec2-b87d-4925-9b93-f882f94bfa31&code=T3OjqyW0%2FDnVgXNMUbW7DOkaRtFCSmW7CdztvzwEDRiMaS%2B3Cap8Guu96Ou%2FUnp%2B', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49835', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110ced750>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913440.193624, 'service': u'https://localhost:8092/', '_creation_time': 1378913358.669058}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3Aff11aec2-b87d-4925-9b93-f882f94bfa31&code=T3OjqyW0%2FDnVgXNMUbW7DOkaRtFCSmW7CdztvzwEDRiMaS%2B3Cap8Guu96Ou%2FUnp%2B', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f03b270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:30:40,197 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x110c03098>]
2013-09-11 17:30:40,198 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=T3OjqyW0%2FDnVgXNMUbW7DOkaRtFCSmW7CdztvzwEDRiMaS%2B3Cap8Guu96Ou%2FUnp%2B&client_secret=bfad4c1fcaa47700e28fbbfb3f190582587ce33d118cd943df892531&grant_type=authorization_code&client_id=oaWeGQnQ2CFv&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 17:30:40,199 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:30:40,203 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:30:40,239 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 17:30:40,241 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:30:40,241 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 15:30:40 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 17:30:40,242 oic.oauth2:DEBUG resp.txt: {"access_token": "T3OjqyW0/DnVgXNMUbW7DN+dYFAptn/1n2THKy6WX6iB+Ld/TD8Jo1OvlOwO6b4P", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIm9hV2VHUW5RMkNGdiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk5MjY0MCwgImlhdCI6IDEzNzg5MTM0NDAsICJzdWIiOiAiaGFobzAwMzIifQ.UXJeEmGFjlf7cDIf4CQw3lxatrfqK0ZX5TyxKBS9MfiM0cMBDoVUc2M_9SoDnCTUKi5Wpdl2bLrb8hZvMqcgDkl30fNUETCqDEgpjQGAsPU04X2nhRvbiUIVe2HSiM67uGGw4P1T3JqduYLxihEXFwRDBbGRikXzMpmWph9wWNKJx4RFCVeCZFl86bfXrlyu_0ufkJWbcbIvYVKDCvY9PwFUepI1FnOUH8BJ_3gBibdDec1hQEpyL7XgfzWAZcBqp9dgicrTY8d-oyxvZczw1K9wJRknJr9hGpcSdSU1TD3HbaK-YdS09Cx41pGMPHsidwTUDY_ahY62kyzVlo3Utw", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:ff11aec2-b87d-4925-9b93-f882f94bfa31", "scope": "openid profile", "refresh_token": "T3OjqyW0/DnVgXNMUbW7DHLxJ/EhgA/mhNh3GLMzXisUU79CwstDWef68aLgugDJ"}
2013-09-11 17:30:40,243 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 17:30:40,245 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'T3OjqyW0/DnVgXNMUbW7DN+dYFAptn/1n2THKy6WX6iB+Ld/TD8Jo1OvlOwO6b4P', 'request': 'openid', 'schema': 'openid'}
2013-09-11 17:30:40,246 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=T3OjqyW0%2FDnVgXNMUbW7DN%2BdYFAptn%2F1n2THKy6WX6iB%2BLd%2FTD8Jo1OvlOwO6b4P H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 17:30:40,250 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:30:40,278 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 17:30:40,280 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:30:40,281 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-11 17:30:40,282 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-11 17:30:40,283 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'T3OjqyW0/DnVgXNMUbW7DN+dYFAptn/1n2THKy6WX6iB+Ld/TD8Jo1OvlOwO6b4P')
2013-09-11 17:30:45,758 root:INFO [static]sending: static/style.css
2013-09-11 17:30:45,758 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:30:45,759 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:30:45,761 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:31:45,575 root:INFO [static]sending: static/style.css
2013-09-11 17:31:45,580 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:31:45,581 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:31:45,582 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:31:46,389 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:31:46,389 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110c7d6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110c7d710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110c7d6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110c7d710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOIC': <oic.oic.Client object at 0x110c8f1d0>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x110c7d650>, 'PORT': 8666}
2013-09-11 17:31:46,390 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x110c8f910>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:6f26c060-7b72-4f19-9869-fed5674e0871': <oic.oic.Grant object at 0x110cedc10>, 'urn:uuid:2223ebd6-deaf-4f5e-a254-ca3fec2ffa19': <oic.oic.Grant object at 0x110ced250>, 'urn:uuid:ce3e37f1-7e7a-4716-9404-29ce3a9aa9dc': <oic.oic.Grant object at 0x110cf7190>, 'urn:uuid:abd7dc36-4f40-42db-8f40-00db7abd1b2b': <oic.oic.Grant object at 0x110ced590>, 'urn:uuid:ff11aec2-b87d-4925-9b93-f882f94bfa31': <oic.oic.Grant object at 0x110ced390>, 'urn:uuid:c5ef24ee-f393-4e98-bcc9-06f882ba23d2': <oic.oic.Grant object at 0x110bf6e10>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:596ca3ba-80f3-4698-bddb-5a1763299237'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'bfad4c1fcaa47700e28fbbfb3f190582587ce33d118cd943df892531'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x110c8f0d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10f0e6ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'oaWeGQnQ2CFv'), ('registration_expires', 1378996159), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x110c8f8d0>), ('client_prefs', {}), ('registration_access_token', u'a71yAweeZXwLyELbf0zf5IBfio8RDUp1'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 17:31:46,391 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:390f9ce1-78f3-4e03-a151-f93c4fcaca8d', 'response_type': 'code'}
2013-09-11 17:31:46,392 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A390f9ce1-78f3-4e03-a151-f93c4fcaca8d&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv
2013-09-11 17:31:46,392 rp.openidconnect:DEBUG body: None
2013-09-11 17:31:46,393 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A390f9ce1-78f3-4e03-a151-f93c4fcaca8d&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv
2013-09-11 17:31:46,393 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:31:46,394 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A390f9ce1-78f3-4e03-a151-f93c4fcaca8d&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv')]
2013-09-11 17:31:46,432 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110c7d690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A390f9ce1-78f3-4e03-a151-f93c4fcaca8d&code=YnLrsSW84LjB1XMzWuOQ7L%2FA1I1q84j%2Fok1%2FsfkwjJeyp5%2FUsNdamOqGc%2FjnIdu%2B', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49848', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110cf7d10>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913506.431591, 'service': u'https://localhost:8092/', '_creation_time': 1378913358.669058}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A390f9ce1-78f3-4e03-a151-f93c4fcaca8d&code=YnLrsSW84LjB1XMzWuOQ7L%2FA1I1q84j%2Fok1%2FsfkwjJeyp5%2FUsNdamOqGc%2FjnIdu%2B', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f03b270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:31:46,432 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:390f9ce1-78f3-4e03-a151-f93c4fcaca8d'], 'code': ['YnLrsSW84LjB1XMzWuOQ7L/A1I1q84j/ok1/sfkwjJeyp5/UsNdamOqGc/jnIdu+']}
2013-09-11 17:31:46,433 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:390f9ce1-78f3-4e03-a151-f93c4fcaca8d'], 'code': ['YnLrsSW84LjB1XMzWuOQ7L/A1I1q84j/ok1/sfkwjJeyp5/UsNdamOqGc/jnIdu+']}
2013-09-11 17:31:46,434 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:31:46,435 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110c7d690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A390f9ce1-78f3-4e03-a151-f93c4fcaca8d&code=YnLrsSW84LjB1XMzWuOQ7L%2FA1I1q84j%2Fok1%2FsfkwjJeyp5%2FUsNdamOqGc%2FjnIdu%2B', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49848', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110cf7d10>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913506.431591, 'service': u'https://localhost:8092/', '_creation_time': 1378913358.669058}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A390f9ce1-78f3-4e03-a151-f93c4fcaca8d&code=YnLrsSW84LjB1XMzWuOQ7L%2FA1I1q84j%2Fok1%2FsfkwjJeyp5%2FUsNdamOqGc%2FjnIdu%2B', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f03b270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:31:46,435 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x110c03098>]
2013-09-11 17:31:46,436 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=YnLrsSW84LjB1XMzWuOQ7L%2FA1I1q84j%2Fok1%2FsfkwjJeyp5%2FUsNdamOqGc%2FjnIdu%2B&client_secret=bfad4c1fcaa47700e28fbbfb3f190582587ce33d118cd943df892531&grant_type=authorization_code&client_id=oaWeGQnQ2CFv&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 17:31:46,437 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:31:46,441 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:31:46,477 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 17:31:46,478 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:31:46,479 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 15:31:46 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 17:31:46,479 oic.oauth2:DEBUG resp.txt: {"access_token": "YnLrsSW84LjB1XMzWuOQ7NzS0utbtjSvCr/eQHz/yW5D7OFIFkFVdtsEXEpUiUzr", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIm9hV2VHUW5RMkNGdiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk5MjcwNiwgImlhdCI6IDEzNzg5MTM1MDYsICJzdWIiOiAiaGFobzAwMzIifQ.WC10ddyBBoSf7pV_DkTtvmQnavH6gIycOq38747TzhpibGvQ4jeusdK3AciGoYe4F76c-xQMd6npEOJTca3eWHp2eBcIglL3hf5SIW6Ds6LkqWLcDZntisCr5lEHYvfaQfIz5BaoES4QDgRY2x88-ToG1_2lMzCsPT5MynNTeWe9ttWgI886rcx34Gre8nLBFRQdMs5JlazeDZYIdblW4LkmsZ969TApAP1B00p0JGMBsT_0k7dix2kTNUwyAU7brxmELCoL8lTE9304tuLeBd2-oJBMB8eY_FMLp4kQxH0aXMNwdvGJlCy6Nuhwv91mHBaWO7oBvHHeKVOa5aStWA", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:390f9ce1-78f3-4e03-a151-f93c4fcaca8d", "scope": "openid profile", "refresh_token": "YnLrsSW84LjB1XMzWuOQ7LxUbrrI0uZ9u8XlT0hRZu0fjeMoBFp9pzFeGQgOmcJC"}
2013-09-11 17:31:46,481 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 17:31:46,483 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'YnLrsSW84LjB1XMzWuOQ7NzS0utbtjSvCr/eQHz/yW5D7OFIFkFVdtsEXEpUiUzr', 'request': 'openid', 'schema': 'openid'}
2013-09-11 17:31:46,483 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=YnLrsSW84LjB1XMzWuOQ7NzS0utbtjSvCr%2FeQHz%2FyW5D7OFIFkFVdtsEXEpUiUzr H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 17:31:46,488 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:31:46,515 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 17:31:46,517 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:31:46,518 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-11 17:31:46,519 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-11 17:31:46,520 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'YnLrsSW84LjB1XMzWuOQ7NzS0utbtjSvCr/eQHz/yW5D7OFIFkFVdtsEXEpUiUzr')
2013-09-11 17:31:57,141 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:31:57,142 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110c7d6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110c7d710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110c7d6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110c7d710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOIC': <oic.oic.Client object at 0x110c8f1d0>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x110c7d650>, 'PORT': 8666}
2013-09-11 17:31:57,143 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x110c8f910>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:6f26c060-7b72-4f19-9869-fed5674e0871': <oic.oic.Grant object at 0x110cedc10>, 'urn:uuid:2223ebd6-deaf-4f5e-a254-ca3fec2ffa19': <oic.oic.Grant object at 0x110ced250>, 'urn:uuid:ce3e37f1-7e7a-4716-9404-29ce3a9aa9dc': <oic.oic.Grant object at 0x110cf7190>, 'urn:uuid:abd7dc36-4f40-42db-8f40-00db7abd1b2b': <oic.oic.Grant object at 0x110ced590>, 'urn:uuid:ff11aec2-b87d-4925-9b93-f882f94bfa31': <oic.oic.Grant object at 0x110ced390>, 'urn:uuid:390f9ce1-78f3-4e03-a151-f93c4fcaca8d': <oic.oic.Grant object at 0x110cf8490>, 'urn:uuid:c5ef24ee-f393-4e98-bcc9-06f882ba23d2': <oic.oic.Grant object at 0x110bf6e10>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:51c522eb-7823-4d26-a6ce-a976cbcbede1'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'bfad4c1fcaa47700e28fbbfb3f190582587ce33d118cd943df892531'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x110c8f0d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10f0e6ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'oaWeGQnQ2CFv'), ('registration_expires', 1378996159), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x110c8f8d0>), ('client_prefs', {}), ('registration_access_token', u'a71yAweeZXwLyELbf0zf5IBfio8RDUp1'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 17:31:57,143 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:596ca3ba-80f3-4698-bddb-5a1763299237', 'response_type': 'code'}
2013-09-11 17:31:57,145 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A596ca3ba-80f3-4698-bddb-5a1763299237&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv
2013-09-11 17:31:57,146 rp.openidconnect:DEBUG body: None
2013-09-11 17:31:57,146 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A596ca3ba-80f3-4698-bddb-5a1763299237&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv
2013-09-11 17:31:57,146 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:31:57,147 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A596ca3ba-80f3-4698-bddb-5a1763299237&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv')]
2013-09-11 17:31:57,195 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110c7d690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A596ca3ba-80f3-4698-bddb-5a1763299237&code=HO6A22yUnR%2F3qDvgXUn3W9BzbedTW%2FcuXThAG9YCzOG1fjdN6nvJzDrj970EBv7f', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49853', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110cf8a90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913517.194968, 'service': u'https://localhost:8092/', '_creation_time': 1378913358.669058}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A596ca3ba-80f3-4698-bddb-5a1763299237&code=HO6A22yUnR%2F3qDvgXUn3W9BzbedTW%2FcuXThAG9YCzOG1fjdN6nvJzDrj970EBv7f', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f03b270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:31:57,196 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:596ca3ba-80f3-4698-bddb-5a1763299237'], 'code': ['HO6A22yUnR/3qDvgXUn3W9BzbedTW/cuXThAG9YCzOG1fjdN6nvJzDrj970EBv7f']}
2013-09-11 17:31:57,196 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:596ca3ba-80f3-4698-bddb-5a1763299237'], 'code': ['HO6A22yUnR/3qDvgXUn3W9BzbedTW/cuXThAG9YCzOG1fjdN6nvJzDrj970EBv7f']}
2013-09-11 17:31:57,197 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:31:57,198 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110c7d690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A596ca3ba-80f3-4698-bddb-5a1763299237&code=HO6A22yUnR%2F3qDvgXUn3W9BzbedTW%2FcuXThAG9YCzOG1fjdN6nvJzDrj970EBv7f', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49853', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110cf8a90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913517.194968, 'service': u'https://localhost:8092/', '_creation_time': 1378913358.669058}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A596ca3ba-80f3-4698-bddb-5a1763299237&code=HO6A22yUnR%2F3qDvgXUn3W9BzbedTW%2FcuXThAG9YCzOG1fjdN6nvJzDrj970EBv7f', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f03b270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:31:57,198 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x110c03098>]
2013-09-11 17:31:57,200 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=HO6A22yUnR%2F3qDvgXUn3W9BzbedTW%2FcuXThAG9YCzOG1fjdN6nvJzDrj970EBv7f&client_secret=bfad4c1fcaa47700e28fbbfb3f190582587ce33d118cd943df892531&grant_type=authorization_code&client_id=oaWeGQnQ2CFv&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 17:31:57,200 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:31:57,205 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:31:57,241 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 17:31:57,243 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:31:57,243 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 15:31:57 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 17:31:57,244 oic.oauth2:DEBUG resp.txt: {"access_token": "HO6A22yUnR/3qDvgXUn3W8Jg4c9JLxOYMM1mQb5aQawRFn0ZAu+sHKhdE9ZVorb0", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIm9hV2VHUW5RMkNGdiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk5MjcxNywgImlhdCI6IDEzNzg5MTM1MTcsICJzdWIiOiAiaGFobzAwMzIifQ.o5n8aivZgtL17moQN4Vai_6-Rqhkc51bJyO_iPEpU1OKilDP5K-mTwUhIvJOQxvMF9V5YT0DK5_vwRyhtfQbxziRHy2hRT1_5w9Hhh4yxAgnhdwFiUfP7Yepvv8IkgrOa4It6kbfGd9PfRyCIVUJxA25nqpYn0btiCGsrm2ZKkBO0FMlobA1BD378TzQ0dKGuaKSBOjtAmzdcMFepOFnoYBzK0UfWpjCAT15Vcuk6AdHVH_3sFmdmul1dPDqR6BMfvkhycLvdBvCuDbQy50ul2yu8g4OYM2GQBPlc1mGX7o9iLI7YL7XqgtO-tIeGm5gtXAIGcOKiGVBpLWbo8hGEQ", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:596ca3ba-80f3-4698-bddb-5a1763299237", "scope": "openid profile", "refresh_token": "HO6A22yUnR/3qDvgXUn3W/m5FB8bQTOh5QIR069F34bAP8VWMCHRMZTWmbGZ9V6K"}
2013-09-11 17:31:57,245 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 17:31:57,248 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'HO6A22yUnR/3qDvgXUn3W8Jg4c9JLxOYMM1mQb5aQawRFn0ZAu+sHKhdE9ZVorb0', 'request': 'openid', 'schema': 'openid'}
2013-09-11 17:31:57,248 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=HO6A22yUnR%2F3qDvgXUn3W8Jg4c9JLxOYMM1mQb5aQawRFn0ZAu%2BsHKhdE9ZVorb0 H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 17:31:57,253 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:31:57,280 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 17:31:57,282 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:31:57,283 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-11 17:31:57,284 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-11 17:31:57,285 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'HO6A22yUnR/3qDvgXUn3W8Jg4c9JLxOYMM1mQb5aQawRFn0ZAu+sHKhdE9ZVorb0')
2013-09-11 17:32:04,508 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:32:04,509 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:32:04,514 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:32:04,515 root:INFO [static]sending: static/style.css
2013-09-11 17:32:09,667 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:32:09,669 root:INFO [static]sending: static/style.css
2013-09-11 17:32:09,671 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:32:09,768 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:32:10,841 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:32:10,842 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110c7d6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110c7d710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110c7d6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110c7d710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOIC': <oic.oic.Client object at 0x110c8f1d0>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x110c7d650>, 'PORT': 8666}
2013-09-11 17:32:10,842 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x110c8f910>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:6f26c060-7b72-4f19-9869-fed5674e0871': <oic.oic.Grant object at 0x110cedc10>, 'urn:uuid:2223ebd6-deaf-4f5e-a254-ca3fec2ffa19': <oic.oic.Grant object at 0x110ced250>, 'urn:uuid:596ca3ba-80f3-4698-bddb-5a1763299237': <oic.oic.Grant object at 0x110d18c50>, 'urn:uuid:ce3e37f1-7e7a-4716-9404-29ce3a9aa9dc': <oic.oic.Grant object at 0x110cf7190>, 'urn:uuid:abd7dc36-4f40-42db-8f40-00db7abd1b2b': <oic.oic.Grant object at 0x110ced590>, 'urn:uuid:ff11aec2-b87d-4925-9b93-f882f94bfa31': <oic.oic.Grant object at 0x110ced390>, 'urn:uuid:390f9ce1-78f3-4e03-a151-f93c4fcaca8d': <oic.oic.Grant object at 0x110cf8490>, 'urn:uuid:c5ef24ee-f393-4e98-bcc9-06f882ba23d2': <oic.oic.Grant object at 0x110bf6e10>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:621021e9-d1b6-48c4-94d3-fc1b8028a6d0'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'bfad4c1fcaa47700e28fbbfb3f190582587ce33d118cd943df892531'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x110c8f0d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10f0e6ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'oaWeGQnQ2CFv'), ('registration_expires', 1378996159), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x110c8f8d0>), ('client_prefs', {}), ('registration_access_token', u'a71yAweeZXwLyELbf0zf5IBfio8RDUp1'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 17:32:10,843 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:51c522eb-7823-4d26-a6ce-a976cbcbede1', 'response_type': 'code'}
2013-09-11 17:32:10,844 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A51c522eb-7823-4d26-a6ce-a976cbcbede1&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv
2013-09-11 17:32:10,845 rp.openidconnect:DEBUG body: None
2013-09-11 17:32:10,846 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A51c522eb-7823-4d26-a6ce-a976cbcbede1&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv
2013-09-11 17:32:10,846 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:32:10,847 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A51c522eb-7823-4d26-a6ce-a976cbcbede1&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv')]
2013-09-11 17:32:10,885 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110c7d690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A51c522eb-7823-4d26-a6ce-a976cbcbede1&code=2dpOYpf%2FVOz1mHZKKUHqhd2cCPGYdlraaCuABTR0d2mZ6AlgXME5rpOs9qhIHsAD', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49864', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110d18f50>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913530.884515, 'service': u'https://localhost:8092/', '_creation_time': 1378913358.669058}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A51c522eb-7823-4d26-a6ce-a976cbcbede1&code=2dpOYpf%2FVOz1mHZKKUHqhd2cCPGYdlraaCuABTR0d2mZ6AlgXME5rpOs9qhIHsAD', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f03b270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:32:10,886 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:51c522eb-7823-4d26-a6ce-a976cbcbede1'], 'code': ['2dpOYpf/VOz1mHZKKUHqhd2cCPGYdlraaCuABTR0d2mZ6AlgXME5rpOs9qhIHsAD']}
2013-09-11 17:32:10,886 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:51c522eb-7823-4d26-a6ce-a976cbcbede1'], 'code': ['2dpOYpf/VOz1mHZKKUHqhd2cCPGYdlraaCuABTR0d2mZ6AlgXME5rpOs9qhIHsAD']}
2013-09-11 17:32:10,887 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:32:10,888 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110c7d690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A51c522eb-7823-4d26-a6ce-a976cbcbede1&code=2dpOYpf%2FVOz1mHZKKUHqhd2cCPGYdlraaCuABTR0d2mZ6AlgXME5rpOs9qhIHsAD', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49864', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110d18f50>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913530.884515, 'service': u'https://localhost:8092/', '_creation_time': 1378913358.669058}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A51c522eb-7823-4d26-a6ce-a976cbcbede1&code=2dpOYpf%2FVOz1mHZKKUHqhd2cCPGYdlraaCuABTR0d2mZ6AlgXME5rpOs9qhIHsAD', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f03b270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:32:10,888 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x110c03098>]
2013-09-11 17:32:10,889 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=2dpOYpf%2FVOz1mHZKKUHqhd2cCPGYdlraaCuABTR0d2mZ6AlgXME5rpOs9qhIHsAD&client_secret=bfad4c1fcaa47700e28fbbfb3f190582587ce33d118cd943df892531&grant_type=authorization_code&client_id=oaWeGQnQ2CFv&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 17:32:10,890 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:32:10,894 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:32:10,940 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 17:32:10,942 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:32:10,943 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 15:32:10 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 17:32:10,944 oic.oauth2:DEBUG resp.txt: {"access_token": "2dpOYpf/VOz1mHZKKUHqhfOZEhQHyE/fr/yh8GLHdYdvSIJEOsU6hig5E/ndbOm7", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIm9hV2VHUW5RMkNGdiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk5MjczMCwgImlhdCI6IDEzNzg5MTM1MzAsICJzdWIiOiAiaGFobzAwMzIifQ.uBE9sk7g3OsMp59t-WZfNcNgsGqV-YvgbnkCBjFsETN7k_3fX2LMrYxgr8B9K8dkvut3W-dwZHg_KPhMQVmTNRm1ZgvLkI3g8vNVM_o3RjbIXSBHNw01PCHXtzN4yQMTaifUtot4I8wtAsg7OpyhT_IbVY0SDVSBjj1K4Bo_7Xi-jscddWnPgi8MF7nZYlQwSi-CwJkeV2TwALyCOgf90FZUAKa7-d9v6Kg2ZFlcaYpezY_8SyZzleIeKyUGqLhbXfSqtwudge_Ox-nXNo2v2VNz7siqRruOw3DT8aV7ayQr0_rRujfwxQTDnpi2CGrXpZvnYwlf6W5mJt4a99paEw", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:51c522eb-7823-4d26-a6ce-a976cbcbede1", "scope": "openid profile", "refresh_token": "2dpOYpf/VOz1mHZKKUHqhZ98JjsfWLPNYnaR6FexeRbPsqxDPfLnI9Y7uiQG9X0F"}
2013-09-11 17:32:10,945 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 17:32:10,947 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'2dpOYpf/VOz1mHZKKUHqhfOZEhQHyE/fr/yh8GLHdYdvSIJEOsU6hig5E/ndbOm7', 'request': 'openid', 'schema': 'openid'}
2013-09-11 17:32:10,948 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=2dpOYpf%2FVOz1mHZKKUHqhfOZEhQHyE%2Ffr%2Fyh8GLHdYdvSIJEOsU6hig5E%2FndbOm7 H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 17:32:10,952 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:32:10,979 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 17:32:10,981 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:32:10,982 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-11 17:32:10,983 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-11 17:32:10,984 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'2dpOYpf/VOz1mHZKKUHqhfOZEhQHyE/fr/yh8GLHdYdvSIJEOsU6hig5E/ndbOm7')
2013-09-11 17:32:11,208 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:32:11,211 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:32:11,214 root:INFO [static]sending: static/style.css
2013-09-11 17:32:11,215 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:33:17,874 root:INFO [static]sending: static/style.css
2013-09-11 17:33:17,879 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:33:17,882 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:33:17,886 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:33:18,904 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:33:18,905 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110c7d6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110c7d710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110c7d6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110c7d710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOIC': <oic.oic.Client object at 0x110c8f1d0>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x110c7d650>, 'PORT': 8666}
2013-09-11 17:33:18,906 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x110c8f910>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:6f26c060-7b72-4f19-9869-fed5674e0871': <oic.oic.Grant object at 0x110cedc10>, 'urn:uuid:2223ebd6-deaf-4f5e-a254-ca3fec2ffa19': <oic.oic.Grant object at 0x110ced250>, 'urn:uuid:596ca3ba-80f3-4698-bddb-5a1763299237': <oic.oic.Grant object at 0x110d18c50>, 'urn:uuid:51c522eb-7823-4d26-a6ce-a976cbcbede1': <oic.oic.Grant object at 0x110cf7490>, 'urn:uuid:ce3e37f1-7e7a-4716-9404-29ce3a9aa9dc': <oic.oic.Grant object at 0x110cf7190>, 'urn:uuid:abd7dc36-4f40-42db-8f40-00db7abd1b2b': <oic.oic.Grant object at 0x110ced590>, 'urn:uuid:ff11aec2-b87d-4925-9b93-f882f94bfa31': <oic.oic.Grant object at 0x110ced390>, 'urn:uuid:390f9ce1-78f3-4e03-a151-f93c4fcaca8d': <oic.oic.Grant object at 0x110cf8490>, 'urn:uuid:c5ef24ee-f393-4e98-bcc9-06f882ba23d2': <oic.oic.Grant object at 0x110bf6e10>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:7f6904d6-563a-4911-815f-37770c2f2f37'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'bfad4c1fcaa47700e28fbbfb3f190582587ce33d118cd943df892531'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x110c8f0d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10f0e6ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'oaWeGQnQ2CFv'), ('registration_expires', 1378996159), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x110c8f8d0>), ('client_prefs', {}), ('registration_access_token', u'a71yAweeZXwLyELbf0zf5IBfio8RDUp1'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 17:33:18,906 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:621021e9-d1b6-48c4-94d3-fc1b8028a6d0', 'response_type': 'code'}
2013-09-11 17:33:18,907 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A621021e9-d1b6-48c4-94d3-fc1b8028a6d0&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv
2013-09-11 17:33:18,908 rp.openidconnect:DEBUG body: None
2013-09-11 17:33:18,908 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A621021e9-d1b6-48c4-94d3-fc1b8028a6d0&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv
2013-09-11 17:33:18,909 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:33:18,909 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A621021e9-d1b6-48c4-94d3-fc1b8028a6d0&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv')]
2013-09-11 17:33:18,948 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110c7d690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A621021e9-d1b6-48c4-94d3-fc1b8028a6d0&code=Gx7U2zKfB9zADD4NiXIPDxGhONkYPY2VXwg4fBifqqfhKvwCbya2GPow5RmR%2BcI6', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49880', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110ced210>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913598.947637, 'service': u'https://localhost:8092/', '_creation_time': 1378913358.669058}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A621021e9-d1b6-48c4-94d3-fc1b8028a6d0&code=Gx7U2zKfB9zADD4NiXIPDxGhONkYPY2VXwg4fBifqqfhKvwCbya2GPow5RmR%2BcI6', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f03b270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:33:18,948 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:621021e9-d1b6-48c4-94d3-fc1b8028a6d0'], 'code': ['Gx7U2zKfB9zADD4NiXIPDxGhONkYPY2VXwg4fBifqqfhKvwCbya2GPow5RmR+cI6']}
2013-09-11 17:33:18,949 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:621021e9-d1b6-48c4-94d3-fc1b8028a6d0'], 'code': ['Gx7U2zKfB9zADD4NiXIPDxGhONkYPY2VXwg4fBifqqfhKvwCbya2GPow5RmR+cI6']}
2013-09-11 17:33:18,950 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:33:18,951 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110c7d690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A621021e9-d1b6-48c4-94d3-fc1b8028a6d0&code=Gx7U2zKfB9zADD4NiXIPDxGhONkYPY2VXwg4fBifqqfhKvwCbya2GPow5RmR%2BcI6', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49880', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110ced210>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913598.947637, 'service': u'https://localhost:8092/', '_creation_time': 1378913358.669058}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A621021e9-d1b6-48c4-94d3-fc1b8028a6d0&code=Gx7U2zKfB9zADD4NiXIPDxGhONkYPY2VXwg4fBifqqfhKvwCbya2GPow5RmR%2BcI6', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f03b270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:33:18,952 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x110c03098>]
2013-09-11 17:33:18,953 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=Gx7U2zKfB9zADD4NiXIPDxGhONkYPY2VXwg4fBifqqfhKvwCbya2GPow5RmR%2BcI6&client_secret=bfad4c1fcaa47700e28fbbfb3f190582587ce33d118cd943df892531&grant_type=authorization_code&client_id=oaWeGQnQ2CFv&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 17:33:18,953 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:33:18,958 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:33:18,993 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 17:33:18,995 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:33:18,995 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 15:33:18 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 17:33:18,996 oic.oauth2:DEBUG resp.txt: {"access_token": "Gx7U2zKfB9zADD4NiXIPD/zHq30s9bp2bLxbsCMgW3NhOszNPWIbZDQP+p9MCTCU", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIm9hV2VHUW5RMkNGdiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk5Mjc5OCwgImlhdCI6IDEzNzg5MTM1OTgsICJzdWIiOiAiaGFobzAwMzIifQ.lxDj_TtDEUJgNl8muOrDEhFCo4hLu1VX4jhBWOACo2XF-ZAmi5eWPuzOWgFAGrB1HB_m2uCEjFxU-rogMkX494J0NK18uFIoSkW0Hq9UwgVzgpQiarWykwEcb1ncL0akT4QocYx3b0_e6h1nwDdQGoSMIzAzIhzceMYCuHjkj-IiWdBQb98t0-nauteiYyPHj6yqDhvIya6fEgU8RWMsqcaHzGm_2EQ9TFB3X-YM1bS0llmgnxZ_iXchhgcaZ6nG5YWKgwdO9ppkxpVvO7eqiLS0RWdR-7Y0Hkir3fUt3eNs6PhgFnWRNn0fIDDw8muZ_zmB23AzFo2CTDFknX6x8w", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:621021e9-d1b6-48c4-94d3-fc1b8028a6d0", "scope": "openid profile", "refresh_token": "Gx7U2zKfB9zADD4NiXIPD1EOVi2gJaR84B6WJRTJEOgNTf/dkSJ/SiS0h4QZnQXI"}
2013-09-11 17:33:18,997 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 17:33:19,000 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'Gx7U2zKfB9zADD4NiXIPD/zHq30s9bp2bLxbsCMgW3NhOszNPWIbZDQP+p9MCTCU', 'request': 'openid', 'schema': 'openid'}
2013-09-11 17:33:19,000 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=Gx7U2zKfB9zADD4NiXIPD%2FzHq30s9bp2bLxbsCMgW3NhOszNPWIbZDQP%2Bp9MCTCU H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 17:33:19,005 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:33:19,032 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 17:33:19,034 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:33:19,035 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-11 17:33:19,036 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-11 17:33:19,037 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'Gx7U2zKfB9zADD4NiXIPD/zHq30s9bp2bLxbsCMgW3NhOszNPWIbZDQP+p9MCTCU')
2013-09-11 17:33:19,262 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:33:19,265 root:INFO [static]sending: static/style.css
2013-09-11 17:33:19,268 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:33:19,269 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:33:21,489 root:INFO [static]sending: static/style.css
2013-09-11 17:33:21,494 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:33:21,495 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:33:21,499 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:33:22,394 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:33:22,394 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110c7d6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110c7d710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110c7d6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110c7d710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOIC': <oic.oic.Client object at 0x110c8f1d0>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x110c7d650>, 'PORT': 8666}
2013-09-11 17:33:22,395 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x110c8f910>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:6f26c060-7b72-4f19-9869-fed5674e0871': <oic.oic.Grant object at 0x110cedc10>, 'urn:uuid:2223ebd6-deaf-4f5e-a254-ca3fec2ffa19': <oic.oic.Grant object at 0x110ced250>, 'urn:uuid:596ca3ba-80f3-4698-bddb-5a1763299237': <oic.oic.Grant object at 0x110d18c50>, 'urn:uuid:51c522eb-7823-4d26-a6ce-a976cbcbede1': <oic.oic.Grant object at 0x110cf7490>, 'urn:uuid:ce3e37f1-7e7a-4716-9404-29ce3a9aa9dc': <oic.oic.Grant object at 0x110cf7190>, 'urn:uuid:abd7dc36-4f40-42db-8f40-00db7abd1b2b': <oic.oic.Grant object at 0x110ced590>, 'urn:uuid:ff11aec2-b87d-4925-9b93-f882f94bfa31': <oic.oic.Grant object at 0x110ced390>, 'urn:uuid:390f9ce1-78f3-4e03-a151-f93c4fcaca8d': <oic.oic.Grant object at 0x110cf8490>, 'urn:uuid:621021e9-d1b6-48c4-94d3-fc1b8028a6d0': <oic.oic.Grant object at 0x110ced550>, 'urn:uuid:c5ef24ee-f393-4e98-bcc9-06f882ba23d2': <oic.oic.Grant object at 0x110bf6e10>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:30167c62-983d-4bd2-8d49-5c91033f0c04'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'bfad4c1fcaa47700e28fbbfb3f190582587ce33d118cd943df892531'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x110c8f0d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10f0e6ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'oaWeGQnQ2CFv'), ('registration_expires', 1378996159), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x110c8f8d0>), ('client_prefs', {}), ('registration_access_token', u'a71yAweeZXwLyELbf0zf5IBfio8RDUp1'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 17:33:22,395 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:7f6904d6-563a-4911-815f-37770c2f2f37', 'response_type': 'code'}
2013-09-11 17:33:22,396 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A7f6904d6-563a-4911-815f-37770c2f2f37&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv
2013-09-11 17:33:22,397 rp.openidconnect:DEBUG body: None
2013-09-11 17:33:22,398 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A7f6904d6-563a-4911-815f-37770c2f2f37&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv
2013-09-11 17:33:22,398 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:33:22,398 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A7f6904d6-563a-4911-815f-37770c2f2f37&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv')]
2013-09-11 17:33:22,414 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110c7d690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A7f6904d6-563a-4911-815f-37770c2f2f37&code=o%2FeTDlBkl61jVbw7TmR6T7eJFiwBtAZm57HIDG%2BsDuPhUPP3CDuPYmTRappzTV3P', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49889', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110d00e10>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913602.413644, 'service': u'https://localhost:8092/', '_creation_time': 1378913358.669058}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A7f6904d6-563a-4911-815f-37770c2f2f37&code=o%2FeTDlBkl61jVbw7TmR6T7eJFiwBtAZm57HIDG%2BsDuPhUPP3CDuPYmTRappzTV3P', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f03b270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:33:22,414 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:7f6904d6-563a-4911-815f-37770c2f2f37'], 'code': ['o/eTDlBkl61jVbw7TmR6T7eJFiwBtAZm57HIDG+sDuPhUPP3CDuPYmTRappzTV3P']}
2013-09-11 17:33:22,415 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:7f6904d6-563a-4911-815f-37770c2f2f37'], 'code': ['o/eTDlBkl61jVbw7TmR6T7eJFiwBtAZm57HIDG+sDuPhUPP3CDuPYmTRappzTV3P']}
2013-09-11 17:33:22,416 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:33:22,417 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110c7d690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A7f6904d6-563a-4911-815f-37770c2f2f37&code=o%2FeTDlBkl61jVbw7TmR6T7eJFiwBtAZm57HIDG%2BsDuPhUPP3CDuPYmTRappzTV3P', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49889', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110d00e10>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913602.413644, 'service': u'https://localhost:8092/', '_creation_time': 1378913358.669058}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A7f6904d6-563a-4911-815f-37770c2f2f37&code=o%2FeTDlBkl61jVbw7TmR6T7eJFiwBtAZm57HIDG%2BsDuPhUPP3CDuPYmTRappzTV3P', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f03b270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:33:22,417 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x110c03098>]
2013-09-11 17:33:22,418 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=o%2FeTDlBkl61jVbw7TmR6T7eJFiwBtAZm57HIDG%2BsDuPhUPP3CDuPYmTRappzTV3P&client_secret=bfad4c1fcaa47700e28fbbfb3f190582587ce33d118cd943df892531&grant_type=authorization_code&client_id=oaWeGQnQ2CFv&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 17:33:22,419 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:33:22,423 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:33:22,458 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 17:33:22,460 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:33:22,460 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 15:33:22 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 17:33:22,461 oic.oauth2:DEBUG resp.txt: {"access_token": "o/eTDlBkl61jVbw7TmR6T7Ms2BYNRiaYOuh7i42MMsvxhhwZpdE+xyk//ErhSbqv", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIm9hV2VHUW5RMkNGdiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk5MjgwMiwgImlhdCI6IDEzNzg5MTM2MDIsICJzdWIiOiAiaGFobzAwMzIifQ.lCdQHDswQilp3-nxkLoV2cXSHnLZpe-DVSaVX03Td60t7BxWt6yDCVSzumk19nScoxv8iEo98HHBj2cuDeIeBQciZ371xTgsdHH497KlYENh0EZGdruMzpnEYOajeDBSXd5h-wZreMeiSruGEF4eCVeYQB4Y8Y8P3uhsykTTV-4Lsixx8FUhek--oHMQCXA6EzrLnpAutIzF8ALnfxfg5GPzWKI04cXXNz5IndyfRFSjkkz3sTamkBTgr_1q1ZP4yuYhNQIZgg4wOaNxvRVE1AHUCPRFCWzqIDlWEROXlMcJkDsvlGzFH24anSqO61TEVqZuj214Szvn20-3cCuIdQ", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:7f6904d6-563a-4911-815f-37770c2f2f37", "scope": "openid profile", "refresh_token": "o/eTDlBkl61jVbw7TmR6T+z6uBsM51BMIZEV/3CMy5HM79tDpULRqvx/lSwWiSHq"}
2013-09-11 17:33:22,462 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 17:33:22,465 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'o/eTDlBkl61jVbw7TmR6T7Ms2BYNRiaYOuh7i42MMsvxhhwZpdE+xyk//ErhSbqv', 'request': 'openid', 'schema': 'openid'}
2013-09-11 17:33:22,465 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=o%2FeTDlBkl61jVbw7TmR6T7Ms2BYNRiaYOuh7i42MMsvxhhwZpdE%2Bxyk%2F%2FErhSbqv H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 17:33:22,470 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:33:22,497 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 17:33:22,498 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:33:22,499 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-11 17:33:22,501 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-11 17:33:22,501 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'o/eTDlBkl61jVbw7TmR6T7Ms2BYNRiaYOuh7i42MMsvxhhwZpdE+xyk//ErhSbqv')
2013-09-11 17:33:22,726 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:33:22,729 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:33:22,731 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:33:22,734 root:INFO [static]sending: static/style.css
2013-09-11 17:33:47,153 root:INFO [static]sending: static/style.css
2013-09-11 17:33:47,160 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:33:47,160 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:33:47,162 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:33:48,119 root:INFO [static]sending: static/style.css
2013-09-11 17:33:48,127 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:33:48,128 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:33:48,128 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:33:49,219 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:33:49,219 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110c7d6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110c7d710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110c7d6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110c7d710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOIC': <oic.oic.Client object at 0x110c8f1d0>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x110c7d650>, 'PORT': 8666}
2013-09-11 17:33:49,220 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x110c8f910>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:6f26c060-7b72-4f19-9869-fed5674e0871': <oic.oic.Grant object at 0x110cedc10>, 'urn:uuid:2223ebd6-deaf-4f5e-a254-ca3fec2ffa19': <oic.oic.Grant object at 0x110ced250>, 'urn:uuid:596ca3ba-80f3-4698-bddb-5a1763299237': <oic.oic.Grant object at 0x110d18c50>, 'urn:uuid:51c522eb-7823-4d26-a6ce-a976cbcbede1': <oic.oic.Grant object at 0x110cf7490>, 'urn:uuid:7f6904d6-563a-4911-815f-37770c2f2f37': <oic.oic.Grant object at 0x110d00cd0>, 'urn:uuid:ce3e37f1-7e7a-4716-9404-29ce3a9aa9dc': <oic.oic.Grant object at 0x110cf7190>, 'urn:uuid:abd7dc36-4f40-42db-8f40-00db7abd1b2b': <oic.oic.Grant object at 0x110ced590>, 'urn:uuid:ff11aec2-b87d-4925-9b93-f882f94bfa31': <oic.oic.Grant object at 0x110ced390>, 'urn:uuid:390f9ce1-78f3-4e03-a151-f93c4fcaca8d': <oic.oic.Grant object at 0x110cf8490>, 'urn:uuid:621021e9-d1b6-48c4-94d3-fc1b8028a6d0': <oic.oic.Grant object at 0x110ced550>, 'urn:uuid:c5ef24ee-f393-4e98-bcc9-06f882ba23d2': <oic.oic.Grant object at 0x110bf6e10>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:c8198efc-1962-470a-bc28-a8ece5b2631b'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'bfad4c1fcaa47700e28fbbfb3f190582587ce33d118cd943df892531'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x110c8f0d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10f0e6ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'oaWeGQnQ2CFv'), ('registration_expires', 1378996159), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x110c8f8d0>), ('client_prefs', {}), ('registration_access_token', u'a71yAweeZXwLyELbf0zf5IBfio8RDUp1'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 17:33:49,220 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:30167c62-983d-4bd2-8d49-5c91033f0c04', 'response_type': 'code'}
2013-09-11 17:33:49,221 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A30167c62-983d-4bd2-8d49-5c91033f0c04&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv
2013-09-11 17:33:49,222 rp.openidconnect:DEBUG body: None
2013-09-11 17:33:49,223 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A30167c62-983d-4bd2-8d49-5c91033f0c04&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv
2013-09-11 17:33:49,223 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:33:49,224 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A30167c62-983d-4bd2-8d49-5c91033f0c04&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv')]
2013-09-11 17:33:49,261 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110c7d690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A30167c62-983d-4bd2-8d49-5c91033f0c04&code=4lfBdJkRhHi2nHS7F2Klg0ierSa%2BSDkD%2FuMSdORUF6TpSRQxJjtUQWvJFN6HUuCF', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49901', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110bf6e90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913629.260876, 'service': u'https://localhost:8092/', '_creation_time': 1378913358.669058}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A30167c62-983d-4bd2-8d49-5c91033f0c04&code=4lfBdJkRhHi2nHS7F2Klg0ierSa%2BSDkD%2FuMSdORUF6TpSRQxJjtUQWvJFN6HUuCF', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f03b270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:33:49,262 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:30167c62-983d-4bd2-8d49-5c91033f0c04'], 'code': ['4lfBdJkRhHi2nHS7F2Klg0ierSa+SDkD/uMSdORUF6TpSRQxJjtUQWvJFN6HUuCF']}
2013-09-11 17:33:49,262 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:30167c62-983d-4bd2-8d49-5c91033f0c04'], 'code': ['4lfBdJkRhHi2nHS7F2Klg0ierSa+SDkD/uMSdORUF6TpSRQxJjtUQWvJFN6HUuCF']}
2013-09-11 17:33:49,263 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:33:49,264 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110c7d690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A30167c62-983d-4bd2-8d49-5c91033f0c04&code=4lfBdJkRhHi2nHS7F2Klg0ierSa%2BSDkD%2FuMSdORUF6TpSRQxJjtUQWvJFN6HUuCF', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49901', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110bf6e90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913629.260876, 'service': u'https://localhost:8092/', '_creation_time': 1378913358.669058}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A30167c62-983d-4bd2-8d49-5c91033f0c04&code=4lfBdJkRhHi2nHS7F2Klg0ierSa%2BSDkD%2FuMSdORUF6TpSRQxJjtUQWvJFN6HUuCF', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f03b270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:33:49,264 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x110c03098>]
2013-09-11 17:33:49,265 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=4lfBdJkRhHi2nHS7F2Klg0ierSa%2BSDkD%2FuMSdORUF6TpSRQxJjtUQWvJFN6HUuCF&client_secret=bfad4c1fcaa47700e28fbbfb3f190582587ce33d118cd943df892531&grant_type=authorization_code&client_id=oaWeGQnQ2CFv&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 17:33:49,266 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:33:49,271 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:33:49,306 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 17:33:49,308 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:33:49,309 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 15:33:49 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 17:33:49,309 oic.oauth2:DEBUG resp.txt: {"access_token": "4lfBdJkRhHi2nHS7F2Klg7o+zzsht9ybGxfNspv05oiJbl8h3Ujl/RTHifz3sN4v", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIm9hV2VHUW5RMkNGdiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk5MjgyOSwgImlhdCI6IDEzNzg5MTM2MjksICJzdWIiOiAiaGFobzAwMzIifQ.Wrn8SzxgboKvEKN2pnhaR1EIf5cCuakLK8D3F-dUTLsiGgq9qHJ5Zvn9H9qFQc3jNtffBd-Kf77-XW3Y69qGzK3kEWgr62dI02ME6yOOM93dK4wv8YLi9EhCoQXWYzgW8UPYoDTESDgzUX8Q-U84KL-ABar6MTYdr4Z4ghmz5HLvII560pS7huWG771bhNQKNkWg0VF7Zj2nA9brYTQzPmYAyRspipnvxilnynxa5YyXL-p1ZKFu6qbToCMN2nAbvJ9209Egxx73VAg8vVsEyAIDwwpyJAUS4jYggsa-OUwnt_hhlhJYJBhSP56XFQxqXwHFExaYquhTfg4yqvX-TA", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:30167c62-983d-4bd2-8d49-5c91033f0c04", "scope": "openid profile", "refresh_token": "4lfBdJkRhHi2nHS7F2Klg6avKatq8yD41ZJy/064pI2XhHAKMu1xV69Txd57ar+V"}
2013-09-11 17:33:49,310 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 17:33:49,313 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'4lfBdJkRhHi2nHS7F2Klg7o+zzsht9ybGxfNspv05oiJbl8h3Ujl/RTHifz3sN4v', 'request': 'openid', 'schema': 'openid'}
2013-09-11 17:33:49,313 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=4lfBdJkRhHi2nHS7F2Klg7o%2Bzzsht9ybGxfNspv05oiJbl8h3Ujl%2FRTHifz3sN4v H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 17:33:49,318 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:33:49,345 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 17:33:49,347 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:33:49,347 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-11 17:33:49,349 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-11 17:33:49,349 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'4lfBdJkRhHi2nHS7F2Klg7o+zzsht9ybGxfNspv05oiJbl8h3Ujl/RTHifz3sN4v')
2013-09-11 17:33:49,574 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:33:49,575 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:33:49,575 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:33:49,578 root:INFO [static]sending: static/style.css
2013-09-11 17:34:35,023 root:INFO [static]sending: static/style.css
2013-09-11 17:34:35,024 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:34:35,025 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:34:35,027 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:34:36,035 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:34:36,036 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110c7d6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110c7d710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110c7d6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110c7d710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOIC': <oic.oic.Client object at 0x110c8f1d0>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x110c7d650>, 'PORT': 8666}
2013-09-11 17:34:36,037 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x110c8f910>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:6f26c060-7b72-4f19-9869-fed5674e0871': <oic.oic.Grant object at 0x110cedc10>, 'urn:uuid:2223ebd6-deaf-4f5e-a254-ca3fec2ffa19': <oic.oic.Grant object at 0x110ced250>, 'urn:uuid:596ca3ba-80f3-4698-bddb-5a1763299237': <oic.oic.Grant object at 0x110d18c50>, 'urn:uuid:51c522eb-7823-4d26-a6ce-a976cbcbede1': <oic.oic.Grant object at 0x110cf7490>, 'urn:uuid:7f6904d6-563a-4911-815f-37770c2f2f37': <oic.oic.Grant object at 0x110d00cd0>, 'urn:uuid:ce3e37f1-7e7a-4716-9404-29ce3a9aa9dc': <oic.oic.Grant object at 0x110cf7190>, 'urn:uuid:abd7dc36-4f40-42db-8f40-00db7abd1b2b': <oic.oic.Grant object at 0x110ced590>, 'urn:uuid:30167c62-983d-4bd2-8d49-5c91033f0c04': <oic.oic.Grant object at 0x110cf7e50>, 'urn:uuid:ff11aec2-b87d-4925-9b93-f882f94bfa31': <oic.oic.Grant object at 0x110ced390>, 'urn:uuid:390f9ce1-78f3-4e03-a151-f93c4fcaca8d': <oic.oic.Grant object at 0x110cf8490>, 'urn:uuid:621021e9-d1b6-48c4-94d3-fc1b8028a6d0': <oic.oic.Grant object at 0x110ced550>, 'urn:uuid:c5ef24ee-f393-4e98-bcc9-06f882ba23d2': <oic.oic.Grant object at 0x110bf6e10>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:bbc9933a-f515-4e8e-82a9-6a34baba8195'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'bfad4c1fcaa47700e28fbbfb3f190582587ce33d118cd943df892531'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x110c8f0d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10f0e6ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'oaWeGQnQ2CFv'), ('registration_expires', 1378996159), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x110c8f8d0>), ('client_prefs', {}), ('registration_access_token', u'a71yAweeZXwLyELbf0zf5IBfio8RDUp1'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 17:34:36,037 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:c8198efc-1962-470a-bc28-a8ece5b2631b', 'response_type': 'code'}
2013-09-11 17:34:36,038 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Ac8198efc-1962-470a-bc28-a8ece5b2631b&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv
2013-09-11 17:34:36,039 rp.openidconnect:DEBUG body: None
2013-09-11 17:34:36,040 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ac8198efc-1962-470a-bc28-a8ece5b2631b&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv
2013-09-11 17:34:36,040 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:34:36,041 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ac8198efc-1962-470a-bc28-a8ece5b2631b&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv')]
2013-09-11 17:34:36,087 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110c7d690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ac8198efc-1962-470a-bc28-a8ece5b2631b&code=2kvacMamu4RZ3gu1RpcDCgoMNVVjC%2BOeP%2B6BojAYriKLYr6QWHpqCAikwVVcMwsH', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49929', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110d18b90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913676.087202, 'service': u'https://localhost:8092/', '_creation_time': 1378913358.669058}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3Ac8198efc-1962-470a-bc28-a8ece5b2631b&code=2kvacMamu4RZ3gu1RpcDCgoMNVVjC%2BOeP%2B6BojAYriKLYr6QWHpqCAikwVVcMwsH', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f03b270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:34:36,088 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:c8198efc-1962-470a-bc28-a8ece5b2631b'], 'code': ['2kvacMamu4RZ3gu1RpcDCgoMNVVjC+OeP+6BojAYriKLYr6QWHpqCAikwVVcMwsH']}
2013-09-11 17:34:36,088 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:c8198efc-1962-470a-bc28-a8ece5b2631b'], 'code': ['2kvacMamu4RZ3gu1RpcDCgoMNVVjC+OeP+6BojAYriKLYr6QWHpqCAikwVVcMwsH']}
2013-09-11 17:34:36,093 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:34:36,120 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-11 17:34:36,124 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:34:36,125 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110c7d690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ac8198efc-1962-470a-bc28-a8ece5b2631b&code=2kvacMamu4RZ3gu1RpcDCgoMNVVjC%2BOeP%2B6BojAYriKLYr6QWHpqCAikwVVcMwsH', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49929', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110d18b90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913676.087202, 'service': u'https://localhost:8092/', '_creation_time': 1378913358.669058}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3Ac8198efc-1962-470a-bc28-a8ece5b2631b&code=2kvacMamu4RZ3gu1RpcDCgoMNVVjC%2BOeP%2B6BojAYriKLYr6QWHpqCAikwVVcMwsH', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f03b270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:34:36,126 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x110bffb00>]
2013-09-11 17:34:36,127 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=2kvacMamu4RZ3gu1RpcDCgoMNVVjC%2BOeP%2B6BojAYriKLYr6QWHpqCAikwVVcMwsH&client_secret=bfad4c1fcaa47700e28fbbfb3f190582587ce33d118cd943df892531&grant_type=authorization_code&client_id=oaWeGQnQ2CFv&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 17:34:36,128 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:34:36,133 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:34:36,169 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 17:34:36,170 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:34:36,171 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 15:34:36 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 17:34:36,172 oic.oauth2:DEBUG resp.txt: {"access_token": "2kvacMamu4RZ3gu1RpcDCm50aAAcceL9yTeSce4Wty1lEYv9kXQRPS/MWgfL/fA2", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIm9hV2VHUW5RMkNGdiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk5Mjg3NiwgImlhdCI6IDEzNzg5MTM2NzYsICJzdWIiOiAiaGFobzAwMzIifQ.Sr26J2xbJ0c6h9l-RINBZqCEaELMlWmMpxpjDiCiKnvBZPGllPmPT7cFZ2kW3EJQBX26UdO0xGT_DhsL0hwTyHfG6GLsiQ8MHdLHkG78F1PHV6ea8wcYVDPrd_8OpYN7PqD2ijbJyzryrzqMLP_m2gG-F36venfWr1P845sIrmGIQOKfhcph2sktgCA02-2gCVAxLpNu_9jkh4bB8QgK_AywldjfwqzbB2RPpj8MOh_Sc0-fGnFHS2tq-OI3G59MpfygddfPkqb7hkSrnzZEqkMyLZFuv3bvPQwOhsPEQ1-ZuJkK3uby-H_OQNVWlIQiqWqiVJ0ShkEkG0JrzO4svg", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:c8198efc-1962-470a-bc28-a8ece5b2631b", "scope": "openid profile", "refresh_token": "2kvacMamu4RZ3gu1RpcDCqo1raBa3dG46skitOPo0+NX8C4vj3I22ISnLQVIUe+Q"}
2013-09-11 17:34:36,173 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 17:34:36,175 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'2kvacMamu4RZ3gu1RpcDCm50aAAcceL9yTeSce4Wty1lEYv9kXQRPS/MWgfL/fA2', 'request': 'openid', 'schema': 'openid'}
2013-09-11 17:34:36,176 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=2kvacMamu4RZ3gu1RpcDCm50aAAcceL9yTeSce4Wty1lEYv9kXQRPS%2FMWgfL%2FfA2 H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 17:34:36,180 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:34:36,208 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 17:34:36,210 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:34:36,211 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-11 17:34:36,212 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-11 17:34:36,213 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'2kvacMamu4RZ3gu1RpcDCm50aAAcceL9yTeSce4Wty1lEYv9kXQRPS/MWgfL/fA2')
2013-09-11 17:34:36,472 root:INFO [static]sending: static/style.css
2013-09-11 17:34:36,475 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:34:36,479 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:34:36,482 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:36:02,928 root:INFO [static]sending: static/style.css
2013-09-11 17:36:02,929 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:36:02,935 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:36:02,936 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:36:03,884 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:36:03,884 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110c7d6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110c7d710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110c7d6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110c7d710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOIC': <oic.oic.Client object at 0x110c8f1d0>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x110c7d650>, 'PORT': 8666}
2013-09-11 17:36:03,885 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x110c8f910>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:6f26c060-7b72-4f19-9869-fed5674e0871': <oic.oic.Grant object at 0x110cedc10>, 'urn:uuid:2223ebd6-deaf-4f5e-a254-ca3fec2ffa19': <oic.oic.Grant object at 0x110ced250>, 'urn:uuid:596ca3ba-80f3-4698-bddb-5a1763299237': <oic.oic.Grant object at 0x110d18c50>, 'urn:uuid:c8198efc-1962-470a-bc28-a8ece5b2631b': <oic.oic.Grant object at 0x110cf8390>, 'urn:uuid:51c522eb-7823-4d26-a6ce-a976cbcbede1': <oic.oic.Grant object at 0x110cf7490>, 'urn:uuid:7f6904d6-563a-4911-815f-37770c2f2f37': <oic.oic.Grant object at 0x110d00cd0>, 'urn:uuid:ce3e37f1-7e7a-4716-9404-29ce3a9aa9dc': <oic.oic.Grant object at 0x110cf7190>, 'urn:uuid:abd7dc36-4f40-42db-8f40-00db7abd1b2b': <oic.oic.Grant object at 0x110ced590>, 'urn:uuid:30167c62-983d-4bd2-8d49-5c91033f0c04': <oic.oic.Grant object at 0x110cf7e50>, 'urn:uuid:ff11aec2-b87d-4925-9b93-f882f94bfa31': <oic.oic.Grant object at 0x110ced390>, 'urn:uuid:390f9ce1-78f3-4e03-a151-f93c4fcaca8d': <oic.oic.Grant object at 0x110cf8490>, 'urn:uuid:621021e9-d1b6-48c4-94d3-fc1b8028a6d0': <oic.oic.Grant object at 0x110ced550>, 'urn:uuid:c5ef24ee-f393-4e98-bcc9-06f882ba23d2': <oic.oic.Grant object at 0x110bf6e10>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:d2f91dd4-06c8-46de-b1b6-6f317e6d64a4'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'bfad4c1fcaa47700e28fbbfb3f190582587ce33d118cd943df892531'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x110c8f0d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10f0e6ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'oaWeGQnQ2CFv'), ('registration_expires', 1378996159), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x110c8f8d0>), ('client_prefs', {}), ('registration_access_token', u'a71yAweeZXwLyELbf0zf5IBfio8RDUp1'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 17:36:03,886 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:bbc9933a-f515-4e8e-82a9-6a34baba8195', 'response_type': 'code'}
2013-09-11 17:36:03,887 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Abbc9933a-f515-4e8e-82a9-6a34baba8195&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv
2013-09-11 17:36:03,888 rp.openidconnect:DEBUG body: None
2013-09-11 17:36:03,888 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Abbc9933a-f515-4e8e-82a9-6a34baba8195&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv
2013-09-11 17:36:03,889 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:36:03,889 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Abbc9933a-f515-4e8e-82a9-6a34baba8195&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv')]
2013-09-11 17:36:03,926 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110c7d690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Abbc9933a-f515-4e8e-82a9-6a34baba8195&code=BZfvF9Gx8y01y1fRyBZqzDBqMQezdsKlNiIMzZLgJBlkSk5KIT4Dyq2fzqqVufyx', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49947', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110cf8210>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913763.925794, 'service': u'https://localhost:8092/', '_creation_time': 1378913358.669058}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3Abbc9933a-f515-4e8e-82a9-6a34baba8195&code=BZfvF9Gx8y01y1fRyBZqzDBqMQezdsKlNiIMzZLgJBlkSk5KIT4Dyq2fzqqVufyx', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f03b270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:36:03,927 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:bbc9933a-f515-4e8e-82a9-6a34baba8195'], 'code': ['BZfvF9Gx8y01y1fRyBZqzDBqMQezdsKlNiIMzZLgJBlkSk5KIT4Dyq2fzqqVufyx']}
2013-09-11 17:36:03,927 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:bbc9933a-f515-4e8e-82a9-6a34baba8195'], 'code': ['BZfvF9Gx8y01y1fRyBZqzDBqMQezdsKlNiIMzZLgJBlkSk5KIT4Dyq2fzqqVufyx']}
2013-09-11 17:36:03,928 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:36:03,929 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110c7d690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Abbc9933a-f515-4e8e-82a9-6a34baba8195&code=BZfvF9Gx8y01y1fRyBZqzDBqMQezdsKlNiIMzZLgJBlkSk5KIT4Dyq2fzqqVufyx', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49947', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110cf8210>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913763.925794, 'service': u'https://localhost:8092/', '_creation_time': 1378913358.669058}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3Abbc9933a-f515-4e8e-82a9-6a34baba8195&code=BZfvF9Gx8y01y1fRyBZqzDBqMQezdsKlNiIMzZLgJBlkSk5KIT4Dyq2fzqqVufyx', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f03b270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:36:03,929 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x110bffb00>]
2013-09-11 17:36:03,931 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=BZfvF9Gx8y01y1fRyBZqzDBqMQezdsKlNiIMzZLgJBlkSk5KIT4Dyq2fzqqVufyx&client_secret=bfad4c1fcaa47700e28fbbfb3f190582587ce33d118cd943df892531&grant_type=authorization_code&client_id=oaWeGQnQ2CFv&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 17:36:03,931 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:36:03,936 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:36:03,972 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 17:36:03,974 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:36:03,974 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 15:36:03 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 17:36:03,975 oic.oauth2:DEBUG resp.txt: {"access_token": "BZfvF9Gx8y01y1fRyBZqzFeeEEoLTm3mqyaE9xxwbiqByqwxPLLKysS+PhJxV3n2", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIm9hV2VHUW5RMkNGdiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk5Mjk2MywgImlhdCI6IDEzNzg5MTM3NjMsICJzdWIiOiAiaGFobzAwMzIifQ.ZrrVkvDat2UzN_kr3CTmdWKG6yutwkQc_LrnDtwIxgBU4GKnEQ3UpXSwosU5OxyBaGbxbvhSpGVqTM0pjZzupGj-nXRJubNfQewBjHNeK00bGSX-ZIBfr_KwMtNWh7Zmb3icBbomj5LjsiS2xPV8Bu9tUt87wHOm--RWNetpozRKda7eRf-W7wsj-lSUtKdQXDjfOMwEQp6kSWJeuDEaseLFDhQJAwblrP166LMTyvT-tPJUZz1GB3674jyWywh0OGEDH39m-uEhW8cE0BgP_DArBav12doQZ1LjFUYcGPdo01HAamQ87HS6kuyswTUbe-zNIcy44jM12XxtQTW-fA", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:bbc9933a-f515-4e8e-82a9-6a34baba8195", "scope": "openid profile", "refresh_token": "BZfvF9Gx8y01y1fRyBZqzM+sT6yC7LVIOibXe/VhYkAPIwCRE/W8qg7/MNdOFC/E"}
2013-09-11 17:36:03,976 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 17:36:03,978 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'BZfvF9Gx8y01y1fRyBZqzFeeEEoLTm3mqyaE9xxwbiqByqwxPLLKysS+PhJxV3n2', 'request': 'openid', 'schema': 'openid'}
2013-09-11 17:36:03,979 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=BZfvF9Gx8y01y1fRyBZqzFeeEEoLTm3mqyaE9xxwbiqByqwxPLLKysS%2BPhJxV3n2 H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 17:36:03,983 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:36:04,011 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 17:36:04,013 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:36:04,014 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-11 17:36:04,015 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-11 17:36:04,015 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'BZfvF9Gx8y01y1fRyBZqzFeeEEoLTm3mqyaE9xxwbiqByqwxPLLKysS+PhJxV3n2')
2013-09-11 17:36:14,592 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:36:14,593 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110c7d6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110c7d710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110c7d6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110c7d710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOIC': <oic.oic.Client object at 0x110c8f1d0>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x110c7d650>, 'PORT': 8666}
2013-09-11 17:36:14,594 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x110c8f910>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:6f26c060-7b72-4f19-9869-fed5674e0871': <oic.oic.Grant object at 0x110cedc10>, 'urn:uuid:2223ebd6-deaf-4f5e-a254-ca3fec2ffa19': <oic.oic.Grant object at 0x110ced250>, 'urn:uuid:596ca3ba-80f3-4698-bddb-5a1763299237': <oic.oic.Grant object at 0x110d18c50>, 'urn:uuid:c8198efc-1962-470a-bc28-a8ece5b2631b': <oic.oic.Grant object at 0x110cf8390>, 'urn:uuid:51c522eb-7823-4d26-a6ce-a976cbcbede1': <oic.oic.Grant object at 0x110cf7490>, 'urn:uuid:7f6904d6-563a-4911-815f-37770c2f2f37': <oic.oic.Grant object at 0x110d00cd0>, 'urn:uuid:ce3e37f1-7e7a-4716-9404-29ce3a9aa9dc': <oic.oic.Grant object at 0x110cf7190>, 'urn:uuid:abd7dc36-4f40-42db-8f40-00db7abd1b2b': <oic.oic.Grant object at 0x110ced590>, 'urn:uuid:30167c62-983d-4bd2-8d49-5c91033f0c04': <oic.oic.Grant object at 0x110cf7e50>, 'urn:uuid:ff11aec2-b87d-4925-9b93-f882f94bfa31': <oic.oic.Grant object at 0x110ced390>, 'urn:uuid:bbc9933a-f515-4e8e-82a9-6a34baba8195': <oic.oic.Grant object at 0x110ced2d0>, 'urn:uuid:390f9ce1-78f3-4e03-a151-f93c4fcaca8d': <oic.oic.Grant object at 0x110cf8490>, 'urn:uuid:621021e9-d1b6-48c4-94d3-fc1b8028a6d0': <oic.oic.Grant object at 0x110ced550>, 'urn:uuid:c5ef24ee-f393-4e98-bcc9-06f882ba23d2': <oic.oic.Grant object at 0x110bf6e10>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:0862c354-2ef8-46be-a174-39e496b7b379'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'bfad4c1fcaa47700e28fbbfb3f190582587ce33d118cd943df892531'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x110c8f0d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10f0e6ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'oaWeGQnQ2CFv'), ('registration_expires', 1378996159), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x110c8f8d0>), ('client_prefs', {}), ('registration_access_token', u'a71yAweeZXwLyELbf0zf5IBfio8RDUp1'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 17:36:14,594 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:d2f91dd4-06c8-46de-b1b6-6f317e6d64a4', 'response_type': 'code'}
2013-09-11 17:36:14,596 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Ad2f91dd4-06c8-46de-b1b6-6f317e6d64a4&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv
2013-09-11 17:36:14,597 rp.openidconnect:DEBUG body: None
2013-09-11 17:36:14,597 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ad2f91dd4-06c8-46de-b1b6-6f317e6d64a4&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv
2013-09-11 17:36:14,598 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:36:14,599 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ad2f91dd4-06c8-46de-b1b6-6f317e6d64a4&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv')]
2013-09-11 17:36:14,638 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110c7d690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ad2f91dd4-06c8-46de-b1b6-6f317e6d64a4&code=bH1kF96BnslenloKKH8qnY4L8OWgFyw46vk5u7OV882wPigSPjhOFJooC5wLOwDr', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49954', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110d00d10>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913774.637751, 'service': u'https://localhost:8092/', '_creation_time': 1378913358.669058}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3Ad2f91dd4-06c8-46de-b1b6-6f317e6d64a4&code=bH1kF96BnslenloKKH8qnY4L8OWgFyw46vk5u7OV882wPigSPjhOFJooC5wLOwDr', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f03b270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:36:14,638 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:d2f91dd4-06c8-46de-b1b6-6f317e6d64a4'], 'code': ['bH1kF96BnslenloKKH8qnY4L8OWgFyw46vk5u7OV882wPigSPjhOFJooC5wLOwDr']}
2013-09-11 17:36:14,639 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:d2f91dd4-06c8-46de-b1b6-6f317e6d64a4'], 'code': ['bH1kF96BnslenloKKH8qnY4L8OWgFyw46vk5u7OV882wPigSPjhOFJooC5wLOwDr']}
2013-09-11 17:36:14,640 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:36:14,641 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110c7d690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ad2f91dd4-06c8-46de-b1b6-6f317e6d64a4&code=bH1kF96BnslenloKKH8qnY4L8OWgFyw46vk5u7OV882wPigSPjhOFJooC5wLOwDr', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49954', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110d00d10>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913774.637751, 'service': u'https://localhost:8092/', '_creation_time': 1378913358.669058}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3Ad2f91dd4-06c8-46de-b1b6-6f317e6d64a4&code=bH1kF96BnslenloKKH8qnY4L8OWgFyw46vk5u7OV882wPigSPjhOFJooC5wLOwDr', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f03b270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:36:14,641 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x110bffb00>]
2013-09-11 17:36:14,643 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=bH1kF96BnslenloKKH8qnY4L8OWgFyw46vk5u7OV882wPigSPjhOFJooC5wLOwDr&client_secret=bfad4c1fcaa47700e28fbbfb3f190582587ce33d118cd943df892531&grant_type=authorization_code&client_id=oaWeGQnQ2CFv&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 17:36:14,643 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:36:14,648 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:36:14,683 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 17:36:14,685 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:36:14,685 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 15:36:14 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 17:36:14,686 oic.oauth2:DEBUG resp.txt: {"access_token": "bH1kF96BnslenloKKH8qnfqdoloM7YoDSK8+jkNAGQWlb3Sk/JcQ/BZP9+Jzih6t", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIm9hV2VHUW5RMkNGdiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk5Mjk3NCwgImlhdCI6IDEzNzg5MTM3NzQsICJzdWIiOiAiaGFobzAwMzIifQ.Pu_Yijxy7_xPA46uaFJ4Ga2f5-lo-cNDHwX-IuazNkkpco0XtzghFfD-RkkWIcbt6KaEJ_E60pHcPVzYofn-mxerhRBCawzPzW5css7Ssi2g9WrhkirIen_YccUOvoWaTnjqFA-smq9QSJLtY0q4EIL-JpdLGviOXWf30kDg-uslhcnSKGZPRejOKrivBzwz6A7y_IKPRD7rs1VVRSZt4yHAJCedL-BapilcaXVRZ1IxjITLBdVqwDAvYTRgdMaHcf1WlrQxDZB5dZHVMgbvSazty6WJRj_54SHDFw7K1lstzoIy1fS-CPrkSqzJRiTnT3U1EFpbSn3qqqH6pjM8QQ", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:d2f91dd4-06c8-46de-b1b6-6f317e6d64a4", "scope": "openid profile", "refresh_token": "bH1kF96BnslenloKKH8qnazoQU+XJD0x9Io+ks7IailfTTMbDmbcKVzhFJg71Y77"}
2013-09-11 17:36:14,687 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 17:36:14,689 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'bH1kF96BnslenloKKH8qnfqdoloM7YoDSK8+jkNAGQWlb3Sk/JcQ/BZP9+Jzih6t', 'request': 'openid', 'schema': 'openid'}
2013-09-11 17:36:14,690 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=bH1kF96BnslenloKKH8qnfqdoloM7YoDSK8%2BjkNAGQWlb3Sk%2FJcQ%2FBZP9%2BJzih6t H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 17:36:14,694 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:36:14,721 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 17:36:14,723 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:36:14,724 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-11 17:36:14,725 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-11 17:36:14,726 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'bH1kF96BnslenloKKH8qnfqdoloM7YoDSK8+jkNAGQWlb3Sk/JcQ/BZP9+Jzih6t')
2013-09-11 17:36:53,434 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:36:53,434 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110c7d6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110c7d710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110c7d6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110c7d710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOIC': <oic.oic.Client object at 0x110c8f1d0>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x110c7d650>, 'PORT': 8666}
2013-09-11 17:36:53,435 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x110c8f910>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:d2f91dd4-06c8-46de-b1b6-6f317e6d64a4': <oic.oic.Grant object at 0x110d2ce50>, 'urn:uuid:6f26c060-7b72-4f19-9869-fed5674e0871': <oic.oic.Grant object at 0x110cedc10>, 'urn:uuid:2223ebd6-deaf-4f5e-a254-ca3fec2ffa19': <oic.oic.Grant object at 0x110ced250>, 'urn:uuid:596ca3ba-80f3-4698-bddb-5a1763299237': <oic.oic.Grant object at 0x110d18c50>, 'urn:uuid:c8198efc-1962-470a-bc28-a8ece5b2631b': <oic.oic.Grant object at 0x110cf8390>, 'urn:uuid:51c522eb-7823-4d26-a6ce-a976cbcbede1': <oic.oic.Grant object at 0x110cf7490>, 'urn:uuid:7f6904d6-563a-4911-815f-37770c2f2f37': <oic.oic.Grant object at 0x110d00cd0>, 'urn:uuid:ce3e37f1-7e7a-4716-9404-29ce3a9aa9dc': <oic.oic.Grant object at 0x110cf7190>, 'urn:uuid:abd7dc36-4f40-42db-8f40-00db7abd1b2b': <oic.oic.Grant object at 0x110ced590>, 'urn:uuid:30167c62-983d-4bd2-8d49-5c91033f0c04': <oic.oic.Grant object at 0x110cf7e50>, 'urn:uuid:ff11aec2-b87d-4925-9b93-f882f94bfa31': <oic.oic.Grant object at 0x110ced390>, 'urn:uuid:bbc9933a-f515-4e8e-82a9-6a34baba8195': <oic.oic.Grant object at 0x110ced2d0>, 'urn:uuid:390f9ce1-78f3-4e03-a151-f93c4fcaca8d': <oic.oic.Grant object at 0x110cf8490>, 'urn:uuid:621021e9-d1b6-48c4-94d3-fc1b8028a6d0': <oic.oic.Grant object at 0x110ced550>, 'urn:uuid:c5ef24ee-f393-4e98-bcc9-06f882ba23d2': <oic.oic.Grant object at 0x110bf6e10>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:e098e4c8-aa1e-4ce1-9777-240dd44b37c2'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'bfad4c1fcaa47700e28fbbfb3f190582587ce33d118cd943df892531'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x110c8f0d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10f0e6ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'oaWeGQnQ2CFv'), ('registration_expires', 1378996159), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x110c8f8d0>), ('client_prefs', {}), ('registration_access_token', u'a71yAweeZXwLyELbf0zf5IBfio8RDUp1'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 17:36:53,436 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:0862c354-2ef8-46be-a174-39e496b7b379', 'response_type': 'code'}
2013-09-11 17:36:53,437 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A0862c354-2ef8-46be-a174-39e496b7b379&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv
2013-09-11 17:36:53,438 rp.openidconnect:DEBUG body: None
2013-09-11 17:36:53,438 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A0862c354-2ef8-46be-a174-39e496b7b379&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv
2013-09-11 17:36:53,439 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:36:53,439 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A0862c354-2ef8-46be-a174-39e496b7b379&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv')]
2013-09-11 17:36:53,478 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110c7d690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A0862c354-2ef8-46be-a174-39e496b7b379&code=tt8VRqVSC0RC%2BUqHzI9i4bkfRmUqu2xSIWjW2xJ%2B6yZoJqmYo3Q5MnRld2wJ6bOx', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49959', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110d2cd10>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913813.477412, 'service': u'https://localhost:8092/', '_creation_time': 1378913358.669058}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A0862c354-2ef8-46be-a174-39e496b7b379&code=tt8VRqVSC0RC%2BUqHzI9i4bkfRmUqu2xSIWjW2xJ%2B6yZoJqmYo3Q5MnRld2wJ6bOx', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f03b270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:36:53,478 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:0862c354-2ef8-46be-a174-39e496b7b379'], 'code': ['tt8VRqVSC0RC+UqHzI9i4bkfRmUqu2xSIWjW2xJ+6yZoJqmYo3Q5MnRld2wJ6bOx']}
2013-09-11 17:36:53,478 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:0862c354-2ef8-46be-a174-39e496b7b379'], 'code': ['tt8VRqVSC0RC+UqHzI9i4bkfRmUqu2xSIWjW2xJ+6yZoJqmYo3Q5MnRld2wJ6bOx']}
2013-09-11 17:36:53,479 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:36:53,480 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110c7d690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A0862c354-2ef8-46be-a174-39e496b7b379&code=tt8VRqVSC0RC%2BUqHzI9i4bkfRmUqu2xSIWjW2xJ%2B6yZoJqmYo3Q5MnRld2wJ6bOx', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49959', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110d2cd10>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378913813.477412, 'service': u'https://localhost:8092/', '_creation_time': 1378913358.669058}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A0862c354-2ef8-46be-a174-39e496b7b379&code=tt8VRqVSC0RC%2BUqHzI9i4bkfRmUqu2xSIWjW2xJ%2B6yZoJqmYo3Q5MnRld2wJ6bOx', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f03b270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:36:53,481 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x110bffb00>]
2013-09-11 17:36:53,482 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=tt8VRqVSC0RC%2BUqHzI9i4bkfRmUqu2xSIWjW2xJ%2B6yZoJqmYo3Q5MnRld2wJ6bOx&client_secret=bfad4c1fcaa47700e28fbbfb3f190582587ce33d118cd943df892531&grant_type=authorization_code&client_id=oaWeGQnQ2CFv&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 17:36:53,482 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:36:53,488 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:36:53,523 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 17:36:53,524 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:36:53,525 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 15:36:53 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 17:36:53,526 oic.oauth2:DEBUG resp.txt: {"access_token": "tt8VRqVSC0RC+UqHzI9i4SxpnLqZ6qPhmRgoThIGgHx++BKCxYtiAOuHVEHYMMHJ", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIm9hV2VHUW5RMkNGdiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk5MzAxMywgImlhdCI6IDEzNzg5MTM4MTMsICJzdWIiOiAiaGFobzAwMzIifQ.0dMz9mBmnRoaeMX30zclH3EOLLlPjuVNjh6MB1FWCrLKhIWn4-J3VV864fjrwSZxOCqaeHRj5NquVXO9jidhIAfXBlwQyRRDrk3gr4oOOW-xzKbFze2m9PxpdCyvtqsOku-83rc37bY78FQtdZMa7q1IRSc3gJEQ2j0xvj8e4USMZADOfL1KvEKiVfeSeVnaQ-hDOC97DZjcaBYeJM1jvmbxZ8AZvf44h5-RzB-XYFCOXvdfKeNdfn2kHlEXqgAhERYy5LLVY7zUzeS_7kTXrpvmK47atLUHxj-9ea7x-GRvc5ZlRb3WyBCDy97E4yjKGwdKcRCU-C438yeoCED_JA", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:0862c354-2ef8-46be-a174-39e496b7b379", "scope": "openid profile", "refresh_token": "tt8VRqVSC0RC+UqHzI9i4Uhc06H0hrGJn71spZn1cPoDT4Oh0Wj28uhFY8HQ2czJ"}
2013-09-11 17:36:53,527 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 17:36:53,529 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'tt8VRqVSC0RC+UqHzI9i4SxpnLqZ6qPhmRgoThIGgHx++BKCxYtiAOuHVEHYMMHJ', 'request': 'openid', 'schema': 'openid'}
2013-09-11 17:36:53,530 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=tt8VRqVSC0RC%2BUqHzI9i4SxpnLqZ6qPhmRgoThIGgHx%2B%2BBKCxYtiAOuHVEHYMMHJ H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 17:36:53,534 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:36:53,562 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 17:36:53,563 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:36:53,564 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-11 17:36:53,566 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-11 17:36:53,566 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'tt8VRqVSC0RC+UqHzI9i4SxpnLqZ6qPhmRgoThIGgHx++BKCxYtiAOuHVEHYMMHJ')
2013-09-11 17:37:07,178 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:37:07,183 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:37:07,184 root:INFO [static]sending: static/style.css
2013-09-11 17:37:07,188 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:43:41,448 root:INFO [static]sending: static/style.css
2013-09-11 17:43:41,450 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:43:41,451 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:43:41,456 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:43:42,403 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:43:42,404 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110c7d6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110c7d710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110c7d6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110c7d710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOIC': <oic.oic.Client object at 0x110c8f1d0>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x110c7d650>, 'PORT': 8666}
2013-09-11 17:43:42,405 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x110c8f910>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:d2f91dd4-06c8-46de-b1b6-6f317e6d64a4': <oic.oic.Grant object at 0x110d2ce50>, 'urn:uuid:6f26c060-7b72-4f19-9869-fed5674e0871': <oic.oic.Grant object at 0x110cedc10>, 'urn:uuid:2223ebd6-deaf-4f5e-a254-ca3fec2ffa19': <oic.oic.Grant object at 0x110ced250>, 'urn:uuid:596ca3ba-80f3-4698-bddb-5a1763299237': <oic.oic.Grant object at 0x110d18c50>, 'urn:uuid:c8198efc-1962-470a-bc28-a8ece5b2631b': <oic.oic.Grant object at 0x110cf8390>, 'urn:uuid:51c522eb-7823-4d26-a6ce-a976cbcbede1': <oic.oic.Grant object at 0x110cf7490>, 'urn:uuid:7f6904d6-563a-4911-815f-37770c2f2f37': <oic.oic.Grant object at 0x110d00cd0>, 'urn:uuid:ce3e37f1-7e7a-4716-9404-29ce3a9aa9dc': <oic.oic.Grant object at 0x110cf7190>, 'urn:uuid:abd7dc36-4f40-42db-8f40-00db7abd1b2b': <oic.oic.Grant object at 0x110ced590>, 'urn:uuid:30167c62-983d-4bd2-8d49-5c91033f0c04': <oic.oic.Grant object at 0x110cf7e50>, 'urn:uuid:ff11aec2-b87d-4925-9b93-f882f94bfa31': <oic.oic.Grant object at 0x110ced390>, 'urn:uuid:0862c354-2ef8-46be-a174-39e496b7b379': <oic.oic.Grant object at 0x110d2c710>, 'urn:uuid:bbc9933a-f515-4e8e-82a9-6a34baba8195': <oic.oic.Grant object at 0x110ced2d0>, 'urn:uuid:390f9ce1-78f3-4e03-a151-f93c4fcaca8d': <oic.oic.Grant object at 0x110cf8490>, 'urn:uuid:621021e9-d1b6-48c4-94d3-fc1b8028a6d0': <oic.oic.Grant object at 0x110ced550>, 'urn:uuid:c5ef24ee-f393-4e98-bcc9-06f882ba23d2': <oic.oic.Grant object at 0x110bf6e10>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:b27c382d-29aa-427c-b9b4-e926d8b420c9'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'bfad4c1fcaa47700e28fbbfb3f190582587ce33d118cd943df892531'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x110c8f0d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10f0e6ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'oaWeGQnQ2CFv'), ('registration_expires', 1378996159), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x110c8f8d0>), ('client_prefs', {}), ('registration_access_token', u'a71yAweeZXwLyELbf0zf5IBfio8RDUp1'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 17:43:42,405 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:e098e4c8-aa1e-4ce1-9777-240dd44b37c2', 'response_type': 'code'}
2013-09-11 17:43:42,406 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Ae098e4c8-aa1e-4ce1-9777-240dd44b37c2&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv
2013-09-11 17:43:42,407 rp.openidconnect:DEBUG body: None
2013-09-11 17:43:42,408 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ae098e4c8-aa1e-4ce1-9777-240dd44b37c2&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv
2013-09-11 17:43:42,408 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:43:42,409 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ae098e4c8-aa1e-4ce1-9777-240dd44b37c2&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv')]
2013-09-11 17:43:42,457 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110c7d690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ae098e4c8-aa1e-4ce1-9777-240dd44b37c2&code=ccxzCSexkFHSxusPBr7HdN7AXlyJOO6kJzS62sq3sFGVl8uFUGpW9g2z9r%2F3SslX', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50002', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110d00a90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378914222.457034, 'service': u'https://localhost:8092/', '_creation_time': 1378913358.669058}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3Ae098e4c8-aa1e-4ce1-9777-240dd44b37c2&code=ccxzCSexkFHSxusPBr7HdN7AXlyJOO6kJzS62sq3sFGVl8uFUGpW9g2z9r%2F3SslX', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f03b270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:43:42,458 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:e098e4c8-aa1e-4ce1-9777-240dd44b37c2'], 'code': ['ccxzCSexkFHSxusPBr7HdN7AXlyJOO6kJzS62sq3sFGVl8uFUGpW9g2z9r/3SslX']}
2013-09-11 17:43:42,458 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:e098e4c8-aa1e-4ce1-9777-240dd44b37c2'], 'code': ['ccxzCSexkFHSxusPBr7HdN7AXlyJOO6kJzS62sq3sFGVl8uFUGpW9g2z9r/3SslX']}
2013-09-11 17:43:42,462 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:43:42,488 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-11 17:43:42,493 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:43:42,494 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110c7d690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ae098e4c8-aa1e-4ce1-9777-240dd44b37c2&code=ccxzCSexkFHSxusPBr7HdN7AXlyJOO6kJzS62sq3sFGVl8uFUGpW9g2z9r%2F3SslX', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50002', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110d00a90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378914222.457034, 'service': u'https://localhost:8092/', '_creation_time': 1378913358.669058}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3Ae098e4c8-aa1e-4ce1-9777-240dd44b37c2&code=ccxzCSexkFHSxusPBr7HdN7AXlyJOO6kJzS62sq3sFGVl8uFUGpW9g2z9r%2F3SslX', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f03b270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:43:42,494 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x110cf2e18>]
2013-09-11 17:43:42,495 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=ccxzCSexkFHSxusPBr7HdN7AXlyJOO6kJzS62sq3sFGVl8uFUGpW9g2z9r%2F3SslX&client_secret=bfad4c1fcaa47700e28fbbfb3f190582587ce33d118cd943df892531&grant_type=authorization_code&client_id=oaWeGQnQ2CFv&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 17:43:42,496 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:43:42,501 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:43:42,535 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 17:43:42,537 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:43:42,538 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 15:43:42 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 17:43:42,538 oic.oauth2:DEBUG resp.txt: {"access_token": "ccxzCSexkFHSxusPBr7HdJx59OydoEOIfXkhdk9JqhwBMUiKaPC+JmuSsEQGFh1T", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIm9hV2VHUW5RMkNGdiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk5MzQyMiwgImlhdCI6IDEzNzg5MTQyMjIsICJzdWIiOiAiaGFobzAwMzIifQ.INQvaNSfLm7v_dsBIc4C0ZK9hZ2TeHcQxCJyeHK5TtR1MUJeEiZfx0aD3NsPUJydRSjTtcrKEcZzTcXP-VtZpyB3zBCMWD13at-LlBcztthBZ1o67Uiv4pv0zycSweYV8LGF3KC448vEWBkP6Ja-Vo0N2MgNLNAykICbkKHopv12sViXjijYd_PVYzT7YkDPgflNQZEAaLtSQQaivRpUYdFT_l-BUqoPjGbdun1th66Y0FFMLVEH0-n8on3Q6CxjsszI6HNaGTIzDuZEKxcNWF47PX4OyNFSRmuAVn3ShNdI_bWtBrY_-hb3LhM0r12rgrx-9lbRrKuaLtad_tenKg", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:e098e4c8-aa1e-4ce1-9777-240dd44b37c2", "scope": "openid profile", "refresh_token": "ccxzCSexkFHSxusPBr7HdE/FxeajYGOxtEoB26gIRtIQKr59AVsbPuS9ap3lH7jN"}
2013-09-11 17:43:42,540 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 17:43:42,542 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'ccxzCSexkFHSxusPBr7HdJx59OydoEOIfXkhdk9JqhwBMUiKaPC+JmuSsEQGFh1T', 'request': 'openid', 'schema': 'openid'}
2013-09-11 17:43:42,543 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=ccxzCSexkFHSxusPBr7HdJx59OydoEOIfXkhdk9JqhwBMUiKaPC%2BJmuSsEQGFh1T H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 17:43:42,547 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:43:42,575 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 17:43:42,576 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:43:42,577 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-11 17:43:42,578 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-11 17:48:41,781 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'ccxzCSexkFHSxusPBr7HdJx59OydoEOIfXkhdk9JqhwBMUiKaPC+JmuSsEQGFh1T')
2013-09-11 17:48:43,512 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:48:43,514 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:48:43,516 root:INFO [static]sending: static/style.css
2013-09-11 17:48:43,519 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:48:47,911 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:48:47,912 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:48:47,912 root:INFO [static]sending: static/style.css
2013-09-11 17:48:47,917 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:48:49,056 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:48:49,057 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110c7d6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110c7d710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110c7d6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110c7d710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOIC': <oic.oic.Client object at 0x110c8f1d0>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x110c7d650>, 'PORT': 8666}
2013-09-11 17:48:49,058 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x110c8f910>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:d2f91dd4-06c8-46de-b1b6-6f317e6d64a4': <oic.oic.Grant object at 0x110d2ce50>, 'urn:uuid:6f26c060-7b72-4f19-9869-fed5674e0871': <oic.oic.Grant object at 0x110cedc10>, 'urn:uuid:2223ebd6-deaf-4f5e-a254-ca3fec2ffa19': <oic.oic.Grant object at 0x110ced250>, 'urn:uuid:596ca3ba-80f3-4698-bddb-5a1763299237': <oic.oic.Grant object at 0x110d18c50>, 'urn:uuid:c8198efc-1962-470a-bc28-a8ece5b2631b': <oic.oic.Grant object at 0x110cf8390>, 'urn:uuid:51c522eb-7823-4d26-a6ce-a976cbcbede1': <oic.oic.Grant object at 0x110cf7490>, 'urn:uuid:7f6904d6-563a-4911-815f-37770c2f2f37': <oic.oic.Grant object at 0x110d00cd0>, 'urn:uuid:ce3e37f1-7e7a-4716-9404-29ce3a9aa9dc': <oic.oic.Grant object at 0x110cf7190>, 'urn:uuid:abd7dc36-4f40-42db-8f40-00db7abd1b2b': <oic.oic.Grant object at 0x110ced590>, 'urn:uuid:30167c62-983d-4bd2-8d49-5c91033f0c04': <oic.oic.Grant object at 0x110cf7e50>, 'urn:uuid:ff11aec2-b87d-4925-9b93-f882f94bfa31': <oic.oic.Grant object at 0x110ced390>, 'urn:uuid:0862c354-2ef8-46be-a174-39e496b7b379': <oic.oic.Grant object at 0x110d2c710>, 'urn:uuid:bbc9933a-f515-4e8e-82a9-6a34baba8195': <oic.oic.Grant object at 0x110ced2d0>, 'urn:uuid:390f9ce1-78f3-4e03-a151-f93c4fcaca8d': <oic.oic.Grant object at 0x110cf8490>, 'urn:uuid:e098e4c8-aa1e-4ce1-9777-240dd44b37c2': <oic.oic.Grant object at 0x110c9a690>, 'urn:uuid:621021e9-d1b6-48c4-94d3-fc1b8028a6d0': <oic.oic.Grant object at 0x110ced550>, 'urn:uuid:c5ef24ee-f393-4e98-bcc9-06f882ba23d2': <oic.oic.Grant object at 0x110bf6e10>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:7311d8ff-fccd-41df-b88c-4bed850114c2'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'bfad4c1fcaa47700e28fbbfb3f190582587ce33d118cd943df892531'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x110c8f0d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10f0e6ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'oaWeGQnQ2CFv'), ('registration_expires', 1378996159), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x110c8f8d0>), ('client_prefs', {}), ('registration_access_token', u'a71yAweeZXwLyELbf0zf5IBfio8RDUp1'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 17:48:49,058 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:b27c382d-29aa-427c-b9b4-e926d8b420c9', 'response_type': 'code'}
2013-09-11 17:48:49,059 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Ab27c382d-29aa-427c-b9b4-e926d8b420c9&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv
2013-09-11 17:48:49,060 rp.openidconnect:DEBUG body: None
2013-09-11 17:48:49,061 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ab27c382d-29aa-427c-b9b4-e926d8b420c9&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv
2013-09-11 17:48:49,061 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:48:49,062 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ab27c382d-29aa-427c-b9b4-e926d8b420c9&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv')]
2013-09-11 17:48:49,111 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110c7d690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ab27c382d-29aa-427c-b9b4-e926d8b420c9&code=XcpoxfzxJKP%2B%2FBhhGHMaRx%2Fhfq%2FinI80drnUxy2EGPAmwyssF6f98KD2P13QAX2R', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50034', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110cf7c10>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378914529.110819, 'service': u'https://localhost:8092/', '_creation_time': 1378913358.669058}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3Ab27c382d-29aa-427c-b9b4-e926d8b420c9&code=XcpoxfzxJKP%2B%2FBhhGHMaRx%2Fhfq%2FinI80drnUxy2EGPAmwyssF6f98KD2P13QAX2R', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f03b270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:48:49,111 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:b27c382d-29aa-427c-b9b4-e926d8b420c9'], 'code': ['XcpoxfzxJKP+/BhhGHMaRx/hfq/inI80drnUxy2EGPAmwyssF6f98KD2P13QAX2R']}
2013-09-11 17:48:49,112 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:b27c382d-29aa-427c-b9b4-e926d8b420c9'], 'code': ['XcpoxfzxJKP+/BhhGHMaRx/hfq/inI80drnUxy2EGPAmwyssF6f98KD2P13QAX2R']}
2013-09-11 17:48:49,117 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:48:49,143 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-11 17:48:49,148 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:48:49,149 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110c7d690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ab27c382d-29aa-427c-b9b4-e926d8b420c9&code=XcpoxfzxJKP%2B%2FBhhGHMaRx%2Fhfq%2FinI80drnUxy2EGPAmwyssF6f98KD2P13QAX2R', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50034', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110cf7c10>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378914529.110819, 'service': u'https://localhost:8092/', '_creation_time': 1378913358.669058}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3Ab27c382d-29aa-427c-b9b4-e926d8b420c9&code=XcpoxfzxJKP%2B%2FBhhGHMaRx%2Fhfq%2FinI80drnUxy2EGPAmwyssF6f98KD2P13QAX2R', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f03b270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:48:49,149 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x110d25560>]
2013-09-11 17:48:49,151 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=XcpoxfzxJKP%2B%2FBhhGHMaRx%2Fhfq%2FinI80drnUxy2EGPAmwyssF6f98KD2P13QAX2R&client_secret=bfad4c1fcaa47700e28fbbfb3f190582587ce33d118cd943df892531&grant_type=authorization_code&client_id=oaWeGQnQ2CFv&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 17:48:49,151 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:48:49,156 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:48:49,191 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 17:48:49,193 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:48:49,193 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 15:48:49 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 17:48:49,194 oic.oauth2:DEBUG resp.txt: {"access_token": "XcpoxfzxJKP+/BhhGHMaR2JPn5i3TVhoAf+PqhvcwLOj7PwnnO1HRimCLr93oQ+H", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIm9hV2VHUW5RMkNGdiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk5MzcyOSwgImlhdCI6IDEzNzg5MTQ1MjksICJzdWIiOiAiaGFobzAwMzIifQ.EXrbAiG16CB0L3gaavbb3neF1e9pM23_2wR9tTHMENbu0RRJzmCN5XqkWUM8NlnPdYR2MSWwR15d-sA5NvB-q4sjlHrPejb2X_QlQ5exg1wC8YJaILCa8NFwIHmIezcvIrD1dOmNcNAFSiDwvXxn243Yp23f3WTST1-k_Y72tipUUN_iwx2RJuAjvEEz-yvnNq4D5cemgryt8zTvu5OI65bp5Z9SENtITyFXJbfTrKGl5BxmNQTtiJI7XdxJBOTsoazZPSaQ_vciD-G47XCKJZpK-X5HevSkV7ZYkpD-OlGSCm4OicDqCRafqwDvnffSiR4NAaEvywsDeT33Vw18uA", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:b27c382d-29aa-427c-b9b4-e926d8b420c9", "scope": "openid profile", "refresh_token": "XcpoxfzxJKP+/BhhGHMaR44Iwg89ps33a/MPZyxfWNkthkV0BRGUkmDdqXsL2/9x"}
2013-09-11 17:48:49,195 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 17:48:49,197 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'XcpoxfzxJKP+/BhhGHMaR2JPn5i3TVhoAf+PqhvcwLOj7PwnnO1HRimCLr93oQ+H', 'request': 'openid', 'schema': 'openid'}
2013-09-11 17:48:49,198 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=XcpoxfzxJKP%2B%2FBhhGHMaR2JPn5i3TVhoAf%2BPqhvcwLOj7PwnnO1HRimCLr93oQ%2BH H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 17:48:49,202 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:48:49,229 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 17:48:49,231 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:48:49,232 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-11 17:48:49,233 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-11 17:48:51,777 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'XcpoxfzxJKP+/BhhGHMaR2JPn5i3TVhoAf+PqhvcwLOj7PwnnO1HRimCLr93oQ+H')
2013-09-11 17:49:19,170 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:49:19,171 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110c7d6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110c7d710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110c7d6d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110c7d710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOIC': <oic.oic.Client object at 0x110c8f1d0>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x110c7d650>, 'PORT': 8666}
2013-09-11 17:49:19,172 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x110c8f910>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:d2f91dd4-06c8-46de-b1b6-6f317e6d64a4': <oic.oic.Grant object at 0x110d2ce50>, 'urn:uuid:6f26c060-7b72-4f19-9869-fed5674e0871': <oic.oic.Grant object at 0x110cedc10>, 'urn:uuid:2223ebd6-deaf-4f5e-a254-ca3fec2ffa19': <oic.oic.Grant object at 0x110ced250>, 'urn:uuid:596ca3ba-80f3-4698-bddb-5a1763299237': <oic.oic.Grant object at 0x110d18c50>, 'urn:uuid:c8198efc-1962-470a-bc28-a8ece5b2631b': <oic.oic.Grant object at 0x110cf8390>, 'urn:uuid:51c522eb-7823-4d26-a6ce-a976cbcbede1': <oic.oic.Grant object at 0x110cf7490>, 'urn:uuid:7f6904d6-563a-4911-815f-37770c2f2f37': <oic.oic.Grant object at 0x110d00cd0>, 'urn:uuid:ce3e37f1-7e7a-4716-9404-29ce3a9aa9dc': <oic.oic.Grant object at 0x110cf7190>, 'urn:uuid:abd7dc36-4f40-42db-8f40-00db7abd1b2b': <oic.oic.Grant object at 0x110ced590>, 'urn:uuid:30167c62-983d-4bd2-8d49-5c91033f0c04': <oic.oic.Grant object at 0x110cf7e50>, 'urn:uuid:ff11aec2-b87d-4925-9b93-f882f94bfa31': <oic.oic.Grant object at 0x110ced390>, 'urn:uuid:0862c354-2ef8-46be-a174-39e496b7b379': <oic.oic.Grant object at 0x110d2c710>, 'urn:uuid:b27c382d-29aa-427c-b9b4-e926d8b420c9': <oic.oic.Grant object at 0x110cf84d0>, 'urn:uuid:bbc9933a-f515-4e8e-82a9-6a34baba8195': <oic.oic.Grant object at 0x110ced2d0>, 'urn:uuid:390f9ce1-78f3-4e03-a151-f93c4fcaca8d': <oic.oic.Grant object at 0x110cf8490>, 'urn:uuid:e098e4c8-aa1e-4ce1-9777-240dd44b37c2': <oic.oic.Grant object at 0x110c9a690>, 'urn:uuid:621021e9-d1b6-48c4-94d3-fc1b8028a6d0': <oic.oic.Grant object at 0x110ced550>, 'urn:uuid:c5ef24ee-f393-4e98-bcc9-06f882ba23d2': <oic.oic.Grant object at 0x110bf6e10>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:b75ebc44-77ce-4f02-b6f0-df6c2a3737c7'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'bfad4c1fcaa47700e28fbbfb3f190582587ce33d118cd943df892531'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x110c8f0d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10f0e6ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'oaWeGQnQ2CFv'), ('registration_expires', 1378996159), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x110c8f8d0>), ('client_prefs', {}), ('registration_access_token', u'a71yAweeZXwLyELbf0zf5IBfio8RDUp1'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 17:49:19,173 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:7311d8ff-fccd-41df-b88c-4bed850114c2', 'response_type': 'code'}
2013-09-11 17:49:19,174 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A7311d8ff-fccd-41df-b88c-4bed850114c2&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv
2013-09-11 17:49:19,175 rp.openidconnect:DEBUG body: None
2013-09-11 17:49:19,175 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A7311d8ff-fccd-41df-b88c-4bed850114c2&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv
2013-09-11 17:49:19,176 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:49:19,176 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A7311d8ff-fccd-41df-b88c-4bed850114c2&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=oaWeGQnQ2CFv')]
2013-09-11 17:49:19,213 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110c7d690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A7311d8ff-fccd-41df-b88c-4bed850114c2&code=8gCZQjscKzfTh8JHEyfSUCIOiZbKM%2FEHoWECAcfC7%2FGFMmgJqMcJZrcfkB13Se3K', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50055', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110ce3f90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378914559.213164, 'service': u'https://localhost:8092/', '_creation_time': 1378913358.669058}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A7311d8ff-fccd-41df-b88c-4bed850114c2&code=8gCZQjscKzfTh8JHEyfSUCIOiZbKM%2FEHoWECAcfC7%2FGFMmgJqMcJZrcfkB13Se3K', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f03b270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:49:19,214 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:7311d8ff-fccd-41df-b88c-4bed850114c2'], 'code': ['8gCZQjscKzfTh8JHEyfSUCIOiZbKM/EHoWECAcfC7/GFMmgJqMcJZrcfkB13Se3K']}
2013-09-11 17:49:19,214 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:7311d8ff-fccd-41df-b88c-4bed850114c2'], 'code': ['8gCZQjscKzfTh8JHEyfSUCIOiZbKM/EHoWECAcfC7/GFMmgJqMcJZrcfkB13Se3K']}
2013-09-11 17:49:19,215 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:49:19,216 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110c7d690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A7311d8ff-fccd-41df-b88c-4bed850114c2&code=8gCZQjscKzfTh8JHEyfSUCIOiZbKM%2FEHoWECAcfC7%2FGFMmgJqMcJZrcfkB13Se3K', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50055', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110ce3f90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378914559.213164, 'service': u'https://localhost:8092/', '_creation_time': 1378913358.669058}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A7311d8ff-fccd-41df-b88c-4bed850114c2&code=8gCZQjscKzfTh8JHEyfSUCIOiZbKM%2FEHoWECAcfC7%2FGFMmgJqMcJZrcfkB13Se3K', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f03b270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:49:19,217 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x110d25560>]
2013-09-11 17:49:19,218 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=8gCZQjscKzfTh8JHEyfSUCIOiZbKM%2FEHoWECAcfC7%2FGFMmgJqMcJZrcfkB13Se3K&client_secret=bfad4c1fcaa47700e28fbbfb3f190582587ce33d118cd943df892531&grant_type=authorization_code&client_id=oaWeGQnQ2CFv&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 17:49:19,218 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:49:19,223 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:49:19,259 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 17:49:19,261 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:49:19,262 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 15:49:19 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 17:49:19,262 oic.oauth2:DEBUG resp.txt: {"access_token": "8gCZQjscKzfTh8JHEyfSUPIf33RrT/x0+1z5aMc9mQZ7ztNafWw5OjEtLeRWj1QB", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIm9hV2VHUW5RMkNGdiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk5Mzc1OSwgImlhdCI6IDEzNzg5MTQ1NTksICJzdWIiOiAiaGFobzAwMzIifQ.zAuOv4Bl9_NhT7XD0gUxQSwRZphNa4Aad9w322n5wI89qiIU9ku5nBSWYT-A-NGcy5IYFM3Gv6UhAIB8Fch8PrAEqFNCG2wuUmZUJPPaUae5Azwfqy87Glqd_gkIJVs776iMt5Xd76ODBZIn37PZcGvWQq-m_NKVMkiyHmf2jK2beE1y-7DJ7P2DN7MBHgOq0PxA1ZMMhu75bGFrew31ioho9P9dcmH3ngUJZWtBLuR219b8UtsFDOGYT7TArFGuOvV8I3DLZaSuaHSbJfx1NFk0-xyhrsJk7ichU__9DuxoDifUqVXNoRV9SZFAwyNbw1gb4C51QXDxxtHPwpj1Ig", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:7311d8ff-fccd-41df-b88c-4bed850114c2", "scope": "openid profile", "refresh_token": "8gCZQjscKzfTh8JHEyfSULjXWTc/dRhw5a1V3jmlD5rvh/aS/tiO5OJwS5wnZOTC"}
2013-09-11 17:49:19,264 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 17:49:19,266 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'8gCZQjscKzfTh8JHEyfSUPIf33RrT/x0+1z5aMc9mQZ7ztNafWw5OjEtLeRWj1QB', 'request': 'openid', 'schema': 'openid'}
2013-09-11 17:49:19,267 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=8gCZQjscKzfTh8JHEyfSUPIf33RrT%2Fx0%2B1z5aMc9mQZ7ztNafWw5OjEtLeRWj1QB H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 17:49:19,272 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:49:19,299 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 17:49:19,300 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:49:19,301 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-11 17:49:19,303 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-11 17:49:21,387 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'8gCZQjscKzfTh8JHEyfSUPIf33RrT/x0+1z5aMc9mQZ7ztNafWw5OjEtLeRWj1QB')
2013-09-11 17:49:35,853 root:INFO RP server starting listening on port:8666
2013-09-11 17:49:40,526 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:49:40,527 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10ffa4650>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10ffa4690>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10ffa4650>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10ffa4690>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10ffa45d0>, 'PORT': 8666}
2013-09-11 17:49:40,547 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:49:40,587 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-11 17:49:40,589 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:49:40,610 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-11 17:49:40,612 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 17:49:40,614 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 17:49:40,615 rp.openidconnect:DEBUG Registering RP
2013-09-11 17:49:40,622 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:49:40,649 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-11 17:49:40,651 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:49:40,653 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378910980&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DaYSecriycoPZ&registration_access_token=16UXX0NbJStNQbzYlKwjAMJj2j1GexXX&client_id=aYSecriycoPZ&client_secret=db08b7471f664118819287459cbe8a63f16287c0702580f26b632f21&client_secret_expires_at=1378997380
2013-09-11 17:49:40,655 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10ffafd90>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:c6c9960d-f6d5-49b5-98cb-5a7c7f8fd9c3'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'db08b7471f664118819287459cbe8a63f16287c0702580f26b632f21'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10ffafcd0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10e40ead0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'aYSecriycoPZ'), ('registration_expires', 1378997380), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10ffafd50>), ('client_prefs', {}), ('registration_access_token', u'16UXX0NbJStNQbzYlKwjAMJj2j1GexXX'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 17:49:40,655 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:c84ae93e-ec7a-4523-9770-640426aa00ab', 'response_type': 'code'}
2013-09-11 17:49:40,656 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Ac84ae93e-ec7a-4523-9770-640426aa00ab&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=aYSecriycoPZ
2013-09-11 17:49:40,657 rp.openidconnect:DEBUG body: None
2013-09-11 17:49:40,657 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ac84ae93e-ec7a-4523-9770-640426aa00ab&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=aYSecriycoPZ
2013-09-11 17:49:40,658 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:49:40,658 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ac84ae93e-ec7a-4523-9770-640426aa00ab&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=aYSecriycoPZ')]
2013-09-11 17:49:40,696 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10ffa4610>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ac84ae93e-ec7a-4523-9770-640426aa00ab&code=Ll0Wy282vzetx0iQ03RbUET6HShhZNAL7h1dUFL1k0Qrb%2BkM6xZ3FnfXK82yqR%2Fq', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50073', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10ffafb50>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378914580.695499, 'service': u'https://localhost:8092/', '_creation_time': 1378914580.525894}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3Ac84ae93e-ec7a-4523-9770-640426aa00ab&code=Ll0Wy282vzetx0iQ03RbUET6HShhZNAL7h1dUFL1k0Qrb%2BkM6xZ3FnfXK82yqR%2Fq', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10e362270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:49:40,696 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:c84ae93e-ec7a-4523-9770-640426aa00ab'], 'code': ['Ll0Wy282vzetx0iQ03RbUET6HShhZNAL7h1dUFL1k0Qrb+kM6xZ3FnfXK82yqR/q']}
2013-09-11 17:49:40,697 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:c84ae93e-ec7a-4523-9770-640426aa00ab'], 'code': ['Ll0Wy282vzetx0iQ03RbUET6HShhZNAL7h1dUFL1k0Qrb+kM6xZ3FnfXK82yqR/q']}
2013-09-11 17:49:40,701 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:49:40,728 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-11 17:49:40,732 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:49:40,733 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10ffa4610>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ac84ae93e-ec7a-4523-9770-640426aa00ab&code=Ll0Wy282vzetx0iQ03RbUET6HShhZNAL7h1dUFL1k0Qrb%2BkM6xZ3FnfXK82yqR%2Fq', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50073', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10ffafb50>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378914580.695499, 'service': u'https://localhost:8092/', '_creation_time': 1378914580.525894}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3Ac84ae93e-ec7a-4523-9770-640426aa00ab&code=Ll0Wy282vzetx0iQ03RbUET6HShhZNAL7h1dUFL1k0Qrb%2BkM6xZ3FnfXK82yqR%2Fq', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10e362270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:49:40,734 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10ff26bd8>]
2013-09-11 17:49:40,735 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=Ll0Wy282vzetx0iQ03RbUET6HShhZNAL7h1dUFL1k0Qrb%2BkM6xZ3FnfXK82yqR%2Fq&client_secret=db08b7471f664118819287459cbe8a63f16287c0702580f26b632f21&grant_type=authorization_code&client_id=aYSecriycoPZ&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 17:49:40,736 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:49:40,741 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:49:40,778 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 17:49:40,780 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:49:40,781 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 15:49:40 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 17:49:40,781 oic.oauth2:DEBUG resp.txt: {"access_token": "Ll0Wy282vzetx0iQ03RbUEH3Akr1+orviL5NjiJsY15v5wEnwMVk8n80kaewtzSZ", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbImFZU2Vjcml5Y29QWiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk5Mzc4MCwgImlhdCI6IDEzNzg5MTQ1ODAsICJzdWIiOiAiaGFobzAwMzIifQ.KxESmOqNFfKquO3lmRAOIj1En4Xlp7QhuFNG-NWBY9vfata2GsoTWO8P28kldf8mAPDqXqoNhJnhnw0G7Y7CH8-e3PcFMCaL4ike8ScLf8JOfoWWLElgE6xRy9cZ6WOuro9SmwLKmVeN8DCdY6l4R3s9BtZbtXv3cYf_mLSjMvTFQmeOiU5hZCj4MRxP23e3DyQumHVLU-8OG_MaMKp9Qe7C9ekLOheuNDSWuMCKyAdJRGr2-R1mZEaeIYDfzVsAXamjzkccp_R-MVDKHsQBt7y02_DVR9kQWbhigJ1QPrmOZV0DFO9vi0V4qyDp-jrGoETVg_J5UR06cYhiUBrLfQ", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:c84ae93e-ec7a-4523-9770-640426aa00ab", "scope": "openid profile", "refresh_token": "Ll0Wy282vzetx0iQ03RbULyZ761QzkQ7H0KbNqxmLd9WnT5jA9iLVk1ysbSCUs24"}
2013-09-11 17:49:40,783 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 17:49:40,786 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'Ll0Wy282vzetx0iQ03RbUEH3Akr1+orviL5NjiJsY15v5wEnwMVk8n80kaewtzSZ', 'request': 'openid', 'schema': 'openid'}
2013-09-11 17:49:40,786 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=Ll0Wy282vzetx0iQ03RbUEH3Akr1%2BorviL5NjiJsY15v5wEnwMVk8n80kaewtzSZ H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 17:49:40,791 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:49:40,819 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 17:49:40,820 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:49:40,821 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-11 17:49:40,823 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-11 17:49:43,591 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'Ll0Wy282vzetx0iQ03RbUEH3Akr1+orviL5NjiJsY15v5wEnwMVk8n80kaewtzSZ', <oic.oic.Client object at 0x10ffafc50>)
2013-09-11 17:50:20,550 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:50:20,550 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10ffa4650>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10ffa4690>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10ffa4650>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10ffa4690>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOIC': <oic.oic.Client object at 0x10ffafc50>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10ffa45d0>, 'PORT': 8666}
2013-09-11 17:50:20,552 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10ffafd90>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:c84ae93e-ec7a-4523-9770-640426aa00ab': <oic.oic.Grant object at 0x10ff1ef50>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:3f260a62-849f-4767-a71e-a755e28ef06d'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'db08b7471f664118819287459cbe8a63f16287c0702580f26b632f21'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10ffafcd0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10e40ead0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'aYSecriycoPZ'), ('registration_expires', 1378997380), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10ffafd50>), ('client_prefs', {}), ('registration_access_token', u'16UXX0NbJStNQbzYlKwjAMJj2j1GexXX'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 17:50:20,552 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:c6c9960d-f6d5-49b5-98cb-5a7c7f8fd9c3', 'response_type': 'code'}
2013-09-11 17:50:20,554 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Ac6c9960d-f6d5-49b5-98cb-5a7c7f8fd9c3&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=aYSecriycoPZ
2013-09-11 17:50:20,555 rp.openidconnect:DEBUG body: None
2013-09-11 17:50:20,555 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ac6c9960d-f6d5-49b5-98cb-5a7c7f8fd9c3&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=aYSecriycoPZ
2013-09-11 17:50:20,556 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:50:20,556 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ac6c9960d-f6d5-49b5-98cb-5a7c7f8fd9c3&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=aYSecriycoPZ')]
2013-09-11 17:50:20,606 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10ffa4610>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ac6c9960d-f6d5-49b5-98cb-5a7c7f8fd9c3&code=b6QV8zIRytUDn1RLEDx%2BTjuz8eVl09wkLDmXWeF6%2FfR7opAhyyr%2FwcKEnKE5CCed', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50080', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110005b50>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378914620.605592, 'service': u'https://localhost:8092/', '_creation_time': 1378914580.525894}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3Ac6c9960d-f6d5-49b5-98cb-5a7c7f8fd9c3&code=b6QV8zIRytUDn1RLEDx%2BTjuz8eVl09wkLDmXWeF6%2FfR7opAhyyr%2FwcKEnKE5CCed', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10e362270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:50:20,606 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:c6c9960d-f6d5-49b5-98cb-5a7c7f8fd9c3'], 'code': ['b6QV8zIRytUDn1RLEDx+Tjuz8eVl09wkLDmXWeF6/fR7opAhyyr/wcKEnKE5CCed']}
2013-09-11 17:50:20,607 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:c6c9960d-f6d5-49b5-98cb-5a7c7f8fd9c3'], 'code': ['b6QV8zIRytUDn1RLEDx+Tjuz8eVl09wkLDmXWeF6/fR7opAhyyr/wcKEnKE5CCed']}
2013-09-11 17:50:20,607 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:50:20,608 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10ffa4610>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ac6c9960d-f6d5-49b5-98cb-5a7c7f8fd9c3&code=b6QV8zIRytUDn1RLEDx%2BTjuz8eVl09wkLDmXWeF6%2FfR7opAhyyr%2FwcKEnKE5CCed', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50080', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110005b50>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378914620.605592, 'service': u'https://localhost:8092/', '_creation_time': 1378914580.525894}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3Ac6c9960d-f6d5-49b5-98cb-5a7c7f8fd9c3&code=b6QV8zIRytUDn1RLEDx%2BTjuz8eVl09wkLDmXWeF6%2FfR7opAhyyr%2FwcKEnKE5CCed', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10e362270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:50:20,609 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10ff26bd8>]
2013-09-11 17:50:20,610 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=b6QV8zIRytUDn1RLEDx%2BTjuz8eVl09wkLDmXWeF6%2FfR7opAhyyr%2FwcKEnKE5CCed&client_secret=db08b7471f664118819287459cbe8a63f16287c0702580f26b632f21&grant_type=authorization_code&client_id=aYSecriycoPZ&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 17:50:20,611 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:50:20,615 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:50:20,651 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 17:50:20,653 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:50:20,653 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 15:50:20 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 17:50:20,654 oic.oauth2:DEBUG resp.txt: {"access_token": "b6QV8zIRytUDn1RLEDx+TtbZ2qgErooEkmlzQAgjc4Jjy7CNvfxBu0ZbC2vt903h", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbImFZU2Vjcml5Y29QWiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk5MzgyMCwgImlhdCI6IDEzNzg5MTQ2MjAsICJzdWIiOiAiaGFobzAwMzIifQ.OwyzdKcQS0K5RtHwUYQ7di9CaOb1TuiBsH2PVLW53f8-cQrf-vJsOohU1X5cGndYL4PLvlA9fAlYVmFbFp-3w7H6ljMC15awFMHNMOe0t0-rLXMHaxxk3r4u4z0qJAEYsNEYNybJVLfvaoGOl3Pb8EuiiJu50RD-dHMWHFkFBv7lWrjqzGhsSMk03iE8DHUe0kWiINU_NDkJt3xeht1x_VeL19kHhWXjUavEN7hRI7046APCB9hCtTjztvbcMF_GPqFa4IWkJ71dSviMFmOz8D0hlvmi7QZjxQgMInOYI8vAo3ZRKkEAnRq9Wdw4vzN-feNNqaCKdSALNGfVK-GxXw", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:c6c9960d-f6d5-49b5-98cb-5a7c7f8fd9c3", "scope": "openid profile", "refresh_token": "b6QV8zIRytUDn1RLEDx+ThqZmHl6uUqSoxShibja64ebJuc0ODmSgsuRNPZbRovD"}
2013-09-11 17:50:20,655 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 17:50:20,657 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'b6QV8zIRytUDn1RLEDx+TtbZ2qgErooEkmlzQAgjc4Jjy7CNvfxBu0ZbC2vt903h', 'request': 'openid', 'schema': 'openid'}
2013-09-11 17:50:20,658 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=b6QV8zIRytUDn1RLEDx%2BTtbZ2qgErooEkmlzQAgjc4Jjy7CNvfxBu0ZbC2vt903h H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 17:50:20,662 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:50:20,690 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 17:50:20,692 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:50:20,693 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-11 17:50:20,694 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-11 17:50:23,141 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'b6QV8zIRytUDn1RLEDx+TtbZ2qgErooEkmlzQAgjc4Jjy7CNvfxBu0ZbC2vt903h', <oic.oic.Client object at 0x10ffafc50>)
2013-09-11 17:51:47,391 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:51:47,392 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10ffa4650>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10ffa4690>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10ffa4650>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10ffa4690>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOIC': <oic.oic.Client object at 0x10ffafc50>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10ffa45d0>, 'PORT': 8666}
2013-09-11 17:51:47,393 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10ffafd90>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:c6c9960d-f6d5-49b5-98cb-5a7c7f8fd9c3': <oic.oic.Grant object at 0x110005d50>, 'urn:uuid:c84ae93e-ec7a-4523-9770-640426aa00ab': <oic.oic.Grant object at 0x10ff1ef50>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:a63f3538-96d6-40ea-9b6b-fb3a53f049f5'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'db08b7471f664118819287459cbe8a63f16287c0702580f26b632f21'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10ffafcd0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10e40ead0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'aYSecriycoPZ'), ('registration_expires', 1378997380), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10ffafd50>), ('client_prefs', {}), ('registration_access_token', u'16UXX0NbJStNQbzYlKwjAMJj2j1GexXX'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 17:51:47,393 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:3f260a62-849f-4767-a71e-a755e28ef06d', 'response_type': 'code'}
2013-09-11 17:51:47,394 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A3f260a62-849f-4767-a71e-a755e28ef06d&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=aYSecriycoPZ
2013-09-11 17:51:47,395 rp.openidconnect:DEBUG body: None
2013-09-11 17:51:47,395 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A3f260a62-849f-4767-a71e-a755e28ef06d&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=aYSecriycoPZ
2013-09-11 17:51:47,396 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:51:47,396 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A3f260a62-849f-4767-a71e-a755e28ef06d&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=aYSecriycoPZ')]
2013-09-11 17:51:47,435 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10ffa4610>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A3f260a62-849f-4767-a71e-a755e28ef06d&code=s3ksjR2DOEr0siBY4BGF4zuFgEF0Fmy%2BZZo0RS9BlaOh4VX2XV%2Bk485OqyovgOO%2F', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50086', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110011110>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378914707.435163, 'service': u'https://localhost:8092/', '_creation_time': 1378914580.525894}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A3f260a62-849f-4767-a71e-a755e28ef06d&code=s3ksjR2DOEr0siBY4BGF4zuFgEF0Fmy%2BZZo0RS9BlaOh4VX2XV%2Bk485OqyovgOO%2F', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10e362270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:51:47,436 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:3f260a62-849f-4767-a71e-a755e28ef06d'], 'code': ['s3ksjR2DOEr0siBY4BGF4zuFgEF0Fmy+ZZo0RS9BlaOh4VX2XV+k485OqyovgOO/']}
2013-09-11 17:51:47,436 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:3f260a62-849f-4767-a71e-a755e28ef06d'], 'code': ['s3ksjR2DOEr0siBY4BGF4zuFgEF0Fmy+ZZo0RS9BlaOh4VX2XV+k485OqyovgOO/']}
2013-09-11 17:51:47,437 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:51:47,438 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10ffa4610>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A3f260a62-849f-4767-a71e-a755e28ef06d&code=s3ksjR2DOEr0siBY4BGF4zuFgEF0Fmy%2BZZo0RS9BlaOh4VX2XV%2Bk485OqyovgOO%2F', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50086', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110011110>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378914707.435163, 'service': u'https://localhost:8092/', '_creation_time': 1378914580.525894}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3A3f260a62-849f-4767-a71e-a755e28ef06d&code=s3ksjR2DOEr0siBY4BGF4zuFgEF0Fmy%2BZZo0RS9BlaOh4VX2XV%2Bk485OqyovgOO%2F', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10e362270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:51:47,438 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10ff26bd8>]
2013-09-11 17:51:47,440 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=s3ksjR2DOEr0siBY4BGF4zuFgEF0Fmy%2BZZo0RS9BlaOh4VX2XV%2Bk485OqyovgOO%2F&client_secret=db08b7471f664118819287459cbe8a63f16287c0702580f26b632f21&grant_type=authorization_code&client_id=aYSecriycoPZ&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 17:51:47,440 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:51:47,445 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:51:47,481 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 17:51:47,483 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:51:47,484 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 15:51:47 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 17:51:47,485 oic.oauth2:DEBUG resp.txt: {"access_token": "s3ksjR2DOEr0siBY4BGF45czR363XGTGWt7Z8JwvTJKDulHOE8ntUI9q/qyx9abX", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbImFZU2Vjcml5Y29QWiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk5MzkwNywgImlhdCI6IDEzNzg5MTQ3MDcsICJzdWIiOiAiaGFobzAwMzIifQ.nhB8pTX0rM_YyGHHFXcJ41sZkb6ftIfTkYwR-OGINm-Lgy9cXE_j3jzpFeqd6yvbGWzgE9ZD4I1ebHFuqjNqzCQFTpk42EN0ZYcwK1KNpYoel334P9hPhroCFFSuRbuqzQi8-0nyKpdkXOTMFxHmb0v93GpXRPLDjlqRyrx9WzeUxeIxcRZQKUX0uj5xtemxwvW2owV43Du8HasyHYZUIFo26TA_ckEDu2s4R0S6_k-Vfu5rWZFBrL2pt8HlZYAXbxnJg-gaMoZImVk9J5zBPtVWmBjAGqjOocyMdAR4ieo6oG5eifD_o_t3PKpoRJHb9EQRodqBvv2RBeCO0hEH-A", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:3f260a62-849f-4767-a71e-a755e28ef06d", "scope": "openid profile", "refresh_token": "s3ksjR2DOEr0siBY4BGF416mqBPHBbZWvZDkYudPcfd3+dOPWTbyUfsLL7N4XmxG"}
2013-09-11 17:51:47,486 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 17:51:47,488 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u's3ksjR2DOEr0siBY4BGF45czR363XGTGWt7Z8JwvTJKDulHOE8ntUI9q/qyx9abX', 'request': 'openid', 'schema': 'openid'}
2013-09-11 17:51:47,489 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=s3ksjR2DOEr0siBY4BGF45czR363XGTGWt7Z8JwvTJKDulHOE8ntUI9q%2Fqyx9abX H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 17:51:47,494 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:51:47,521 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 17:51:47,522 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:51:47,523 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-11 17:51:47,525 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-11 17:51:49,481 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u's3ksjR2DOEr0siBY4BGF45czR363XGTGWt7Z8JwvTJKDulHOE8ntUI9q/qyx9abX', <oic.oic.Client object at 0x10ffafc50>)
2013-09-11 17:51:51,608 root:INFO [static]sending: static/style.css
2013-09-11 17:51:51,609 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:51:51,610 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:51:51,612 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:53:29,379 root:INFO [static]sending: static/style.css
2013-09-11 17:53:29,380 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:53:29,526 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:53:29,527 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:53:30,556 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:53:30,557 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10ffa4650>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10ffa4690>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10ffa4650>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10ffa4690>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOIC': <oic.oic.Client object at 0x10ffafc50>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10ffa45d0>, 'PORT': 8666}
2013-09-11 17:53:30,557 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10ffafd90>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:3f260a62-849f-4767-a71e-a755e28ef06d': <oic.oic.Grant object at 0x110011310>, 'urn:uuid:c6c9960d-f6d5-49b5-98cb-5a7c7f8fd9c3': <oic.oic.Grant object at 0x110005d50>, 'urn:uuid:c84ae93e-ec7a-4523-9770-640426aa00ab': <oic.oic.Grant object at 0x10ff1ef50>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:cfce1185-6155-4c11-8d06-5a38c611ebac'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'db08b7471f664118819287459cbe8a63f16287c0702580f26b632f21'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10ffafcd0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10e40ead0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'aYSecriycoPZ'), ('registration_expires', 1378997380), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10ffafd50>), ('client_prefs', {}), ('registration_access_token', u'16UXX0NbJStNQbzYlKwjAMJj2j1GexXX'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 17:53:30,558 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:a63f3538-96d6-40ea-9b6b-fb3a53f049f5', 'response_type': 'code'}
2013-09-11 17:53:30,559 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Aa63f3538-96d6-40ea-9b6b-fb3a53f049f5&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=aYSecriycoPZ
2013-09-11 17:53:30,560 rp.openidconnect:DEBUG body: None
2013-09-11 17:53:30,560 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Aa63f3538-96d6-40ea-9b6b-fb3a53f049f5&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=aYSecriycoPZ
2013-09-11 17:53:30,561 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:53:30,561 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Aa63f3538-96d6-40ea-9b6b-fb3a53f049f5&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=aYSecriycoPZ')]
2013-09-11 17:53:30,599 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10ffa4610>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Aa63f3538-96d6-40ea-9b6b-fb3a53f049f5&code=h4%2BCRanTguXtaS8iUM4v6abuY39GEkdyFNwqawtK67Xtl1YTiY26ZJoVWoIiPOGw', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50102', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10e8b7a90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378914810.598277, 'service': u'https://localhost:8092/', '_creation_time': 1378914580.525894}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3Aa63f3538-96d6-40ea-9b6b-fb3a53f049f5&code=h4%2BCRanTguXtaS8iUM4v6abuY39GEkdyFNwqawtK67Xtl1YTiY26ZJoVWoIiPOGw', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10e362270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:53:30,599 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:a63f3538-96d6-40ea-9b6b-fb3a53f049f5'], 'code': ['h4+CRanTguXtaS8iUM4v6abuY39GEkdyFNwqawtK67Xtl1YTiY26ZJoVWoIiPOGw']}
2013-09-11 17:53:30,600 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:a63f3538-96d6-40ea-9b6b-fb3a53f049f5'], 'code': ['h4+CRanTguXtaS8iUM4v6abuY39GEkdyFNwqawtK67Xtl1YTiY26ZJoVWoIiPOGw']}
2013-09-11 17:53:30,600 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:53:30,601 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10ffa4610>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Aa63f3538-96d6-40ea-9b6b-fb3a53f049f5&code=h4%2BCRanTguXtaS8iUM4v6abuY39GEkdyFNwqawtK67Xtl1YTiY26ZJoVWoIiPOGw', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50102', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10e8b7a90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378914810.598277, 'service': u'https://localhost:8092/', '_creation_time': 1378914580.525894}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3Aa63f3538-96d6-40ea-9b6b-fb3a53f049f5&code=h4%2BCRanTguXtaS8iUM4v6abuY39GEkdyFNwqawtK67Xtl1YTiY26ZJoVWoIiPOGw', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10e362270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:53:30,602 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10ff26bd8>]
2013-09-11 17:53:30,603 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=h4%2BCRanTguXtaS8iUM4v6abuY39GEkdyFNwqawtK67Xtl1YTiY26ZJoVWoIiPOGw&client_secret=db08b7471f664118819287459cbe8a63f16287c0702580f26b632f21&grant_type=authorization_code&client_id=aYSecriycoPZ&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 17:53:30,603 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:53:30,610 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:53:30,645 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 17:53:30,647 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:53:30,648 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 15:53:30 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 17:53:30,648 oic.oauth2:DEBUG resp.txt: {"access_token": "h4+CRanTguXtaS8iUM4v6dJPTbMiPw+o896d40CVbw9JXCaTFCbcdjJxrMEhRGlA", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbImFZU2Vjcml5Y29QWiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk5NDAxMCwgImlhdCI6IDEzNzg5MTQ4MTAsICJzdWIiOiAiaGFobzAwMzIifQ.OSKwrQulbZH3eLtvmv4CZ_rBD7BltcXkAgYcDzgSEE_8OG7WUF8M9vTTW0fKxbL7dGaPUTEigP2Ha_0iyRH3-vy2ZQkQnKwN7GexsRtAxGBiw4esZKEx2Os2y0OmCkXwwu5qGpKIR3OcNjinSjBiuLFpFd2WuW5P4YDzXnqGmBHdiN6c2R8zevRb_W998FQ8wWpriTvr7QQzohJpxf1EVfpzpc_LvzJxVWUxkdR7y_BvLtCUGgt4gPMfO-9MGNgqzFDqQi-PHev5ABX2aRf96TL21Azo2hXEuQUEVgtaDTZunjQjU_tFNl-AacYYLl0LRlwz5SWe9jJEWnFBGfeHnw", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:a63f3538-96d6-40ea-9b6b-fb3a53f049f5", "scope": "openid profile", "refresh_token": "h4+CRanTguXtaS8iUM4v6euy5C5Gl94fV494QwbEVcONfi2SbyyV7lQoPp6Csf6f"}
2013-09-11 17:53:30,650 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 17:53:30,652 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'h4+CRanTguXtaS8iUM4v6dJPTbMiPw+o896d40CVbw9JXCaTFCbcdjJxrMEhRGlA', 'request': 'openid', 'schema': 'openid'}
2013-09-11 17:53:30,653 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=h4%2BCRanTguXtaS8iUM4v6dJPTbMiPw%2Bo896d40CVbw9JXCaTFCbcdjJxrMEhRGlA H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 17:53:30,658 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:53:30,686 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 17:53:30,688 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:53:30,689 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-11 17:53:30,690 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-11 17:53:33,198 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'h4+CRanTguXtaS8iUM4v6dJPTbMiPw+o896d40CVbw9JXCaTFCbcdjJxrMEhRGlA', <oic.oic.Client object at 0x10ffafc50>)
2013-09-11 17:53:35,001 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:53:35,002 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:53:35,006 root:INFO [static]sending: static/style.css
2013-09-11 17:53:35,009 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:55:33,003 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:55:33,003 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:55:33,004 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:55:33,005 root:INFO [static]sending: static/style.css
2013-09-11 17:55:34,168 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:55:34,169 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10ffa4650>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10ffa4690>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10ffa4650>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOIC': {'description': 'Login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOIC', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10ffa4690>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOIC': <oic.oic.Client object at 0x10ffafc50>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10ffa45d0>, 'PORT': 8666}
2013-09-11 17:55:34,170 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10ffafd90>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:3f260a62-849f-4767-a71e-a755e28ef06d': <oic.oic.Grant object at 0x110011310>, 'urn:uuid:a63f3538-96d6-40ea-9b6b-fb3a53f049f5': <oic.oic.Grant object at 0x1100595d0>, 'urn:uuid:c6c9960d-f6d5-49b5-98cb-5a7c7f8fd9c3': <oic.oic.Grant object at 0x110005d50>, 'urn:uuid:c84ae93e-ec7a-4523-9770-640426aa00ab': <oic.oic.Grant object at 0x10ff1ef50>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:5edaacf4-5c0d-4f3a-9704-d5486f56910c'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'db08b7471f664118819287459cbe8a63f16287c0702580f26b632f21'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10ffafcd0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOIC']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10e40ead0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'aYSecriycoPZ'), ('registration_expires', 1378997380), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10ffafd50>), ('client_prefs', {}), ('registration_access_token', u'16UXX0NbJStNQbzYlKwjAMJj2j1GexXX'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 17:55:34,170 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:cfce1185-6155-4c11-8d06-5a38c611ebac', 'response_type': 'code'}
2013-09-11 17:55:34,172 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Acfce1185-6155-4c11-8d06-5a38c611ebac&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=aYSecriycoPZ
2013-09-11 17:55:34,173 rp.openidconnect:DEBUG body: None
2013-09-11 17:55:34,173 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Acfce1185-6155-4c11-8d06-5a38c611ebac&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=aYSecriycoPZ
2013-09-11 17:55:34,174 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:55:34,174 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Acfce1185-6155-4c11-8d06-5a38c611ebac&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC&response_type=code&client_id=aYSecriycoPZ')]
2013-09-11 17:55:34,224 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10ffa4610>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Acfce1185-6155-4c11-8d06-5a38c611ebac&code=gHE1ww0hQVjCv6vzN7cVAUHZ70sNfQUYmpSKDRCSq48VZwJiIMp56DpPFgvhM%2F5d', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50133', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1100118d0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378914934.224145, 'service': u'https://localhost:8092/', '_creation_time': 1378914580.525894}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3Acfce1185-6155-4c11-8d06-5a38c611ebac&code=gHE1ww0hQVjCv6vzN7cVAUHZ70sNfQUYmpSKDRCSq48VZwJiIMp56DpPFgvhM%2F5d', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10e362270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:55:34,225 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:cfce1185-6155-4c11-8d06-5a38c611ebac'], 'code': ['gHE1ww0hQVjCv6vzN7cVAUHZ70sNfQUYmpSKDRCSq48VZwJiIMp56DpPFgvhM/5d']}
2013-09-11 17:55:34,226 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:cfce1185-6155-4c11-8d06-5a38c611ebac'], 'code': ['gHE1ww0hQVjCv6vzN7cVAUHZ70sNfQUYmpSKDRCSq48VZwJiIMp56DpPFgvhM/5d']}
2013-09-11 17:55:34,230 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:55:34,256 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-11 17:55:34,261 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:55:34,262 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10ffa4610>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOIC', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Acfce1185-6155-4c11-8d06-5a38c611ebac&code=gHE1ww0hQVjCv6vzN7cVAUHZ70sNfQUYmpSKDRCSq48VZwJiIMp56DpPFgvhM%2F5d', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50133', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1100118d0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378914934.224145, 'service': u'https://localhost:8092/', '_creation_time': 1378914580.525894}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOIC?scope=openid+profile&state=urn%3Auuid%3Acfce1185-6155-4c11-8d06-5a38c611ebac&code=gHE1ww0hQVjCv6vzN7cVAUHZ70sNfQUYmpSKDRCSq48VZwJiIMp56DpPFgvhM%2F5d', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10e362270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:55:34,262 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10ff26200>]
2013-09-11 17:55:34,263 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=gHE1ww0hQVjCv6vzN7cVAUHZ70sNfQUYmpSKDRCSq48VZwJiIMp56DpPFgvhM%2F5d&client_secret=db08b7471f664118819287459cbe8a63f16287c0702580f26b632f21&grant_type=authorization_code&client_id=aYSecriycoPZ&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOIC
2013-09-11 17:55:34,264 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:55:34,269 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:55:34,304 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 17:55:34,305 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:55:34,306 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 15:55:34 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 17:55:34,307 oic.oauth2:DEBUG resp.txt: {"access_token": "gHE1ww0hQVjCv6vzN7cVAQMdAvhT41/wUknjaZp9/DLj8bI5EGo2OciT5Ck+5RwI", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbImFZU2Vjcml5Y29QWiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk5NDEzNCwgImlhdCI6IDEzNzg5MTQ5MzQsICJzdWIiOiAiaGFobzAwMzIifQ.LDgWjXq1e5DqG6hLZU2_nxTfrxgW6E3-y_Eaz57mUsAF_wDHdSZKoweFpKIZXCMtv7YKgETRhImBd-W9G_6-UK7DXX2fY-MtffrXVfb3JvX5dNJeXDGW7XUo5BVoRrsBYDP1JnTCnPB82LeZY7a9NxV8FZvfPEYWi9oV-D4CIEHsHZODWqD6lJn8buvKcwpyKch0qTNPjJcNi6eK8kCAlcxqQ53lISi-JoQhOD9h-jKm9EaZ2ZJyplcLuSKl33u7oNQm1hcToAZm9TQymbJQSjdWuqO_S6ySRW581ABu_aguOXaMWlQSEMyFTHkpcwouz6MZpIStq-iklqinQ4-F2Q", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:cfce1185-6155-4c11-8d06-5a38c611ebac", "scope": "openid profile", "refresh_token": "gHE1ww0hQVjCv6vzN7cVAelPfsvWuFBqhbcn/W7e627YNd+S83zXOLeryPjgg+am"}
2013-09-11 17:55:34,308 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 17:55:34,310 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'gHE1ww0hQVjCv6vzN7cVAQMdAvhT41/wUknjaZp9/DLj8bI5EGo2OciT5Ck+5RwI', 'request': 'openid', 'schema': 'openid'}
2013-09-11 17:55:34,311 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=gHE1ww0hQVjCv6vzN7cVAQMdAvhT41%2FwUknjaZp9%2FDLj8bI5EGo2OciT5Ck%2B5RwI H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 17:55:34,315 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:55:34,342 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 17:55:34,344 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:55:34,344 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-11 17:55:34,346 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-11 17:55:36,229 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'gHE1ww0hQVjCv6vzN7cVAQMdAvhT41/wUknjaZp9/DLj8bI5EGo2OciT5Ck+5RwI', <oic.oic.Client object at 0x10ffafc50>)
2013-09-11 17:55:38,875 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:55:38,876 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:55:38,876 root:INFO [static]sending: static/style.css
2013-09-11 17:55:38,881 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:58:49,165 root:INFO RP server starting listening on port:8666
2013-09-11 17:58:50,244 root:INFO [static]sending: static/style.css
2013-09-11 17:58:50,248 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:58:50,249 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:58:50,250 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:58:57,001 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:58:57,001 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'None', 'client_secret': 'None', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x11142a6d0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x11142a710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x11142a750>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'None', 'client_secret': 'None', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x11142a6d0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x11142a710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x11142a750>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x11142a650>, 'PORT': 8666}
2013-09-11 17:58:57,022 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:58:57,061 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-11 17:58:57,063 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:58:57,085 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-11 17:58:57,088 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 17:58:57,091 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 17:58:57,091 rp.openidconnect:DEBUG Registering RP
2013-09-11 17:58:57,098 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:58:57,137 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-11 17:58:57,139 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:58:57,141 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378911537&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DzVoZXgkHwEfE&registration_access_token=OhMEqaQHw7acUpx7IQ32HOudH8PjvEjh&client_id=zVoZXgkHwEfE&client_secret=ad9bf03ca3634ede6b52ae9cd4e62d62c92a2d40aa8826b7fcaf62e5&client_secret_expires_at=1378997937
2013-09-11 17:58:57,143 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x111435310>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:7e0e717c-be64-4dfe-84e2-424191a0138c'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'ad9bf03ca3634ede6b52ae9cd4e62d62c92a2d40aa8826b7fcaf62e5'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x111435390>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICDyn']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10f894ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'zVoZXgkHwEfE'), ('registration_expires', 1378997937), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x111435690>), ('client_prefs', {}), ('registration_access_token', u'OhMEqaQHw7acUpx7IQ32HOudH8PjvEjh'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 17:58:57,143 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:fc0ec380-5322-4018-b183-98e534c8b480', 'response_type': 'code'}
2013-09-11 17:58:57,144 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Afc0ec380-5322-4018-b183-98e534c8b480&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=zVoZXgkHwEfE
2013-09-11 17:58:57,145 rp.openidconnect:DEBUG body: None
2013-09-11 17:58:57,145 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Afc0ec380-5322-4018-b183-98e534c8b480&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=zVoZXgkHwEfE
2013-09-11 17:58:57,146 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:58:57,146 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Afc0ec380-5322-4018-b183-98e534c8b480&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=zVoZXgkHwEfE')]
2013-09-11 17:58:57,184 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x11142a690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Afc0ec380-5322-4018-b183-98e534c8b480&code=VgNkW3U%2BrtC9nXWCE333PJlCd6LS%2FcQT4VYuVLV5HJzB%2Be6PcD26zwNLMrwYX6fj', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50167', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1114353d0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378915137.183782, 'service': u'https://localhost:8092/', '_creation_time': 1378915130.008697}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3Afc0ec380-5322-4018-b183-98e534c8b480&code=VgNkW3U%2BrtC9nXWCE333PJlCd6LS%2FcQT4VYuVLV5HJzB%2Be6PcD26zwNLMrwYX6fj', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f7e8270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:58:57,184 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:fc0ec380-5322-4018-b183-98e534c8b480'], 'code': ['VgNkW3U+rtC9nXWCE333PJlCd6LS/cQT4VYuVLV5HJzB+e6PcD26zwNLMrwYX6fj']}
2013-09-11 17:58:57,185 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:fc0ec380-5322-4018-b183-98e534c8b480'], 'code': ['VgNkW3U+rtC9nXWCE333PJlCd6LS/cQT4VYuVLV5HJzB+e6PcD26zwNLMrwYX6fj']}
2013-09-11 17:58:57,189 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:58:57,217 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-11 17:58:57,223 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-11 17:58:57,224 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x11142a690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Afc0ec380-5322-4018-b183-98e534c8b480&code=VgNkW3U%2BrtC9nXWCE333PJlCd6LS%2FcQT4VYuVLV5HJzB%2Be6PcD26zwNLMrwYX6fj', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50167', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1114353d0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378915137.183782, 'service': u'https://localhost:8092/', '_creation_time': 1378915130.008697}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3Afc0ec380-5322-4018-b183-98e534c8b480&code=VgNkW3U%2BrtC9nXWCE333PJlCd6LS%2FcQT4VYuVLV5HJzB%2Be6PcD26zwNLMrwYX6fj', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f7e8270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-11 17:58:57,225 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x1113b0128>]
2013-09-11 17:58:57,226 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=VgNkW3U%2BrtC9nXWCE333PJlCd6LS%2FcQT4VYuVLV5HJzB%2Be6PcD26zwNLMrwYX6fj&client_secret=ad9bf03ca3634ede6b52ae9cd4e62d62c92a2d40aa8826b7fcaf62e5&grant_type=authorization_code&client_id=zVoZXgkHwEfE&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn
2013-09-11 17:58:57,227 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-11 17:58:57,231 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:58:57,266 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-11 17:58:57,268 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:58:57,269 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Wed, 11 Sep 2013 15:58:57 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-11 17:58:57,269 oic.oauth2:DEBUG resp.txt: {"access_token": "VgNkW3U+rtC9nXWCE333PCYtsmGAH3cL5ai3VJRr+jROoCnUn2mx91y/X+vFPHyZ", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbInpWb1pYZ2tId0VmRSJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3ODk5NDMzNywgImlhdCI6IDEzNzg5MTUxMzcsICJzdWIiOiAiaGFobzAwMzIifQ.St9neiWEQnFAV6IIvbDrihJHR282Zoi3pvt5SkJ7Pmswkg42aBjRGEu5MlWTZxsAYp3Iu7cd7qT0cVJQ4ieQlsEHgkU268Tc6nLx4miysLn3ih74LJaDLib6qBXB107lwUuIb_BqDeXVhDSityherFAoznGMNuz6cj6Pi2ZyJjyEJ0aDVz1HGYbHLvUfI3o9DS3EVgeR52Vf-54lrDBuFrxDatmuv1XWV58dQd2RZQqK43WugEKytfotQNi0qHHqYShKeLYT_GTt8Pz2lAfLajzkabw-o02FjTcjC3rhbw5FnYqsb9qqg9BEAvqDxc0BhtGMHvKkXDhkAx_zJRuvqg", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:fc0ec380-5322-4018-b183-98e534c8b480", "scope": "openid profile", "refresh_token": "VgNkW3U+rtC9nXWCE333PIGzupwNLOXvpe30BzvFQY7QJ+i6psXfUQ/u/zkk3B4b"}
2013-09-11 17:58:57,270 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-11 17:58:57,273 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'VgNkW3U+rtC9nXWCE333PCYtsmGAH3cL5ai3VJRr+jROoCnUn2mx91y/X+vFPHyZ', 'request': 'openid', 'schema': 'openid'}
2013-09-11 17:58:57,273 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=VgNkW3U%2BrtC9nXWCE333PCYtsmGAH3cL5ai3VJRr%2BjROoCnUn2mx91y%2FX%2BvFPHyZ H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-11 17:58:57,278 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 17:58:57,306 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-11 17:58:57,308 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 17:58:57,308 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-11 17:58:57,310 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-11 17:59:00,713 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'VgNkW3U+rtC9nXWCE333PCYtsmGAH3cL5ai3VJRr+jROoCnUn2mx91y/X+vFPHyZ', <oic.oic.Client object at 0x111435750>)
2013-09-11 17:59:06,932 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:59:06,938 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:59:06,940 root:INFO [static]sending: static/style.css
2013-09-11 17:59:06,941 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:59:10,753 root:INFO [static]sending: static/style.css
2013-09-11 17:59:10,756 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 17:59:10,757 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 17:59:10,759 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 17:59:12,504 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 17:59:12,505 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'None', 'client_secret': 'None', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x11142a6d0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x11142a710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x11142a750>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'None', 'client_secret': 'None', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x11142a6d0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x11142a710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x11142a750>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICDyn': <oic.oic.Client object at 0x111435750>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x11142a650>, 'PORT': 8666}
2013-09-11 17:59:12,506 rp.openidconnect:INFO client args: [('registration_endpoint', ''), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', 'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:492d781c-fccd-4a7e-a306-c020c5b78bdc'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', 'None'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x1113bb890>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICStatic']), ('id_token', None), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', 'None'), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', 'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x1113bbb90>), ('client_prefs', {}), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', 'https://localhost:8092/authorization')]
2013-09-11 17:59:12,507 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:5c573530-ee36-47fc-880d-d14b2ac701a2', 'response_type': 'code'}
2013-09-11 17:59:12,508 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A5c573530-ee36-47fc-880d-d14b2ac701a2&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=None
2013-09-11 17:59:12,509 rp.openidconnect:DEBUG body: None
2013-09-11 17:59:12,509 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A5c573530-ee36-47fc-880d-d14b2ac701a2&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=None
2013-09-11 17:59:12,510 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 17:59:12,510 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A5c573530-ee36-47fc-880d-d14b2ac701a2&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=None')]
2013-09-11 18:01:14,712 root:INFO RP server starting listening on port:8666
2013-09-11 18:01:17,998 root:INFO [static]sending: static/style.css
2013-09-11 18:01:17,999 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 18:01:18,110 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 18:01:18,110 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 18:01:19,723 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 18:01:19,724 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x104d46690>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x104d466d0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x104d46710>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x104d46690>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x104d466d0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x104d46710>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x104d46610>, 'PORT': 8666}
2013-09-11 18:01:19,726 rp.openidconnect:INFO client args: [('registration_endpoint', ''), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', 'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:12b74822-cb4a-48c2-a20a-01e12832c8c2'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x104d5a690>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICStatic']), ('id_token', None), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', '9oTfNhtLtBtv'), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', 'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x104d5a550>), ('client_prefs', {}), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', 'https://localhost:8092/authorization')]
2013-09-11 18:01:19,726 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': None, 'response_type': 'code'}
2013-09-11 18:01:19,727 rp.openidconnect:DEBUG request: scope=openid+profile&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=9oTfNhtLtBtv
2013-09-11 18:01:19,728 rp.openidconnect:DEBUG body: None
2013-09-11 18:01:19,729 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=9oTfNhtLtBtv
2013-09-11 18:01:19,729 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 18:01:19,729 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=9oTfNhtLtBtv')]
2013-09-11 18:02:04,520 root:INFO [static]sending: static/style.css
2013-09-11 18:02:04,521 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 18:02:04,525 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 18:02:04,526 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 18:02:06,014 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 18:02:06,015 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x104d46690>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x104d466d0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x104d46710>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x104d46690>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x104d466d0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x104d46710>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICStatic': <oic.oic.Client object at 0x104d5a590>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x104d46610>, 'PORT': 8666}
2013-09-11 18:02:06,015 rp.openidconnect:DEBUG Static client: {'pyoidcOICStatic': <oic.oic.Client object at 0x104d5a590>}
2013-09-11 18:02:06,016 rp.openidconnect:INFO client args: [('registration_endpoint', ''), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', 'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:d44a65d6-be28-4584-93f3-76ccea7e2526'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x104d5a690>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICStatic']), ('id_token', None), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', '9oTfNhtLtBtv'), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', 'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x104d5a550>), ('client_prefs', {}), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', 'https://localhost:8092/authorization')]
2013-09-11 18:02:06,016 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:12b74822-cb4a-48c2-a20a-01e12832c8c2', 'response_type': 'code'}
2013-09-11 18:02:06,017 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A12b74822-cb4a-48c2-a20a-01e12832c8c2&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=9oTfNhtLtBtv
2013-09-11 18:02:06,018 rp.openidconnect:DEBUG body: None
2013-09-11 18:02:06,018 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A12b74822-cb4a-48c2-a20a-01e12832c8c2&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=9oTfNhtLtBtv
2013-09-11 18:02:06,019 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 18:02:06,019 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A12b74822-cb4a-48c2-a20a-01e12832c8c2&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=9oTfNhtLtBtv')]
2013-09-11 18:02:15,183 root:INFO RP server starting listening on port:8666
2013-09-11 18:02:18,157 root:INFO [static]sending: static/style.css
2013-09-11 18:02:18,164 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 18:02:18,165 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 18:02:18,168 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 18:02:19,146 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 18:02:19,146 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': '0AnFOhd029YP', 'client_secret': '4186c156d62a6e2d0b47b6a6f79fb254d090eea2921363a63590d186', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1087976d0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x108797710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x108797750>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': '0AnFOhd029YP', 'client_secret': '4186c156d62a6e2d0b47b6a6f79fb254d090eea2921363a63590d186', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1087976d0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x108797710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x108797750>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x108797650>, 'PORT': 8666}
2013-09-11 18:02:19,148 rp.openidconnect:INFO client args: [('registration_endpoint', ''), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', 'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:2abd6e18-b98c-4f73-a496-3a5a009756c0'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', '4186c156d62a6e2d0b47b6a6f79fb254d090eea2921363a63590d186'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x1087a13d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICStatic']), ('id_token', None), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', '0AnFOhd029YP'), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', 'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x1087a1850>), ('client_prefs', {}), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', 'https://localhost:8092/authorization')]
2013-09-11 18:02:19,148 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': None, 'response_type': 'code'}
2013-09-11 18:02:19,150 rp.openidconnect:DEBUG request: scope=openid+profile&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=0AnFOhd029YP
2013-09-11 18:02:19,151 rp.openidconnect:DEBUG body: None
2013-09-11 18:02:19,152 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=0AnFOhd029YP
2013-09-11 18:02:19,153 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 18:02:19,153 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=0AnFOhd029YP')]
2013-09-11 18:04:14,965 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 18:04:14,969 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 18:04:14,970 root:INFO [static]sending: static/style.css
2013-09-11 18:04:14,971 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 18:04:20,090 root:INFO [static]sending: static/style.css
2013-09-11 18:04:20,091 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 18:04:20,099 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 18:04:20,100 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 18:04:21,654 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 18:04:21,655 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': '0AnFOhd029YP', 'client_secret': '4186c156d62a6e2d0b47b6a6f79fb254d090eea2921363a63590d186', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1087976d0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x108797710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x108797750>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': '0AnFOhd029YP', 'client_secret': '4186c156d62a6e2d0b47b6a6f79fb254d090eea2921363a63590d186', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1087976d0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x108797710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x108797750>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICStatic': <oic.oic.Client object at 0x1087a17d0>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x108797650>, 'PORT': 8666}
2013-09-11 18:04:21,675 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 18:04:21,715 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-11 18:04:21,717 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 18:04:21,739 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-11 18:04:21,741 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 18:04:21,744 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-11 18:04:21,744 rp.openidconnect:DEBUG Registering RP
2013-09-11 18:04:21,751 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 18:04:21,781 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-11 18:04:21,782 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-11 18:04:21,784 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378911861&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DrhcgQdbiuePp&registration_access_token=Lq1cuM63OmElF1ZxKbVdM6gjNeMyTXxG&client_id=rhcgQdbiuePp&client_secret=3cf0a4daddea85ed5b125dc0b046ddf862ebb3795ae9cdceec02fd02&client_secret_expires_at=1378998261
2013-09-11 18:04:21,785 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x1087b1850>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:0fae40ab-93c9-4aea-abe4-daf5c79cd558'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'3cf0a4daddea85ed5b125dc0b046ddf862ebb3795ae9cdceec02fd02'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x1087b1750>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICDyn']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x106c02ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'rhcgQdbiuePp'), ('registration_expires', 1378998261), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x1087b17d0>), ('client_prefs', {}), ('registration_access_token', u'Lq1cuM63OmElF1ZxKbVdM6gjNeMyTXxG'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-11 18:04:21,786 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:66678217-b287-47ae-a66e-f41a0e45ee57', 'response_type': 'code'}
2013-09-11 18:04:21,787 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A66678217-b287-47ae-a66e-f41a0e45ee57&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=rhcgQdbiuePp
2013-09-11 18:04:21,787 rp.openidconnect:DEBUG body: None
2013-09-11 18:04:21,788 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A66678217-b287-47ae-a66e-f41a0e45ee57&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=rhcgQdbiuePp
2013-09-11 18:04:21,788 rp.openidconnect:DEBUG ht_args: {}
2013-09-11 18:04:21,789 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A66678217-b287-47ae-a66e-f41a0e45ee57&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=rhcgQdbiuePp')]
2013-09-11 18:04:26,248 root:INFO [static]sending: static/style.css
2013-09-11 18:04:26,252 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 18:04:26,259 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 18:04:26,261 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 18:04:31,345 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 18:04:31,346 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 18:04:31,350 root:INFO [static]sending: static/style.css
2013-09-11 18:04:31,464 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 18:04:42,690 root:INFO RP server starting listening on port:8666
2013-09-11 18:04:44,555 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 18:04:44,556 root:INFO [static]sending: static/style.css
2013-09-11 18:04:44,556 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 18:04:44,556 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 18:04:45,967 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 18:04:45,968 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': '0AnFOhd029YP', 'client_secret': '4186c156d62a6e2d0b47b6a6f79fb254d090eea2921363a63590d186', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10a747710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8091/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10a747750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10a747790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': '0AnFOhd029YP', 'client_secret': '4186c156d62a6e2d0b47b6a6f79fb254d090eea2921363a63590d186', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10a747710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8091/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10a747750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10a747790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10a747690>, 'PORT': 8666}
2013-09-11 18:04:45,989 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 18:04:45,993 rp.openidconnect:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 118, in begin\n    client = self.dynamic(server_env, callback, session)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 60, in dynamic\n    provider_conf = client.provider_config(self.srv_discovery_url)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oic/__init__.py", line 713, in provider_config\n    r = self.http_request(url)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 370, in http_request\n    r = requests.request(method, url, **_kwargs)\n', '  File "/Library/Python/2.7/site-packages/requests-1.2.0-py2.7.egg/requests/api.py", line 44, in request\n    return session.request(method=method, url=url, **kwargs)\n', '  File "/Library/Python/2.7/site-packages/requests-1.2.0-py2.7.egg/requests/sessions.py", line 354, in request\n    resp = self.send(prep, **send_kwargs)\n', '  File "/Library/Python/2.7/site-packages/requests-1.2.0-py2.7.egg/requests/sessions.py", line 460, in send\n    r = adapter.send(request, **kwargs)\n', '  File "/Library/Python/2.7/site-packages/requests-1.2.0-py2.7.egg/requests/adapters.py", line 246, in send\n    raise ConnectionError(e)\n', "ConnectionError: HTTPSConnectionPool(host='localhost', port=8091): Max retries exceeded with url: /.well-known/openid-configuration (Caused by <class 'socket.error'>: [Errno 61] Connection refused)\n"]
2013-09-11 18:04:46,083 root:INFO [static]sending: static/style.css
2013-09-11 18:04:46,084 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 18:04:46,084 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 18:04:46,194 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 18:05:19,921 root:INFO [static]sending: static/style.css
2013-09-11 18:05:19,926 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 18:05:19,927 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 18:05:19,927 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-11 18:05:24,699 rp.openidconnect:DEBUG FLOW type: code
2013-09-11 18:05:24,700 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': '0AnFOhd029YP', 'client_secret': '4186c156d62a6e2d0b47b6a6f79fb254d090eea2921363a63590d186', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10a747710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8091/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10a747750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10a747790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': '0AnFOhd029YP', 'client_secret': '4186c156d62a6e2d0b47b6a6f79fb254d090eea2921363a63590d186', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10a747710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8091/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10a747750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10a747790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10a747690>, 'PORT': 8666}
2013-09-11 18:05:24,704 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-11 18:05:24,706 rp.openidconnect:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 118, in begin\n    client = self.dynamic(server_env, callback, session)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 60, in dynamic\n    provider_conf = client.provider_config(self.srv_discovery_url)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oic/__init__.py", line 713, in provider_config\n    r = self.http_request(url)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 370, in http_request\n    r = requests.request(method, url, **_kwargs)\n', '  File "/Library/Python/2.7/site-packages/requests-1.2.0-py2.7.egg/requests/api.py", line 44, in request\n    return session.request(method=method, url=url, **kwargs)\n', '  File "/Library/Python/2.7/site-packages/requests-1.2.0-py2.7.egg/requests/sessions.py", line 354, in request\n    resp = self.send(prep, **send_kwargs)\n', '  File "/Library/Python/2.7/site-packages/requests-1.2.0-py2.7.egg/requests/sessions.py", line 460, in send\n    r = adapter.send(request, **kwargs)\n', '  File "/Library/Python/2.7/site-packages/requests-1.2.0-py2.7.egg/requests/adapters.py", line 246, in send\n    raise ConnectionError(e)\n', "ConnectionError: HTTPSConnectionPool(host='localhost', port=8091): Max retries exceeded with url: /.well-known/openid-configuration (Caused by <class 'socket.error'>: [Errno 61] Connection refused)\n"]
2013-09-11 18:05:25,101 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-11 18:05:25,103 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-11 18:05:25,108 root:INFO [static]sending: static/style.css
2013-09-11 18:05:25,109 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 07:46:16,629 root:INFO RP server starting listening on port:8666
2013-09-12 07:46:28,879 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 07:46:28,884 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 07:46:28,888 root:INFO [static]sending: static/style.css
2013-09-12 07:46:28,888 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 07:46:31,349 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 07:46:31,350 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1060b7710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8091/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1060b7750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x1060b7790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1060b7710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8091/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1060b7750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x1060b7790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x1060b7690>, 'PORT': 8666}
2013-09-12 07:46:31,351 rp.openidconnect:INFO client args: [('registration_endpoint', ''), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', 'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:b8621151-cd4e-40f1-ad5c-d0486798de87'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x1060c7650>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICStatic']), ('id_token', None), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', 'VJNL62bPdOnn'), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', 'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x1060c7890>), ('client_prefs', {}), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', 'https://localhost:8092/authorization')]
2013-09-12 07:46:31,352 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': None, 'response_type': 'code'}
2013-09-12 07:46:31,353 rp.openidconnect:DEBUG request: scope=openid+profile&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 07:46:31,354 rp.openidconnect:DEBUG body: None
2013-09-12 07:46:31,354 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 07:46:31,355 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 07:46:31,355 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn')]
2013-09-12 07:47:01,739 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x1060b76d0>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'HTTP_ORIGIN': 'https://localhost:8092', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&code=HZCzP%2Bku3BZyuP%2F3lkFibrJ87bW0D%2BjfuU68V31UdlWUMB3%2Fy%2BSuiZiMUbGu4u%2Bj', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50460', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1060c1d50>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378964821.738568, '_creation_time': 1378964788.651126}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&code=HZCzP%2Bku3BZyuP%2F3lkFibrJ87bW0D%2BjfuU68V31UdlWUMB3%2Fy%2BSuiZiMUbGu4u%2Bj', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x104474270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate'}
2013-09-12 07:47:01,739 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'code': ['HZCzP+ku3BZyuP/3lkFibrJ87bW0D+jfuU68V31UdlWUMB3/y+SuiZiMUbGu4u+j']}
2013-09-12 07:47:01,740 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'code': ['HZCzP+ku3BZyuP/3lkFibrJ87bW0D+jfuU68V31UdlWUMB3/y+SuiZiMUbGu4u+j']}
2013-09-12 07:47:01,740 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}']}
2013-09-12 07:47:01,741 rp.openidconnect:DEBUG callback environ: {'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x1060b76d0>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'HTTP_ORIGIN': 'https://localhost:8092', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&code=HZCzP%2Bku3BZyuP%2F3lkFibrJ87bW0D%2BjfuU68V31UdlWUMB3%2Fy%2BSuiZiMUbGu4u%2Bj', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50460', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1060c1d50>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378964821.738568, '_creation_time': 1378964788.651126}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&code=HZCzP%2Bku3BZyuP%2F3lkFibrJ87bW0D%2BjfuU68V31UdlWUMB3%2Fy%2BSuiZiMUbGu4u%2Bj', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x104474270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate'}
2013-09-12 07:47:01,742 rp.openidconnect:ERROR 'state'
2013-09-12 07:47:01,743 rp:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/__init__.py", line 60, in callback\n    result = self.phaseN(environ, query, server_env, session)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 229, in phaseN\n    tokenresp = self.get_accesstoken(client, authresp)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 192, in get_accesstoken\n    state=authresp["state"], response_cls=self.access_token_response,\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/message.py", line 571, in __getitem__\n    return self._dict[item]\n', "KeyError: 'state'\n"]
2013-09-12 07:47:01,832 root:INFO [static]sending: static/style.css
2013-09-12 07:47:01,838 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 07:47:01,839 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 07:47:01,950 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 07:47:11,126 root:INFO [static]sending: static/style.css
2013-09-12 07:47:11,127 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 07:47:11,127 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 07:47:11,128 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 07:47:12,626 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 07:47:12,626 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1060b7710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8091/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1060b7750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x1060b7790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1060b7710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8091/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1060b7750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x1060b7790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICStatic': <oic.oic.Client object at 0x1060c7850>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x1060b7690>, 'PORT': 8666}
2013-09-12 07:47:12,647 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 07:47:12,655 rp.openidconnect:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 118, in begin\n    client = self.dynamic(server_env, callback, session)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 60, in dynamic\n    provider_conf = client.provider_config(self.srv_discovery_url)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oic/__init__.py", line 713, in provider_config\n    r = self.http_request(url)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 370, in http_request\n    r = requests.request(method, url, **_kwargs)\n', '  File "/Library/Python/2.7/site-packages/requests-1.2.0-py2.7.egg/requests/api.py", line 44, in request\n    return session.request(method=method, url=url, **kwargs)\n', '  File "/Library/Python/2.7/site-packages/requests-1.2.0-py2.7.egg/requests/sessions.py", line 354, in request\n    resp = self.send(prep, **send_kwargs)\n', '  File "/Library/Python/2.7/site-packages/requests-1.2.0-py2.7.egg/requests/sessions.py", line 460, in send\n    r = adapter.send(request, **kwargs)\n', '  File "/Library/Python/2.7/site-packages/requests-1.2.0-py2.7.egg/requests/adapters.py", line 246, in send\n    raise ConnectionError(e)\n', "ConnectionError: HTTPSConnectionPool(host='localhost', port=8091): Max retries exceeded with url: /.well-known/openid-configuration (Caused by <class 'socket.error'>: [Errno 61] Connection refused)\n"]
2013-09-12 07:47:12,885 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 07:47:12,887 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 07:47:12,893 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 07:47:12,894 root:INFO [static]sending: static/style.css
2013-09-12 07:48:08,157 root:INFO [static]sending: static/style.css
2013-09-12 07:48:08,158 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 07:48:08,159 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 07:48:08,160 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 07:48:11,396 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 07:48:11,397 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1060b7710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8091/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1060b7750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x1060b7790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1060b7710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8091/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1060b7750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x1060b7790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICStatic': <oic.oic.Client object at 0x1060c7850>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x1060b7690>, 'PORT': 8666}
2013-09-12 07:48:11,402 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 07:48:11,404 rp.openidconnect:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 118, in begin\n    client = self.dynamic(server_env, callback, session)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 60, in dynamic\n    provider_conf = client.provider_config(self.srv_discovery_url)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oic/__init__.py", line 713, in provider_config\n    r = self.http_request(url)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 370, in http_request\n    r = requests.request(method, url, **_kwargs)\n', '  File "/Library/Python/2.7/site-packages/requests-1.2.0-py2.7.egg/requests/api.py", line 44, in request\n    return session.request(method=method, url=url, **kwargs)\n', '  File "/Library/Python/2.7/site-packages/requests-1.2.0-py2.7.egg/requests/sessions.py", line 354, in request\n    resp = self.send(prep, **send_kwargs)\n', '  File "/Library/Python/2.7/site-packages/requests-1.2.0-py2.7.egg/requests/sessions.py", line 460, in send\n    r = adapter.send(request, **kwargs)\n', '  File "/Library/Python/2.7/site-packages/requests-1.2.0-py2.7.egg/requests/adapters.py", line 246, in send\n    raise ConnectionError(e)\n', "ConnectionError: HTTPSConnectionPool(host='localhost', port=8091): Max retries exceeded with url: /.well-known/openid-configuration (Caused by <class 'socket.error'>: [Errno 61] Connection refused)\n"]
2013-09-12 07:48:11,662 root:INFO [static]sending: static/style.css
2013-09-12 07:48:11,665 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 07:48:11,666 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 07:48:11,667 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 07:48:44,150 root:INFO RP server starting listening on port:8666
2013-09-12 07:48:45,783 root:INFO [static]sending: static/style.css
2013-09-12 07:48:45,790 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 07:48:45,793 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 07:48:45,796 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 07:48:47,912 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 07:48:47,913 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1047ba6d0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1047ba710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x1047ba750>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1047ba6d0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1047ba710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x1047ba750>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x1047ba650>, 'PORT': 8666}
2013-09-12 07:48:47,934 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 07:48:47,974 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-12 07:48:47,976 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 07:48:48,019 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-12 07:48:48,021 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 07:48:48,024 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 07:48:48,024 rp.openidconnect:DEBUG Registering RP
2013-09-12 07:48:48,031 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 07:48:48,060 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-12 07:48:48,062 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 07:48:48,064 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378961328&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DCxy7D3FmEXe9&registration_access_token=KcvBLs7DofX40sR29xgwNKLj9JA39kia&client_id=Cxy7D3FmEXe9&client_secret=74970c9d9d2752fb19b84a13349ec75a0c35a341f8c780500e7b571a&client_secret_expires_at=1379047728
2013-09-12 07:48:48,065 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x1047c4310>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:b31563ed-01f3-49d7-8e3f-03002bb05516'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'74970c9d9d2752fb19b84a13349ec75a0c35a341f8c780500e7b571a'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x1047c4390>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICDyn']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x102c23ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'Cxy7D3FmEXe9'), ('registration_expires', 1379047728), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x1047c4690>), ('client_prefs', {}), ('registration_access_token', u'KcvBLs7DofX40sR29xgwNKLj9JA39kia'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 07:48:48,065 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:c6c63b44-7fa7-441c-8ebe-c28e5da57518', 'response_type': 'code'}
2013-09-12 07:48:48,066 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Ac6c63b44-7fa7-441c-8ebe-c28e5da57518&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=Cxy7D3FmEXe9
2013-09-12 07:48:48,067 rp.openidconnect:DEBUG body: None
2013-09-12 07:48:48,068 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ac6c63b44-7fa7-441c-8ebe-c28e5da57518&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=Cxy7D3FmEXe9
2013-09-12 07:48:48,068 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 07:48:48,068 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ac6c63b44-7fa7-441c-8ebe-c28e5da57518&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=Cxy7D3FmEXe9')]
2013-09-12 07:48:48,104 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x1047ba690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ac6c63b44-7fa7-441c-8ebe-c28e5da57518&code=Rp%2Fygl1P9JHbGxsNanUjJ%2BcnFvYUQ9W0Fw%2BDHWvYJNxV1%2BRIpRG8Bj8l1hgLdSrN', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50505', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1047c4a10>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378964928.103762, 'service': u'https://localhost:8092/', '_creation_time': 1378964925.56925}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3Ac6c63b44-7fa7-441c-8ebe-c28e5da57518&code=Rp%2Fygl1P9JHbGxsNanUjJ%2BcnFvYUQ9W0Fw%2BDHWvYJNxV1%2BRIpRG8Bj8l1hgLdSrN', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x102b77270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 07:48:48,104 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:c6c63b44-7fa7-441c-8ebe-c28e5da57518'], 'code': ['Rp/ygl1P9JHbGxsNanUjJ+cnFvYUQ9W0Fw+DHWvYJNxV1+RIpRG8Bj8l1hgLdSrN']}
2013-09-12 07:48:48,105 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:c6c63b44-7fa7-441c-8ebe-c28e5da57518'], 'code': ['Rp/ygl1P9JHbGxsNanUjJ+cnFvYUQ9W0Fw+DHWvYJNxV1+RIpRG8Bj8l1hgLdSrN']}
2013-09-12 07:48:48,109 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 07:48:48,136 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-12 07:48:48,140 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 07:48:48,141 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x1047ba690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ac6c63b44-7fa7-441c-8ebe-c28e5da57518&code=Rp%2Fygl1P9JHbGxsNanUjJ%2BcnFvYUQ9W0Fw%2BDHWvYJNxV1%2BRIpRG8Bj8l1hgLdSrN', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50505', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1047c4a10>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378964928.103762, 'service': u'https://localhost:8092/', '_creation_time': 1378964925.56925}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3Ac6c63b44-7fa7-441c-8ebe-c28e5da57518&code=Rp%2Fygl1P9JHbGxsNanUjJ%2BcnFvYUQ9W0Fw%2BDHWvYJNxV1%2BRIpRG8Bj8l1hgLdSrN', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x102b77270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 07:48:48,142 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x1046fbfc8>]
2013-09-12 07:48:48,143 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=Rp%2Fygl1P9JHbGxsNanUjJ%2BcnFvYUQ9W0Fw%2BDHWvYJNxV1%2BRIpRG8Bj8l1hgLdSrN&client_secret=74970c9d9d2752fb19b84a13349ec75a0c35a341f8c780500e7b571a&grant_type=authorization_code&client_id=Cxy7D3FmEXe9&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn
2013-09-12 07:48:48,144 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 07:48:48,148 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 07:48:48,189 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 07:48:48,191 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 07:48:48,192 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 05:48:48 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 07:48:48,192 oic.oauth2:DEBUG resp.txt: {"access_token": "Rp/ygl1P9JHbGxsNanUjJ7XII1+YvnnenkWhfdZ/dKd7j2IEqOZTa7GZwtSOtjNC", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIkN4eTdEM0ZtRVhlOSJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA0NDEyOCwgImlhdCI6IDEzNzg5NjQ5MjgsICJzdWIiOiAiaGFobzAwMzIifQ.o_x4RA51OWyZoIDWL5XVVB01aZBAUMHNRg6LDS693VeSg9PY5OGXtj65jmalkjWrEEUFbWdYoXPn29a7uYWCNzi_88pup7SCWzkpD6iK-vIAy6nVC5JHjnVKrXNy6VhUT5xZ34-c3aNZ4wmp6tfFamOCCl58SRil1elJXQrlz4p5BVlcjQmxnMlpN0HxnV08uYRY5o2IMa-58nW4H4I1ffJBiTXwwDDcdZhx4LkdCv-ujLSwKD0RN55qeWvoHQPTQpaNrFWel4pqnbiVVPy-BqOU0j6MbiOGOjFYJprwB4HkP3cON3_ImpHCLMrPkS2SKYWDz8YWni9eHeYL_vTc9w", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:c6c63b44-7fa7-441c-8ebe-c28e5da57518", "scope": "openid profile", "refresh_token": "Rp/ygl1P9JHbGxsNanUjJzMXspqApHULObZjY0H8WCptMGXZI+9Q/sCDr1RmKAbk"}
2013-09-12 07:48:48,193 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 07:48:48,196 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'Rp/ygl1P9JHbGxsNanUjJ7XII1+YvnnenkWhfdZ/dKd7j2IEqOZTa7GZwtSOtjNC', 'request': 'openid', 'schema': 'openid'}
2013-09-12 07:48:48,197 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=Rp%2Fygl1P9JHbGxsNanUjJ7XII1%2BYvnnenkWhfdZ%2FdKd7j2IEqOZTa7GZwtSOtjNC H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 07:48:48,201 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 07:48:48,229 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 07:48:48,231 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 07:48:48,232 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-12 07:48:48,233 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-12 07:48:48,234 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'Rp/ygl1P9JHbGxsNanUjJ7XII1+YvnnenkWhfdZ/dKd7j2IEqOZTa7GZwtSOtjNC', <oic.oic.Client object at 0x1047c4750>)
2013-09-12 07:48:48,488 root:INFO [static]sending: static/style.css
2013-09-12 07:48:48,490 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 07:48:48,494 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 07:48:48,497 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 07:48:52,417 root:INFO [static]sending: static/style.css
2013-09-12 07:48:52,418 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 07:48:52,418 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 07:48:52,420 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 07:48:53,842 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 07:48:53,843 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1047ba6d0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1047ba710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x1047ba750>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1047ba6d0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1047ba710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x1047ba750>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICDyn': <oic.oic.Client object at 0x1047c4750>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x1047ba650>, 'PORT': 8666}
2013-09-12 07:48:53,844 rp.openidconnect:INFO client args: [('registration_endpoint', ''), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', 'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:65f7d5c3-34e7-4de5-b522-78779952ba78'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x104708610>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICStatic']), ('id_token', None), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', 'VJNL62bPdOnn'), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', 'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x1047083d0>), ('client_prefs', {}), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', 'https://localhost:8092/authorization')]
2013-09-12 07:48:53,845 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': None, 'response_type': 'code'}
2013-09-12 07:48:53,846 rp.openidconnect:DEBUG request: scope=openid+profile&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 07:48:53,846 rp.openidconnect:DEBUG body: None
2013-09-12 07:48:53,847 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 07:48:53,847 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 07:48:53,848 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn')]
2013-09-12 07:48:53,867 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x1047ba690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&code=j5cDdbebGur91basLkU5vlyRh4NWKj8MFMo7RUsyfb%2Ftcn9got1Pny2bo1S%2BJjJH', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50519', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1047baa90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378964933.866753, 'service': u'https://localhost:8092/', '_creation_time': 1378964925.56925}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&code=j5cDdbebGur91basLkU5vlyRh4NWKj8MFMo7RUsyfb%2Ftcn9got1Pny2bo1S%2BJjJH', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x102b77270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 07:48:53,867 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'code': ['j5cDdbebGur91basLkU5vlyRh4NWKj8MFMo7RUsyfb/tcn9got1Pny2bo1S+JjJH']}
2013-09-12 07:48:53,868 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'code': ['j5cDdbebGur91basLkU5vlyRh4NWKj8MFMo7RUsyfb/tcn9got1Pny2bo1S+JjJH']}
2013-09-12 07:48:53,868 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}']}
2013-09-12 07:48:53,869 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x1047ba690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&code=j5cDdbebGur91basLkU5vlyRh4NWKj8MFMo7RUsyfb%2Ftcn9got1Pny2bo1S%2BJjJH', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50519', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1047baa90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378964933.866753, 'service': u'https://localhost:8092/', '_creation_time': 1378964925.56925}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&code=j5cDdbebGur91basLkU5vlyRh4NWKj8MFMo7RUsyfb%2Ftcn9got1Pny2bo1S%2BJjJH', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x102b77270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 07:48:53,870 rp.openidconnect:ERROR 'state'
2013-09-12 07:48:53,871 rp:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/__init__.py", line 60, in callback\n    result = self.phaseN(environ, query, server_env, session)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 229, in phaseN\n    tokenresp = self.get_accesstoken(client, authresp)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 192, in get_accesstoken\n    state=authresp["state"], response_cls=self.access_token_response,\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/message.py", line 571, in __getitem__\n    return self._dict[item]\n', "KeyError: 'state'\n"]
2013-09-12 07:48:54,110 root:INFO [static]sending: static/style.css
2013-09-12 07:48:54,112 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 07:48:54,113 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 07:48:54,114 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 07:49:48,604 root:INFO [static]sending: static/style.css
2013-09-12 07:49:48,607 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 07:49:48,609 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 07:49:48,612 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 07:49:51,031 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 07:49:51,031 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1047ba6d0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1047ba710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x1047ba750>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1047ba6d0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1047ba710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x1047ba750>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICStatic': <oic.oic.Client object at 0x104708450>, 'pyoidcOICDyn': <oic.oic.Client object at 0x1047c4750>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x1047ba650>, 'PORT': 8666}
2013-09-12 07:49:51,032 rp.openidconnect:DEBUG Static client: {'pyoidcOICStatic': <oic.oic.Client object at 0x104708450>, 'pyoidcOICDyn': <oic.oic.Client object at 0x1047c4750>}
2013-09-12 07:49:51,032 rp.openidconnect:INFO client args: [('registration_endpoint', ''), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'': <oic.oic.Grant object at 0x104708750>}), ('refresh_session_endpoint', ''), ('token_endpoint', 'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:17bcd54c-a4a0-45e2-9c3f-14fa86091b6d'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x104708610>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICStatic']), ('id_token', None), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', 'VJNL62bPdOnn'), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', 'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x1047083d0>), ('client_prefs', {}), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', 'https://localhost:8092/authorization')]
2013-09-12 07:49:51,033 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:65f7d5c3-34e7-4de5-b522-78779952ba78', 'response_type': 'code'}
2013-09-12 07:49:51,034 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A65f7d5c3-34e7-4de5-b522-78779952ba78&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 07:49:51,035 rp.openidconnect:DEBUG body: None
2013-09-12 07:49:51,035 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A65f7d5c3-34e7-4de5-b522-78779952ba78&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 07:49:51,036 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 07:49:51,036 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A65f7d5c3-34e7-4de5-b522-78779952ba78&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn')]
2013-09-12 07:49:51,074 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x1047ba690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A65f7d5c3-34e7-4de5-b522-78779952ba78&code=IrFei0y9rG8ttSgS55GSVO6Hd%2B5BmCgB9lzyyapuE%2FduoUgc5OlyA1DanzE%2FCcd8', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50528', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1046fca50>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378964991.073353, 'service': u'https://localhost:8092/', '_creation_time': 1378964925.56925}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&state=urn%3Auuid%3A65f7d5c3-34e7-4de5-b522-78779952ba78&code=IrFei0y9rG8ttSgS55GSVO6Hd%2B5BmCgB9lzyyapuE%2FduoUgc5OlyA1DanzE%2FCcd8', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x102b77270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 07:49:51,074 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:65f7d5c3-34e7-4de5-b522-78779952ba78'], 'code': ['IrFei0y9rG8ttSgS55GSVO6Hd+5BmCgB9lzyyapuE/duoUgc5OlyA1DanzE/Ccd8']}
2013-09-12 07:50:02,982 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:65f7d5c3-34e7-4de5-b522-78779952ba78'], 'code': ['IrFei0y9rG8ttSgS55GSVO6Hd+5BmCgB9lzyyapuE/duoUgc5OlyA1DanzE/Ccd8']}
2013-09-12 07:50:03,253 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}']}
2013-09-12 07:50:05,389 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x1047ba690>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A65f7d5c3-34e7-4de5-b522-78779952ba78&code=IrFei0y9rG8ttSgS55GSVO6Hd%2B5BmCgB9lzyyapuE%2FduoUgc5OlyA1DanzE%2FCcd8', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50528', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1046fca50>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378964991.073353, 'service': u'https://localhost:8092/', '_creation_time': 1378964925.56925}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&state=urn%3Auuid%3A65f7d5c3-34e7-4de5-b522-78779952ba78&code=IrFei0y9rG8ttSgS55GSVO6Hd%2B5BmCgB9lzyyapuE%2FduoUgc5OlyA1DanzE%2FCcd8', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x102b77270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 07:50:06,988 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=IrFei0y9rG8ttSgS55GSVO6Hd%2B5BmCgB9lzyyapuE%2FduoUgc5OlyA1DanzE%2FCcd8&client_secret=1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1&grant_type=authorization_code&client_id=VJNL62bPdOnn&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic
2013-09-12 07:50:06,988 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 07:50:06,993 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 07:50:07,030 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 07:50:07,032 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 07:50:07,033 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 05:50:07 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 07:50:07,033 oic.oauth2:DEBUG resp.txt: {"access_token": "IrFei0y9rG8ttSgS55GSVOy8EQRr4+MA7VutJaqMH06MuernKOgu0apX8/xB4ttk", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIlZKTkw2MmJQZE9ubiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA0NDIwNywgImlhdCI6IDEzNzg5NjUwMDcsICJzdWIiOiAiaGFobzAwMzIifQ.gTWOXVF7qUEl5rELueXar_ENIU90voEUm5hFBQdpqkmfZkf-m3On_3JzJzfY43dZWTZ7R7mjmyktFRKFawIPy5Ke-gNtpKFvnYNWz8flYSEKOatNGcfGEOivduyHzHTUjcS4JiT5Y2QryIbj6YWUnTjruLozSbE6hAnHn921xxqWuIEKxYHzgLz3FCSipiNcIE6C2McxbAJ-pvLFafbHFaSBpGKqP04LkVwj2lMC7wdfhN2YZmIzwmb9wetH4Hj3ZGVJy9JVpPuyu4eZvDRYccTYHN0GGmkCpIbGqWQBtf9yqVt5YlEN8HjytWM2hGDtSNpyF0X8ce8D35hgqpzjvA", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:65f7d5c3-34e7-4de5-b522-78779952ba78", "scope": "openid profile", "refresh_token": "IrFei0y9rG8ttSgS55GSVMGpx3DbC3kE8fRHa00ggYMojfRneWKirE2jhvKMhPzN"}
2013-09-12 07:50:07,035 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 07:50:44,070 rp.openidconnect:ERROR 
2013-09-12 07:50:44,072 rp:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/__init__.py", line 60, in callback\n    result = self.phaseN(environ, query, server_env, session)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 229, in phaseN\n    tokenresp = self.get_accesstoken(client, authresp)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 193, in get_accesstoken\n    **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oic/__init__.py", line 470, in do_access_token_request\n    authn_method, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 912, in do_access_token_request\n    http_args=http_args, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 857, in request_and_return\n    state, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 774, in parse_response\n    raise err\n', 'BadSignature\n']
2013-09-12 07:50:44,329 root:INFO [static]sending: static/style.css
2013-09-12 07:50:44,332 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 07:50:44,333 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 07:50:44,333 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 07:52:03,832 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 07:52:03,835 root:INFO [static]sending: static/style.css
2013-09-12 07:52:03,836 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 07:52:03,839 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 07:52:08,928 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 07:52:08,928 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1047ba6d0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1047ba710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x1047ba750>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1047ba6d0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1047ba710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x1047ba750>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICStatic': <oic.oic.Client object at 0x104708450>, 'pyoidcOICDyn': <oic.oic.Client object at 0x1047c4750>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x1047ba650>, 'PORT': 8666}
2013-09-12 07:52:12,838 rp.openidconnect:DEBUG Static client: {'pyoidcOICStatic': <oic.oic.Client object at 0x104708450>, 'pyoidcOICDyn': <oic.oic.Client object at 0x1047c4750>}
2013-09-12 07:53:01,811 rp.openidconnect:INFO client args: [('registration_endpoint', ''), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'': <oic.oic.Grant object at 0x104708750>, 'urn:uuid:65f7d5c3-34e7-4de5-b522-78779952ba78': <oic.oic.Grant object at 0x104721950>}), ('refresh_session_endpoint', ''), ('token_endpoint', 'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:6c64d258-658d-4256-a493-2e2a994c4554'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x104708610>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICStatic']), ('id_token', None), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', 'VJNL62bPdOnn'), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', 'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x1047083d0>), ('client_prefs', {}), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', 'https://localhost:8092/authorization')]
2013-09-12 07:53:09,194 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:17bcd54c-a4a0-45e2-9c3f-14fa86091b6d', 'response_type': 'code'}
2013-09-12 07:53:11,225 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A17bcd54c-a4a0-45e2-9c3f-14fa86091b6d&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 07:53:16,289 rp.openidconnect:DEBUG body: None
2013-09-12 07:53:17,035 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A17bcd54c-a4a0-45e2-9c3f-14fa86091b6d&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 07:53:17,510 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 07:53:19,896 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A17bcd54c-a4a0-45e2-9c3f-14fa86091b6d&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn')]
2013-09-12 07:55:59,384 root:INFO RP server starting listening on port:8666
2013-09-12 07:56:06,997 root:INFO [static]sending: static/style.css
2013-09-12 07:56:06,998 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 07:56:07,000 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 07:56:07,001 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 07:56:08,727 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 07:56:08,728 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 07:56:08,729 root:INFO [static]sending: static/style.css
2013-09-12 07:56:08,728 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 07:56:10,311 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 07:56:10,311 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10e830710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10e830750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10e830790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10e830710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10e830750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10e830790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10e830690>, 'PORT': 8666}
2013-09-12 07:56:10,333 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 07:56:10,372 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-12 07:56:10,374 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 07:56:10,396 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-12 07:56:10,398 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 07:56:10,400 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 07:56:10,401 rp.openidconnect:DEBUG Registering RP
2013-09-12 07:56:10,408 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 07:56:10,436 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-12 07:56:10,438 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 07:56:10,440 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378961770&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DbzcvmODCi5aK&registration_access_token=aosPyxrVAmh2v3jpqlJvbqtaoYdLDFec&client_id=bzcvmODCi5aK&client_secret=ef0976839a40193661b13b301c0de08316fd0cc3c5d9b3e9c63a4187&client_secret_expires_at=1379048170
2013-09-12 07:56:10,441 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10e841ad0>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:013231a8-0bf3-4501-9563-41c5e81ec5bb'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'ef0976839a40193661b13b301c0de08316fd0cc3c5d9b3e9c63a4187'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10e84b310>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICDyn']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10cc5aad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'bzcvmODCi5aK'), ('registration_expires', 1379048170), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10e84b210>), ('client_prefs', {}), ('registration_access_token', u'aosPyxrVAmh2v3jpqlJvbqtaoYdLDFec'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 07:56:10,442 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': None, 'response_type': 'code'}
2013-09-12 07:56:10,443 rp.openidconnect:DEBUG request: scope=openid+profile&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=bzcvmODCi5aK
2013-09-12 07:56:10,444 rp.openidconnect:DEBUG body: None
2013-09-12 07:56:10,444 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=bzcvmODCi5aK
2013-09-12 07:56:10,444 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 07:56:10,445 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=bzcvmODCi5aK')]
2013-09-12 07:56:10,495 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10e8306d0>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&code=2LGA8tzHfEtaXe9Wj%2F1KWLx57w6VAl%2FZ5eBSPB2JdgktA3An032VAmygKciY5viQ', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50580', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10e83bc50>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10e84b390>, '_accessed_time': 1378965370.494572, 'service': u'https://localhost:8092/', '_creation_time': 1378965366.758581}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&code=2LGA8tzHfEtaXe9Wj%2F1KWLx57w6VAl%2FZ5eBSPB2JdgktA3An032VAmygKciY5viQ', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10cbaf270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 07:56:10,495 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'code': ['2LGA8tzHfEtaXe9Wj/1KWLx57w6VAl/Z5eBSPB2JdgktA3An032VAmygKciY5viQ']}
2013-09-12 07:56:15,190 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'code': ['2LGA8tzHfEtaXe9Wj/1KWLx57w6VAl/Z5eBSPB2JdgktA3An032VAmygKciY5viQ']}
2013-09-12 07:56:15,419 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 07:56:15,445 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-12 07:56:15,450 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 07:56:17,657 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10e8306d0>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&code=2LGA8tzHfEtaXe9Wj%2F1KWLx57w6VAl%2FZ5eBSPB2JdgktA3An032VAmygKciY5viQ', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50580', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10e83bc50>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10e84b390>, '_accessed_time': 1378965370.494572, 'service': u'https://localhost:8092/', '_creation_time': 1378965366.758581}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&code=2LGA8tzHfEtaXe9Wj%2F1KWLx57w6VAl%2FZ5eBSPB2JdgktA3An032VAmygKciY5viQ', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10cbaf270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 07:56:17,658 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10e781830>]
2013-09-12 07:56:17,659 rp.openidconnect:ERROR 'state'
2013-09-12 07:56:17,660 rp:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/__init__.py", line 60, in callback\n    result = self.phaseN(environ, query, server_env, session)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 227, in phaseN\n    tokenresp = self.get_accesstoken(client, authresp)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 190, in get_accesstoken\n    state=authresp["state"], response_cls=self.access_token_response,\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/message.py", line 571, in __getitem__\n    return self._dict[item]\n', "KeyError: 'state'\n"]
2013-09-12 07:56:17,876 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 07:56:17,877 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 07:56:17,878 root:INFO [static]sending: static/style.css
2013-09-12 07:56:17,880 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 07:56:27,018 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 07:56:27,018 root:INFO [static]sending: static/style.css
2013-09-12 07:56:27,019 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 07:56:27,020 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 07:56:30,290 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 07:56:30,290 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10e830710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10e830750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10e830790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10e830710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10e830750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10e830790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICDyn': <oic.oic.Client object at 0x10e84b390>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10e830690>, 'PORT': 8666}
2013-09-12 07:56:30,291 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10e841ad0>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'': <oic.oic.Grant object at 0x10e780790>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:996fe0f5-4de5-4347-9939-5176091f290e'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'ef0976839a40193661b13b301c0de08316fd0cc3c5d9b3e9c63a4187'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10e84b310>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICDyn']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10cc5aad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'bzcvmODCi5aK'), ('registration_expires', 1379048170), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10e84b210>), ('client_prefs', {}), ('registration_access_token', u'aosPyxrVAmh2v3jpqlJvbqtaoYdLDFec'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 07:56:30,292 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:013231a8-0bf3-4501-9563-41c5e81ec5bb', 'response_type': 'code'}
2013-09-12 07:56:30,293 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A013231a8-0bf3-4501-9563-41c5e81ec5bb&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=bzcvmODCi5aK
2013-09-12 07:56:30,294 rp.openidconnect:DEBUG body: None
2013-09-12 07:56:30,294 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A013231a8-0bf3-4501-9563-41c5e81ec5bb&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=bzcvmODCi5aK
2013-09-12 07:56:30,295 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 07:56:30,295 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A013231a8-0bf3-4501-9563-41c5e81ec5bb&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=bzcvmODCi5aK')]
2013-09-12 07:56:30,335 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10e8306d0>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A013231a8-0bf3-4501-9563-41c5e81ec5bb&code=ar%2Bhye2jpjVJ4M05xZThsaIg4f%2FusCxj%2FedW4ZWe9431TBKCq3KpSE8iovbsF3iD', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50593', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10e84b590>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10e84b390>, '_accessed_time': 1378965390.334586, 'service': u'https://localhost:8092/', '_creation_time': 1378965366.758581}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3A013231a8-0bf3-4501-9563-41c5e81ec5bb&code=ar%2Bhye2jpjVJ4M05xZThsaIg4f%2FusCxj%2FedW4ZWe9431TBKCq3KpSE8iovbsF3iD', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10cbaf270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 07:56:30,335 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:013231a8-0bf3-4501-9563-41c5e81ec5bb'], 'code': ['ar+hye2jpjVJ4M05xZThsaIg4f/usCxj/edW4ZWe9431TBKCq3KpSE8iovbsF3iD']}
2013-09-12 07:56:33,240 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:013231a8-0bf3-4501-9563-41c5e81ec5bb'], 'code': ['ar+hye2jpjVJ4M05xZThsaIg4f/usCxj/edW4ZWe9431TBKCq3KpSE8iovbsF3iD']}
2013-09-12 07:56:33,441 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 07:56:34,497 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10e8306d0>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A013231a8-0bf3-4501-9563-41c5e81ec5bb&code=ar%2Bhye2jpjVJ4M05xZThsaIg4f%2FusCxj%2FedW4ZWe9431TBKCq3KpSE8iovbsF3iD', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50593', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10e84b590>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10e84b390>, '_accessed_time': 1378965390.334586, 'service': u'https://localhost:8092/', '_creation_time': 1378965366.758581}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3A013231a8-0bf3-4501-9563-41c5e81ec5bb&code=ar%2Bhye2jpjVJ4M05xZThsaIg4f%2FusCxj%2FedW4ZWe9431TBKCq3KpSE8iovbsF3iD', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10cbaf270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 07:56:35,747 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10e781830>]
2013-09-12 07:56:35,749 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=ar%2Bhye2jpjVJ4M05xZThsaIg4f%2FusCxj%2FedW4ZWe9431TBKCq3KpSE8iovbsF3iD&client_secret=ef0976839a40193661b13b301c0de08316fd0cc3c5d9b3e9c63a4187&grant_type=authorization_code&client_id=bzcvmODCi5aK&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn
2013-09-12 07:56:35,749 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 07:56:35,754 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 07:56:35,790 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 07:56:35,791 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 07:56:35,792 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 05:56:35 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 07:56:35,793 oic.oauth2:DEBUG resp.txt: {"access_token": "ar+hye2jpjVJ4M05xZThsQPWrWLIV4VN+sE6H/LtqWtV7v5em3HGzjGBEoy6w0lp", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbImJ6Y3ZtT0RDaTVhSyJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA0NDU5NSwgImlhdCI6IDEzNzg5NjUzOTUsICJzdWIiOiAiaGFobzAwMzIifQ.OIGGRcFsrHnsnfZ20j9_uztwdpl-Nwf8tKf0wiu2BwFaaqPn-fvpsE7aNniUrgs3NEWrFsnI-Q_lhmQ7MmkX6dk1C0a76Ge9XymADe2JCSyB2yK3CYASzFo7FiaKG3pkhI7QSAHbM-nFtL8VwsmMEIN6qWMi265PIpUub4Y9LVZez0i9TuVOWE3WodpYv2Nv7s_993cvwMDjso-CopSde4tUnUKPpVHYDdpFRoQQkpqJGlx9Vry-aaVMcLfWBhsdx4aRMJo1Vtk66Go41xzrxOEOoWqZCMfmQucI752Q_d0Si75mq__WUowJQJ-bsGvT0ZW3DUfInXQW_9B3AfKwNg", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:013231a8-0bf3-4501-9563-41c5e81ec5bb", "scope": "openid profile", "refresh_token": "ar+hye2jpjVJ4M05xZThsZbsWpJa4c0vnrFPP6JIRQpjDr5vQupeZHGjQ/k3LmOZ"}
2013-09-12 07:56:35,794 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 07:56:38,421 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'ar+hye2jpjVJ4M05xZThsQPWrWLIV4VN+sE6H/LtqWtV7v5em3HGzjGBEoy6w0lp', 'request': 'openid', 'schema': 'openid'}
2013-09-12 07:56:38,422 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=ar%2Bhye2jpjVJ4M05xZThsQPWrWLIV4VN%2BsE6H%2FLtqWtV7v5em3HGzjGBEoy6w0lp H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 07:56:38,428 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 07:56:38,456 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 07:56:38,458 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 07:56:38,459 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-12 07:56:40,368 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-12 07:56:44,099 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'ar+hye2jpjVJ4M05xZThsQPWrWLIV4VN+sE6H/LtqWtV7v5em3HGzjGBEoy6w0lp', <oic.oic.Client object at 0x10e84b390>)
2013-09-12 07:56:50,165 root:INFO [static]sending: static/style.css
2013-09-12 07:56:50,166 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 07:56:50,166 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 07:56:50,170 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 07:57:15,036 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 07:57:15,044 root:INFO [static]sending: static/style.css
2013-09-12 07:57:15,048 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 07:57:15,049 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 07:57:22,528 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 07:57:22,529 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10e830710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10e830750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10e830790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10e830710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10e830750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10e830790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICDyn': <oic.oic.Client object at 0x10e84b390>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10e830690>, 'PORT': 8666}
2013-09-12 07:57:26,830 rp.openidconnect:INFO client args: [('registration_endpoint', ''), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', 'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:150f1ead-3f9c-4690-b90e-bbb061f6eed1'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10e85e590>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICStatic']), ('id_token', None), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', 'VJNL62bPdOnn'), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', 'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10e79ba90>), ('client_prefs', {}), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', 'https://localhost:8092/authorization')]
2013-09-12 07:57:26,831 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': None, 'response_type': 'code'}
2013-09-12 07:57:26,832 rp.openidconnect:DEBUG request: scope=openid+profile&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 07:57:26,833 rp.openidconnect:DEBUG body: None
2013-09-12 07:57:26,833 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 07:57:26,833 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 07:57:26,834 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn')]
2013-09-12 07:57:30,803 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10e8306d0>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&code=ptqw%2B8uf2R2h2BthdrWPniVQ3t3lUs2WeFRjmwzhyfJ8CDcuurvcPUzobJ9rtknc', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50607', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10e85e610>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10e79b1d0>, '_accessed_time': 1378965446.968549, 'service': u'https://localhost:8092/', '_creation_time': 1378965366.758581}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&code=ptqw%2B8uf2R2h2BthdrWPniVQ3t3lUs2WeFRjmwzhyfJ8CDcuurvcPUzobJ9rtknc', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10cbaf270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 07:57:30,804 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'code': ['ptqw+8uf2R2h2BthdrWPniVQ3t3lUs2WeFRjmwzhyfJ8CDcuurvcPUzobJ9rtknc']}
2013-09-12 07:59:00,636 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'code': ['ptqw+8uf2R2h2BthdrWPniVQ3t3lUs2WeFRjmwzhyfJ8CDcuurvcPUzobJ9rtknc']}
2013-09-12 07:59:01,368 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}']}
2013-09-12 07:59:50,078 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10e8306d0>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&code=ptqw%2B8uf2R2h2BthdrWPniVQ3t3lUs2WeFRjmwzhyfJ8CDcuurvcPUzobJ9rtknc', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50607', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10e85e610>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10e79b1d0>, '_accessed_time': 1378965446.968549, 'service': u'https://localhost:8092/', '_creation_time': 1378965366.758581}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&code=ptqw%2B8uf2R2h2BthdrWPniVQ3t3lUs2WeFRjmwzhyfJ8CDcuurvcPUzobJ9rtknc', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10cbaf270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 07:59:50,079 rp.openidconnect:ERROR 'state'
2013-09-12 07:59:50,080 rp:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/__init__.py", line 60, in callback\n    result = self.phaseN(environ, query, server_env, session)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 227, in phaseN\n    tokenresp = self.get_accesstoken(client, authresp)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 190, in get_accesstoken\n    state=authresp["state"], response_cls=self.access_token_response,\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/message.py", line 571, in __getitem__\n    return self._dict[item]\n', "KeyError: 'state'\n"]
2013-09-12 07:59:52,604 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 07:59:52,606 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 07:59:52,608 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 07:59:52,609 root:INFO [static]sending: static/style.css
2013-09-12 08:00:01,329 root:INFO [static]sending: static/style.css
2013-09-12 08:00:01,337 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:00:01,341 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:00:01,342 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:00:03,894 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 08:00:03,894 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10e830710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10e830750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10e830790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10e830710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10e830750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10e830790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICStatic': <oic.oic.Client object at 0x10e79b1d0>, 'pyoidcOICDyn': <oic.oic.Client object at 0x10e84b390>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10e830690>, 'PORT': 8666}
2013-09-12 08:00:07,443 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10e841ad0>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'': <oic.oic.Grant object at 0x10e780790>, 'urn:uuid:013231a8-0bf3-4501-9563-41c5e81ec5bb': <oic.oic.Grant object at 0x10e79b210>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:74e84838-7687-4bfd-a830-2a11abc2a84c'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'ef0976839a40193661b13b301c0de08316fd0cc3c5d9b3e9c63a4187'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10e84b310>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICDyn']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10cc5aad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'bzcvmODCi5aK'), ('registration_expires', 1379048170), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10e84b210>), ('client_prefs', {}), ('registration_access_token', u'aosPyxrVAmh2v3jpqlJvbqtaoYdLDFec'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 08:00:07,443 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:996fe0f5-4de5-4347-9939-5176091f290e', 'response_type': 'code'}
2013-09-12 08:00:07,444 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A996fe0f5-4de5-4347-9939-5176091f290e&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=bzcvmODCi5aK
2013-09-12 08:00:07,445 rp.openidconnect:DEBUG body: None
2013-09-12 08:00:07,446 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A996fe0f5-4de5-4347-9939-5176091f290e&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=bzcvmODCi5aK
2013-09-12 08:00:07,446 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 08:00:07,447 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A996fe0f5-4de5-4347-9939-5176091f290e&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=bzcvmODCi5aK')]
2013-09-12 08:00:07,483 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10e8306d0>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A996fe0f5-4de5-4347-9939-5176091f290e&code=5ZCYV%2BaK3WJtlg8eS%2FGSrGuX6xbFMRv%2FSfdrM4f7EnMwbRjd35xX13Yzi7V8ZjsD', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50631', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10e780290>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10e84b390>, '_accessed_time': 1378965607.482403, 'service': u'https://localhost:8092/', '_creation_time': 1378965366.758581}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3A996fe0f5-4de5-4347-9939-5176091f290e&code=5ZCYV%2BaK3WJtlg8eS%2FGSrGuX6xbFMRv%2FSfdrM4f7EnMwbRjd35xX13Yzi7V8ZjsD', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10cbaf270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:00:07,483 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:996fe0f5-4de5-4347-9939-5176091f290e'], 'code': ['5ZCYV+aK3WJtlg8eS/GSrGuX6xbFMRv/SfdrM4f7EnMwbRjd35xX13Yzi7V8ZjsD']}
2013-09-12 08:00:51,465 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:996fe0f5-4de5-4347-9939-5176091f290e'], 'code': ['5ZCYV+aK3WJtlg8eS/GSrGuX6xbFMRv/SfdrM4f7EnMwbRjd35xX13Yzi7V8ZjsD']}
2013-09-12 08:00:51,466 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 08:00:51,467 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10e8306d0>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A996fe0f5-4de5-4347-9939-5176091f290e&code=5ZCYV%2BaK3WJtlg8eS%2FGSrGuX6xbFMRv%2FSfdrM4f7EnMwbRjd35xX13Yzi7V8ZjsD', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50631', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10e780290>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10e84b390>, '_accessed_time': 1378965607.482403, 'service': u'https://localhost:8092/', '_creation_time': 1378965366.758581}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3A996fe0f5-4de5-4347-9939-5176091f290e&code=5ZCYV%2BaK3WJtlg8eS%2FGSrGuX6xbFMRv%2FSfdrM4f7EnMwbRjd35xX13Yzi7V8ZjsD', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10cbaf270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:00:51,468 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10e781830>]
2013-09-12 08:00:51,469 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=5ZCYV%2BaK3WJtlg8eS%2FGSrGuX6xbFMRv%2FSfdrM4f7EnMwbRjd35xX13Yzi7V8ZjsD&client_secret=ef0976839a40193661b13b301c0de08316fd0cc3c5d9b3e9c63a4187&grant_type=authorization_code&client_id=bzcvmODCi5aK&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn
2013-09-12 08:00:51,470 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 08:00:51,474 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:00:51,509 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 08:00:51,511 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:00:51,512 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 06:00:51 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 08:00:51,512 oic.oauth2:DEBUG resp.txt: {"access_token": "5ZCYV+aK3WJtlg8eS/GSrMDUKnvqgCDO/MaemHlXmf30oxJI64mePoYCxFP2lr0/", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbImJ6Y3ZtT0RDaTVhSyJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA0NDg1MSwgImlhdCI6IDEzNzg5NjU2NTEsICJzdWIiOiAiaGFobzAwMzIifQ.YqbSK4Wnzni01bverxowYt56u6_A7PrTpJPG35EG0Yz2M7_wrw7fHlEWnXGFXQsO2BFwz_dSQ3D8UNdYf6f8W-rQm_vdIMSq3oUn7Eu5yjaGbpsE7b7LN1f_FhfVYJdlYamW675PI-ZHYJ-NPlQuAL18zMpUCFow4EYSBCDpr9J9jNHOeLNvF6nYFbdIyCaSrDbXcNtltA-wGMFjWAqzDDc0XrG71l3noODmwa20D4vT7aoL3p5BT8f5IeYdu99LInXowvpoVpol-b2I-47PN18nkn3a4pwB4AA8eevAA0jkKM0J7OnjQ-iskmZGprUsTxPw19ZenrnZzvw3Wfgxyg", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:996fe0f5-4de5-4347-9939-5176091f290e", "scope": "openid profile", "refresh_token": "5ZCYV+aK3WJtlg8eS/GSrPU8w2Bk0Iu1uGwY9vUbkZK0hIcYYiAmG603OgdUqStR"}
2013-09-12 08:00:51,513 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:00:51,516 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'5ZCYV+aK3WJtlg8eS/GSrMDUKnvqgCDO/MaemHlXmf30oxJI64mePoYCxFP2lr0/', 'request': 'openid', 'schema': 'openid'}
2013-09-12 08:00:51,516 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=5ZCYV%2BaK3WJtlg8eS%2FGSrMDUKnvqgCDO%2FMaemHlXmf30oxJI64mePoYCxFP2lr0%2F H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 08:00:51,521 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:00:51,560 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 08:00:51,562 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:00:51,562 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-12 08:00:51,564 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-12 08:00:51,564 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'5ZCYV+aK3WJtlg8eS/GSrMDUKnvqgCDO/MaemHlXmf30oxJI64mePoYCxFP2lr0/', <oic.oic.Client object at 0x10e84b390>)
2013-09-12 08:00:51,848 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:00:51,850 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:00:51,852 root:INFO [static]sending: static/style.css
2013-09-12 08:00:51,853 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:01:57,726 root:INFO RP server starting listening on port:8666
2013-09-12 08:04:01,441 root:INFO RP server starting listening on port:8666
2013-09-12 08:04:05,065 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:04:05,069 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:04:05,069 root:INFO [static]sending: static/style.css
2013-09-12 08:04:05,074 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:04:06,467 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 08:04:06,467 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x104c55710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'instance': <rp.pyoidc.pyoidcOIC object at 0x104c55750>, 'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'scope': ['openid', 'profile'], 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'pyoidcOIC', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'opKey': 'pyoidcOICDyn'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x104c55790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x104c55710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'instance': <rp.pyoidc.pyoidcOIC object at 0x104c55750>, 'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'scope': ['openid', 'profile'], 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'pyoidcOIC', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'opKey': 'pyoidcOICDyn'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x104c55790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x104c55690>, 'PORT': 8666}
2013-09-12 08:04:44,483 root:INFO RP server starting listening on port:8666
2013-09-12 08:05:32,029 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 08:05:32,029 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x108e35710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'instance': <rp.pyoidc.pyoidcOIC object at 0x108e35750>, 'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'scope': ['openid', 'profile'], 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'pyoidcOIC', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'opKey': 'pyoidcOICDyn'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x108e35790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x108e35710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'instance': <rp.pyoidc.pyoidcOIC object at 0x108e35750>, 'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'scope': ['openid', 'profile'], 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'pyoidcOIC', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'opKey': 'pyoidcOICDyn'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x108e35790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x108e35690>, 'PORT': 8666}
2013-09-12 08:05:35,047 rp.openidconnect:INFO client args: [('registration_endpoint', ''), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', 'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:ee923aaa-15f5-4f85-a7e2-ecd422953679'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x108e40e10>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICStatic']), ('id_token', None), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', 'VJNL62bPdOnn'), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', 'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x108e48e50>), ('client_prefs', {}), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', 'https://localhost:8092/authorization')]
2013-09-12 08:05:35,047 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': None, 'response_type': 'code'}
2013-09-12 08:05:35,048 rp.openidconnect:DEBUG request: scope=openid+profile&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 08:05:35,049 rp.openidconnect:DEBUG body: None
2013-09-12 08:05:35,050 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 08:05:35,050 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 08:05:35,051 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn')]
2013-09-12 08:07:49,481 root:INFO RP server starting listening on port:8666
2013-09-12 08:08:20,941 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:08:20,942 root:INFO [static]sending: static/style.css
2013-09-12 08:08:21,063 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:08:21,067 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:08:25,463 root:INFO RP server starting listening on port:8666
2013-09-12 08:08:27,208 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:08:27,327 root:INFO [static]sending: static/style.css
2013-09-12 08:08:27,347 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:08:27,350 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:08:29,365 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 08:08:29,366 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45790>, 'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'scope': ['openid', 'profile'], 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'pyoidcOIC', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'opKey': 'pyoidcOICDyn'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x106d457d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45790>, 'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'scope': ['openid', 'profile'], 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'pyoidcOIC', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'opKey': 'pyoidcOICDyn'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x106d457d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x106d456d0>, 'PORT': 8666}
2013-09-12 08:08:29,386 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:08:29,425 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-12 08:08:29,427 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:08:29,449 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-12 08:08:29,451 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 08:08:29,453 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 08:08:29,454 rp.openidconnect:DEBUG Registering RP
2013-09-12 08:08:29,461 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:08:29,489 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-12 08:08:29,490 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:08:29,492 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378962509&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3D2cZ9lwh533xy&registration_access_token=1PIyEH1uxkmQ6E9bVQWLzf3c1VSLrGo7&client_id=2cZ9lwh533xy&client_secret=0071817186e75226260035058abb1d43b731cd79dfdaa34ae8cd3fc9&client_secret_expires_at=1379048909
2013-09-12 08:08:29,493 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x106d4f910>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:854d6688-a237-4c22-bfed-6b60639d2934'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'0071817186e75226260035058abb1d43b731cd79dfdaa34ae8cd3fc9'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x106d4f750>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICDyn']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x105170ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'2cZ9lwh533xy'), ('registration_expires', 1379048909), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x106d4f8d0>), ('client_prefs', {}), ('registration_access_token', u'1PIyEH1uxkmQ6E9bVQWLzf3c1VSLrGo7'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 08:08:29,494 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:854d6688-a237-4c22-bfed-6b60639d2934', 'response_type': 'code'}
2013-09-12 08:08:29,495 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A854d6688-a237-4c22-bfed-6b60639d2934&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=2cZ9lwh533xy
2013-09-12 08:08:29,496 rp.openidconnect:DEBUG body: None
2013-09-12 08:08:29,496 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A854d6688-a237-4c22-bfed-6b60639d2934&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=2cZ9lwh533xy
2013-09-12 08:08:29,497 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 08:08:29,497 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A854d6688-a237-4c22-bfed-6b60639d2934&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=2cZ9lwh533xy')]
2013-09-12 08:08:43,946 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x106d45710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'HTTP_ORIGIN': 'https://localhost:8092', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A854d6688-a237-4c22-bfed-6b60639d2934&code=I2XVHj2Bs1TTlkOKVEKSSGg%2FkfbHFuSC2E1ZSs8nZ4iQsOTOeEk2m3lAmdIsTtWr', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50709', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x106d4fd10>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x106d4f9d0>, '_accessed_time': 1378966123.945392, 'service': u'https://localhost:8092/', '_creation_time': 1378966107.067584}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3A854d6688-a237-4c22-bfed-6b60639d2934&code=I2XVHj2Bs1TTlkOKVEKSSGg%2FkfbHFuSC2E1ZSs8nZ4iQsOTOeEk2m3lAmdIsTtWr', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1050c5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate'}
2013-09-12 08:08:43,946 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:854d6688-a237-4c22-bfed-6b60639d2934'], 'code': ['I2XVHj2Bs1TTlkOKVEKSSGg/kfbHFuSC2E1ZSs8nZ4iQsOTOeEk2m3lAmdIsTtWr']}
2013-09-12 08:08:58,286 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:854d6688-a237-4c22-bfed-6b60639d2934'], 'code': ['I2XVHj2Bs1TTlkOKVEKSSGg/kfbHFuSC2E1ZSs8nZ4iQsOTOeEk2m3lAmdIsTtWr']}
2013-09-12 08:08:58,290 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:08:58,328 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-12 08:08:58,332 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 08:08:58,333 rp.openidconnect:DEBUG callback environ: {'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x106d45710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'HTTP_ORIGIN': 'https://localhost:8092', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A854d6688-a237-4c22-bfed-6b60639d2934&code=I2XVHj2Bs1TTlkOKVEKSSGg%2FkfbHFuSC2E1ZSs8nZ4iQsOTOeEk2m3lAmdIsTtWr', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50709', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x106d4fd10>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x106d4f9d0>, '_accessed_time': 1378966123.945392, 'service': u'https://localhost:8092/', '_creation_time': 1378966107.067584}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3A854d6688-a237-4c22-bfed-6b60639d2934&code=I2XVHj2Bs1TTlkOKVEKSSGg%2FkfbHFuSC2E1ZSs8nZ4iQsOTOeEk2m3lAmdIsTtWr', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1050c5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate'}
2013-09-12 08:08:58,334 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x106c94518>]
2013-09-12 08:08:58,335 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=I2XVHj2Bs1TTlkOKVEKSSGg%2FkfbHFuSC2E1ZSs8nZ4iQsOTOeEk2m3lAmdIsTtWr&client_secret=0071817186e75226260035058abb1d43b731cd79dfdaa34ae8cd3fc9&grant_type=authorization_code&client_id=2cZ9lwh533xy&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn
2013-09-12 08:08:58,336 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 08:08:58,340 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:08:58,376 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 08:08:58,378 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:08:58,379 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 06:08:58 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 08:08:58,379 oic.oauth2:DEBUG resp.txt: {"access_token": "I2XVHj2Bs1TTlkOKVEKSSE/Jrwy1jpCkIdXy5saSnizJXBDIEktTy0A/1ZWrNNnx", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIjJjWjlsd2g1MzN4eSJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA0NTMzOCwgImlhdCI6IDEzNzg5NjYxMzgsICJzdWIiOiAiaGFobzAwMzIifQ.U-lbNIhSs7JH5ggty8QYJh8ctA9uWmP7AkgU2SWIxB2rfwYikQrq4xwaF3ze0UGDdZPe31pcJfxMuJyMLGLvYlId8je09vENlEG-LP6NiGcATeZpKUYcltXO1kuqKVuiw05iF9c1owv_jrvP7DsEjkXaosn49yEXicrATUeyrfIgiq89suqkSBmPDXubgQu5Bmzjz4vOH5K8tQL9jsdbbmk3WBHo0iB4QwTusDDmOjLMMzz3KuzNKTM-ujpvkhNrHv3ILuqKu69hpvdW69RO_npVFR7B-gATGE5_GGGVsXWAxjgdLY6PJH_YSd7IfvoeFYBBYykoiT2l4gSlHMIeSw", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:854d6688-a237-4c22-bfed-6b60639d2934", "scope": "openid profile", "refresh_token": "I2XVHj2Bs1TTlkOKVEKSSPSeLtb++vuMY7FuDAp8C2eGrrymClt063oHjdLNNMty"}
2013-09-12 08:08:58,380 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:08:58,383 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'I2XVHj2Bs1TTlkOKVEKSSE/Jrwy1jpCkIdXy5saSnizJXBDIEktTy0A/1ZWrNNnx', 'request': 'openid', 'schema': 'openid'}
2013-09-12 08:08:58,383 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=I2XVHj2Bs1TTlkOKVEKSSE%2FJrwy1jpCkIdXy5saSnizJXBDIEktTy0A%2F1ZWrNNnx H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 08:08:58,388 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:08:58,415 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 08:08:58,417 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:08:58,418 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-12 08:08:58,419 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-12 08:08:58,420 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'I2XVHj2Bs1TTlkOKVEKSSE/Jrwy1jpCkIdXy5saSnizJXBDIEktTy0A/1ZWrNNnx', <oic.oic.Client object at 0x106d4f9d0>)
2013-09-12 08:08:58,666 root:INFO [static]sending: static/style.css
2013-09-12 08:08:58,668 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:08:58,666 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:08:58,671 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:09:03,405 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:09:03,406 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:09:03,407 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:09:03,411 root:INFO [static]sending: static/style.css
2013-09-12 08:09:04,941 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 08:09:04,942 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45790>, 'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'scope': ['openid', 'profile'], 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'pyoidcOIC', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'opKey': 'pyoidcOICDyn'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x106d457d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45790>, 'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'scope': ['openid', 'profile'], 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'pyoidcOIC', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'opKey': 'pyoidcOICDyn'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x106d457d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICDyn': <oic.oic.Client object at 0x106d4f9d0>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x106d456d0>, 'PORT': 8666}
2013-09-12 08:09:21,201 rp.openidconnect:INFO client args: [('registration_endpoint', ''), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', 'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:b9e9a60c-3bbf-4e1b-a3ce-6df23604c6cd'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x106c930d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICStatic']), ('id_token', None), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', 'VJNL62bPdOnn'), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', 'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x106c93110>), ('client_prefs', {}), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', 'https://localhost:8092/authorization')]
2013-09-12 08:09:21,202 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:b9e9a60c-3bbf-4e1b-a3ce-6df23604c6cd', 'response_type': 'code'}
2013-09-12 08:09:21,203 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Ab9e9a60c-3bbf-4e1b-a3ce-6df23604c6cd&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 08:09:21,204 rp.openidconnect:DEBUG body: None
2013-09-12 08:09:21,204 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ab9e9a60c-3bbf-4e1b-a3ce-6df23604c6cd&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 08:09:21,205 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 08:09:21,205 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ab9e9a60c-3bbf-4e1b-a3ce-6df23604c6cd&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn')]
2013-09-12 08:09:21,244 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x106d45710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ab9e9a60c-3bbf-4e1b-a3ce-6df23604c6cd&code=FB01C6jS%2FydpghyEX0B9vPqd4MLtsKEwcyj5wNH2nRKzhScScrxJF194oTG2STw3', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50736', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x106c93450>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x106c93650>, '_accessed_time': 1378966161.243607, 'service': u'https://localhost:8092/', '_creation_time': 1378966107.067584}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&state=urn%3Auuid%3Ab9e9a60c-3bbf-4e1b-a3ce-6df23604c6cd&code=FB01C6jS%2FydpghyEX0B9vPqd4MLtsKEwcyj5wNH2nRKzhScScrxJF194oTG2STw3', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1050c5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:09:21,245 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:b9e9a60c-3bbf-4e1b-a3ce-6df23604c6cd'], 'code': ['FB01C6jS/ydpghyEX0B9vPqd4MLtsKEwcyj5wNH2nRKzhScScrxJF194oTG2STw3']}
2013-09-12 08:09:29,269 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:b9e9a60c-3bbf-4e1b-a3ce-6df23604c6cd'], 'code': ['FB01C6jS/ydpghyEX0B9vPqd4MLtsKEwcyj5wNH2nRKzhScScrxJF194oTG2STw3']}
2013-09-12 08:09:29,480 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}']}
2013-09-12 08:09:33,086 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x106d45710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ab9e9a60c-3bbf-4e1b-a3ce-6df23604c6cd&code=FB01C6jS%2FydpghyEX0B9vPqd4MLtsKEwcyj5wNH2nRKzhScScrxJF194oTG2STw3', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50736', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x106c93450>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x106c93650>, '_accessed_time': 1378966161.243607, 'service': u'https://localhost:8092/', '_creation_time': 1378966107.067584}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&state=urn%3Auuid%3Ab9e9a60c-3bbf-4e1b-a3ce-6df23604c6cd&code=FB01C6jS%2FydpghyEX0B9vPqd4MLtsKEwcyj5wNH2nRKzhScScrxJF194oTG2STw3', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1050c5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:09:33,088 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=FB01C6jS%2FydpghyEX0B9vPqd4MLtsKEwcyj5wNH2nRKzhScScrxJF194oTG2STw3&client_secret=1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1&grant_type=authorization_code&client_id=VJNL62bPdOnn&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic
2013-09-12 08:09:33,088 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 08:09:33,093 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:09:33,129 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 08:09:33,131 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:09:33,131 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 06:09:33 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 08:09:33,132 oic.oauth2:DEBUG resp.txt: {"access_token": "FB01C6jS/ydpghyEX0B9vOrQHCnAdD25lP/4/vHF4sGEszttm+5/Rk3/djSJ3Ohr", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIlZKTkw2MmJQZE9ubiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA0NTM3MywgImlhdCI6IDEzNzg5NjYxNzMsICJzdWIiOiAiaGFobzAwMzIifQ.M7EFI9raCfWwV0hbe30JJYza5nCIKfBtd8gSCVmdl5qQlNErBiP1gJsNrNxApCZyR5T4AdfiPJbFJvh_loIQykfCaD_yT1mjlrdTvOq-51M0uqn5vjdSI9IHxnTTLglPex6USouBN9OmfDpL-v8DeJh8Mh7XZJa3b2R3jt5DR_73Zj0Ccsxmusp-ox7GvyxpwlNHKoMCvUJixUD4Ufj6iuVk0o133bmRVvWyU2_D4JhhPgSyWfJwga1C2auDnJ79NCIf4s9Hf9h_G-OJBNBWbgxg4ZL8z0zOjYizCxNT0e14mkKZiXs4ngtAK3FXtuq_fTBv8gE2uzuJReT7LUO5kA", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:b9e9a60c-3bbf-4e1b-a3ce-6df23604c6cd", "scope": "openid profile", "refresh_token": "FB01C6jS/ydpghyEX0B9vPMhrfXl1F1hU6CFTTOwBKipkYPLTkSHuzWCT/Zn1G9n"}
2013-09-12 08:09:33,133 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:09:33,134 rp.openidconnect:ERROR 
2013-09-12 08:09:33,136 rp:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/__init__.py", line 60, in callback\n    result = self.phaseN(environ, query, server_env, session)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 227, in phaseN\n    tokenresp = self.get_accesstoken(client, authresp)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 191, in get_accesstoken\n    **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oic/__init__.py", line 470, in do_access_token_request\n    authn_method, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 912, in do_access_token_request\n    http_args=http_args, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 857, in request_and_return\n    state, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 774, in parse_response\n    raise err\n', 'BadSignature\n']
2013-09-12 08:09:33,414 root:INFO [static]sending: static/style.css
2013-09-12 08:09:33,415 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:09:33,420 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:09:33,421 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:09:43,450 root:INFO [static]sending: static/style.css
2013-09-12 08:09:43,456 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:09:43,460 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:09:43,461 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:09:44,776 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 08:09:44,777 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45790>, 'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'scope': ['openid', 'profile'], 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'pyoidcOIC', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'opKey': 'pyoidcOICDyn'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x106d457d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45790>, 'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'scope': ['openid', 'profile'], 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'pyoidcOIC', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'opKey': 'pyoidcOICDyn'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x106d457d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICStatic': <oic.oic.Client object at 0x106c93650>, 'pyoidcOICDyn': <oic.oic.Client object at 0x106d4f9d0>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x106d456d0>, 'PORT': 8666}
2013-09-12 08:09:47,591 rp.openidconnect:DEBUG Static client: {'pyoidcOICStatic': <oic.oic.Client object at 0x106c93650>, 'pyoidcOICDyn': <oic.oic.Client object at 0x106d4f9d0>}
2013-09-12 08:09:47,593 rp.openidconnect:INFO client args: [('registration_endpoint', ''), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:b9e9a60c-3bbf-4e1b-a3ce-6df23604c6cd': <oic.oic.Grant object at 0x105170fd0>}), ('refresh_session_endpoint', ''), ('token_endpoint', 'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:5668b619-6a39-4117-9700-a8509d185efa'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x106c930d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICStatic']), ('id_token', None), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', 'VJNL62bPdOnn'), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', 'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x106c93110>), ('client_prefs', {}), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', 'https://localhost:8092/authorization')]
2013-09-12 08:09:47,593 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:5668b619-6a39-4117-9700-a8509d185efa', 'response_type': 'code'}
2013-09-12 08:09:47,595 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A5668b619-6a39-4117-9700-a8509d185efa&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 08:09:47,595 rp.openidconnect:DEBUG body: None
2013-09-12 08:09:47,596 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A5668b619-6a39-4117-9700-a8509d185efa&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 08:09:47,596 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 08:09:47,597 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A5668b619-6a39-4117-9700-a8509d185efa&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn')]
2013-09-12 08:09:47,634 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x106d45710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A5668b619-6a39-4117-9700-a8509d185efa&code=l%2FG5NlXs5%2BOlW6q%2Bj6IiupH3l77aKDwViifQ7FxlXHZH9ugjv0BIechy8KnwrQzl', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50748', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x106d80e10>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x106c93650>, '_accessed_time': 1378966187.633561, 'service': u'https://localhost:8092/', '_creation_time': 1378966107.067584}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&state=urn%3Auuid%3A5668b619-6a39-4117-9700-a8509d185efa&code=l%2FG5NlXs5%2BOlW6q%2Bj6IiupH3l77aKDwViifQ7FxlXHZH9ugjv0BIechy8KnwrQzl', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1050c5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:09:47,634 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:5668b619-6a39-4117-9700-a8509d185efa'], 'code': ['l/G5NlXs5+OlW6q+j6IiupH3l77aKDwViifQ7FxlXHZH9ugjv0BIechy8KnwrQzl']}
2013-09-12 08:09:50,785 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:5668b619-6a39-4117-9700-a8509d185efa'], 'code': ['l/G5NlXs5+OlW6q+j6IiupH3l77aKDwViifQ7FxlXHZH9ugjv0BIechy8KnwrQzl']}
2013-09-12 08:09:50,975 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}']}
2013-09-12 08:10:13,003 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x106d45710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A5668b619-6a39-4117-9700-a8509d185efa&code=l%2FG5NlXs5%2BOlW6q%2Bj6IiupH3l77aKDwViifQ7FxlXHZH9ugjv0BIechy8KnwrQzl', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50748', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x106d80e10>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x106c93650>, '_accessed_time': 1378966187.633561, 'service': u'https://localhost:8092/', '_creation_time': 1378966107.067584}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&state=urn%3Auuid%3A5668b619-6a39-4117-9700-a8509d185efa&code=l%2FG5NlXs5%2BOlW6q%2Bj6IiupH3l77aKDwViifQ7FxlXHZH9ugjv0BIechy8KnwrQzl', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1050c5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:10:31,589 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=l%2FG5NlXs5%2BOlW6q%2Bj6IiupH3l77aKDwViifQ7FxlXHZH9ugjv0BIechy8KnwrQzl&client_secret=1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1&grant_type=authorization_code&client_id=VJNL62bPdOnn&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic
2013-09-12 08:10:31,589 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 08:10:31,594 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:10:31,629 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 08:10:31,631 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:10:31,631 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 06:10:31 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 08:10:31,632 oic.oauth2:DEBUG resp.txt: {"access_token": "l/G5NlXs5+OlW6q+j6IiuugvlxlpvfwmdIcWChVX2VzfwJiwfA3CuN/oF4K8e/ME", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIlZKTkw2MmJQZE9ubiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA0NTQzMSwgImlhdCI6IDEzNzg5NjYyMzEsICJzdWIiOiAiaGFobzAwMzIifQ.I_rf188goyaSnI8tVuEwkgSjhlJ2W9hE0nQinFfu1NIMtGsGyygGy80VS-ihrAXalvn90RF5wZUE-OU4BV-fDwD9chjaFEoYcT8t3lmnPTcreceCuIuf4cC1z432uDPRyppv_9Cqp2f4QI_G79DVQQDdIvRz6qDPYaRar2uDfLgziOUYmkcej-O6GgcVL5yBr4DTpCj3OKL6X-PLS-lTQ5LswMxMNPnDMlZB932pSgnLotoXTSToG-wJtsISPvO0XXH9HFFN_e3LngVvIu5FZiSau2NeDimt_8WKq5ziMYzYkmzXUfKYE0cwH7AOLCWOOzxJFUALUshk8Ftf5cviWw", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:5668b619-6a39-4117-9700-a8509d185efa", "scope": "openid profile", "refresh_token": "l/G5NlXs5+OlW6q+j6IiurvwbcGA/TN9B9bXZFU6cTjG5PpR18Lqoi8/Dc6RI7Nb"}
2013-09-12 08:10:31,633 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:12:38,536 rp.openidconnect:ERROR 
2013-09-12 08:12:44,882 rp:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/__init__.py", line 60, in callback\n    result = self.phaseN(environ, query, server_env, session)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 227, in phaseN\n    tokenresp = self.get_accesstoken(client, authresp)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 191, in get_accesstoken\n    **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oic/__init__.py", line 470, in do_access_token_request\n    authn_method, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 912, in do_access_token_request\n    http_args=http_args, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 857, in request_and_return\n    state, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 774, in parse_response\n    raise err\n', 'BadSignature\n']
2013-09-12 08:12:45,168 root:INFO [static]sending: static/style.css
2013-09-12 08:12:45,170 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:12:45,172 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:12:45,173 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:12:47,582 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:12:47,582 root:INFO [static]sending: static/style.css
2013-09-12 08:12:47,583 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:12:47,585 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:12:48,762 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 08:12:48,763 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45790>, 'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'scope': ['openid', 'profile'], 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'pyoidcOIC', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'opKey': 'pyoidcOICDyn'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x106d457d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45790>, 'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'scope': ['openid', 'profile'], 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'pyoidcOIC', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'opKey': 'pyoidcOICDyn'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x106d457d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICStatic': <oic.oic.Client object at 0x106c93650>, 'pyoidcOICDyn': <oic.oic.Client object at 0x106d4f9d0>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x106d456d0>, 'PORT': 8666}
2013-09-12 08:12:51,141 rp.openidconnect:DEBUG Static client: {'pyoidcOICStatic': <oic.oic.Client object at 0x106c93650>, 'pyoidcOICDyn': <oic.oic.Client object at 0x106d4f9d0>}
2013-09-12 08:12:51,142 rp.openidconnect:INFO client args: [('registration_endpoint', ''), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:b9e9a60c-3bbf-4e1b-a3ce-6df23604c6cd': <oic.oic.Grant object at 0x105170fd0>, 'urn:uuid:5668b619-6a39-4117-9700-a8509d185efa': <oic.oic.Grant object at 0x106d888d0>}), ('refresh_session_endpoint', ''), ('token_endpoint', 'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:67cf9167-e61c-419f-a5f6-f524894ac000'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x106c930d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICStatic']), ('id_token', None), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', 'VJNL62bPdOnn'), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', 'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x106c93110>), ('client_prefs', {}), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', 'https://localhost:8092/authorization')]
2013-09-12 08:12:51,142 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:67cf9167-e61c-419f-a5f6-f524894ac000', 'response_type': 'code'}
2013-09-12 08:12:51,143 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A67cf9167-e61c-419f-a5f6-f524894ac000&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 08:12:51,144 rp.openidconnect:DEBUG body: None
2013-09-12 08:12:51,145 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A67cf9167-e61c-419f-a5f6-f524894ac000&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 08:12:51,145 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 08:12:51,145 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A67cf9167-e61c-419f-a5f6-f524894ac000&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn')]
2013-09-12 08:12:51,188 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x106d45710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A67cf9167-e61c-419f-a5f6-f524894ac000&code=RUkWds6dmWPpB7fqu8z1XgbxSMl6x8sXUyRHteru1uvw6Bc4TC%2FqZNNK2ouXfQ0k', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50781', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x106c89f90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x106c93650>, '_accessed_time': 1378966371.188166, 'service': u'https://localhost:8092/', '_creation_time': 1378966107.067584}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&state=urn%3Auuid%3A67cf9167-e61c-419f-a5f6-f524894ac000&code=RUkWds6dmWPpB7fqu8z1XgbxSMl6x8sXUyRHteru1uvw6Bc4TC%2FqZNNK2ouXfQ0k', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1050c5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:12:51,189 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:67cf9167-e61c-419f-a5f6-f524894ac000'], 'code': ['RUkWds6dmWPpB7fqu8z1XgbxSMl6x8sXUyRHteru1uvw6Bc4TC/qZNNK2ouXfQ0k']}
2013-09-12 08:12:55,747 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:67cf9167-e61c-419f-a5f6-f524894ac000'], 'code': ['RUkWds6dmWPpB7fqu8z1XgbxSMl6x8sXUyRHteru1uvw6Bc4TC/qZNNK2ouXfQ0k']}
2013-09-12 08:12:55,747 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}']}
2013-09-12 08:12:55,748 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x106d45710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A67cf9167-e61c-419f-a5f6-f524894ac000&code=RUkWds6dmWPpB7fqu8z1XgbxSMl6x8sXUyRHteru1uvw6Bc4TC%2FqZNNK2ouXfQ0k', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50781', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x106c89f90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x106c93650>, '_accessed_time': 1378966371.188166, 'service': u'https://localhost:8092/', '_creation_time': 1378966107.067584}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&state=urn%3Auuid%3A67cf9167-e61c-419f-a5f6-f524894ac000&code=RUkWds6dmWPpB7fqu8z1XgbxSMl6x8sXUyRHteru1uvw6Bc4TC%2FqZNNK2ouXfQ0k', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1050c5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:15:15,894 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=RUkWds6dmWPpB7fqu8z1XgbxSMl6x8sXUyRHteru1uvw6Bc4TC%2FqZNNK2ouXfQ0k&client_secret=1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1&grant_type=authorization_code&client_id=VJNL62bPdOnn&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic
2013-09-12 08:15:16,485 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 08:15:41,359 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:15:41,408 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 08:15:41,410 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:16:07,853 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 06:15:41 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 08:16:08,576 oic.oauth2:DEBUG resp.txt: {"access_token": "RUkWds6dmWPpB7fqu8z1XnhmwcPKcgZoBYf50h2OSLIjHaRNmCm+5OueEe4szd33", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIlZKTkw2MmJQZE9ubiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA0NTc0MSwgImlhdCI6IDEzNzg5NjY1NDEsICJzdWIiOiAiaGFobzAwMzIifQ.zuUzYuKc98aa6-YBzMlHLIiL3xiJT4mIZ_R1u566-T1WtbUskVBYWusKsBEesaEdhkPPfAf90-pz_vqOOrTnuTl9izxkTt122s8J8iOLduBmr69KTWp8VHD4b0PoTmGIqdgTFmGEptIL2Blxzb3sMlm2t-yEojp5bSOhT1gLQJUfiRhfk8Rt5Drp60X4cVfyslJngEnjk7Punxz1RVkXbjqEu5YWcAvKN_bdx-JuLi7M7fMpeGbQ4ZPkmb8a49WG5o7vPEl0h-vvTFL2HIRyGyYKhG8uECSGpMn3ziwsjDOgVGLdZRITAm-e8M0aIzW3ccfwlR-Ctf0pMDB0F-AcTA", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:67cf9167-e61c-419f-a5f6-f524894ac000", "scope": "openid profile", "refresh_token": "RUkWds6dmWPpB7fqu8z1Xii+ST+N2bpQolI0n3rMfvpGlFUHG2YDTpAYy9jCvbeO"}
2013-09-12 08:16:19,434 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:16:32,101 rp.openidconnect:ERROR 
2013-09-12 08:16:32,102 rp:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/__init__.py", line 60, in callback\n    result = self.phaseN(environ, query, server_env, session)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 227, in phaseN\n    tokenresp = self.get_accesstoken(client, authresp)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 191, in get_accesstoken\n    **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oic/__init__.py", line 470, in do_access_token_request\n    authn_method, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 912, in do_access_token_request\n    http_args=http_args, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 857, in request_and_return\n    state, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 774, in parse_response\n    raise err\n', 'BadSignature\n']
2013-09-12 08:16:32,385 root:INFO [static]sending: static/style.css
2013-09-12 08:16:32,388 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:16:32,390 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:16:32,393 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:16:36,392 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:16:36,394 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:16:36,396 root:INFO [static]sending: static/style.css
2013-09-12 08:16:36,397 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:16:42,251 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 08:16:42,252 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45790>, 'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'scope': ['openid', 'profile'], 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'pyoidcOIC', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'opKey': 'pyoidcOICDyn'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x106d457d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45790>, 'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'scope': ['openid', 'profile'], 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'pyoidcOIC', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'opKey': 'pyoidcOICDyn'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x106d457d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICStatic': <oic.oic.Client object at 0x106c93650>, 'pyoidcOICDyn': <oic.oic.Client object at 0x106d4f9d0>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x106d456d0>, 'PORT': 8666}
2013-09-12 08:16:45,779 rp.openidconnect:DEBUG Static client: {'pyoidcOICStatic': <oic.oic.Client object at 0x106c93650>, 'pyoidcOICDyn': <oic.oic.Client object at 0x106d4f9d0>}
2013-09-12 08:16:45,780 rp.openidconnect:INFO client args: [('registration_endpoint', ''), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:67cf9167-e61c-419f-a5f6-f524894ac000': <oic.oic.Grant object at 0x106d88bd0>, 'urn:uuid:b9e9a60c-3bbf-4e1b-a3ce-6df23604c6cd': <oic.oic.Grant object at 0x105170fd0>, 'urn:uuid:5668b619-6a39-4117-9700-a8509d185efa': <oic.oic.Grant object at 0x106d888d0>}), ('refresh_session_endpoint', ''), ('token_endpoint', 'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:b1cbc393-ba32-4883-8f9a-3cedae5380c8'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x106c930d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICStatic']), ('id_token', None), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', 'VJNL62bPdOnn'), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', 'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x106c93110>), ('client_prefs', {}), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', 'https://localhost:8092/authorization')]
2013-09-12 08:16:45,781 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:b1cbc393-ba32-4883-8f9a-3cedae5380c8', 'response_type': 'code'}
2013-09-12 08:16:45,783 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Ab1cbc393-ba32-4883-8f9a-3cedae5380c8&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 08:16:45,784 rp.openidconnect:DEBUG body: None
2013-09-12 08:16:45,785 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ab1cbc393-ba32-4883-8f9a-3cedae5380c8&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 08:16:45,785 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 08:16:45,786 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ab1cbc393-ba32-4883-8f9a-3cedae5380c8&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn')]
2013-09-12 08:16:45,871 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x106d45710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ab1cbc393-ba32-4883-8f9a-3cedae5380c8&code=HexNOpJk2%2FEjum8zcYrnUC5kAj27Wux8UHo9zANeC2ZLXJ4jEW0LFY8zPiORQpGA', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50809', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x106d59990>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x106c93650>, '_accessed_time': 1378966605.871025, 'service': u'https://localhost:8092/', '_creation_time': 1378966107.067584}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&state=urn%3Auuid%3Ab1cbc393-ba32-4883-8f9a-3cedae5380c8&code=HexNOpJk2%2FEjum8zcYrnUC5kAj27Wux8UHo9zANeC2ZLXJ4jEW0LFY8zPiORQpGA', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1050c5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:16:45,872 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:b1cbc393-ba32-4883-8f9a-3cedae5380c8'], 'code': ['HexNOpJk2/Ejum8zcYrnUC5kAj27Wux8UHo9zANeC2ZLXJ4jEW0LFY8zPiORQpGA']}
2013-09-12 08:16:48,691 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:b1cbc393-ba32-4883-8f9a-3cedae5380c8'], 'code': ['HexNOpJk2/Ejum8zcYrnUC5kAj27Wux8UHo9zANeC2ZLXJ4jEW0LFY8zPiORQpGA']}
2013-09-12 08:16:48,691 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}']}
2013-09-12 08:16:48,693 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x106d45710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ab1cbc393-ba32-4883-8f9a-3cedae5380c8&code=HexNOpJk2%2FEjum8zcYrnUC5kAj27Wux8UHo9zANeC2ZLXJ4jEW0LFY8zPiORQpGA', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50809', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x106d59990>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x106c93650>, '_accessed_time': 1378966605.871025, 'service': u'https://localhost:8092/', '_creation_time': 1378966107.067584}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&state=urn%3Auuid%3Ab1cbc393-ba32-4883-8f9a-3cedae5380c8&code=HexNOpJk2%2FEjum8zcYrnUC5kAj27Wux8UHo9zANeC2ZLXJ4jEW0LFY8zPiORQpGA', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1050c5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:16:52,305 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=HexNOpJk2%2FEjum8zcYrnUC5kAj27Wux8UHo9zANeC2ZLXJ4jEW0LFY8zPiORQpGA&client_secret=1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1&grant_type=authorization_code&client_id=VJNL62bPdOnn&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic
2013-09-12 08:16:52,306 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 08:16:55,502 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:16:55,538 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 08:16:55,540 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:16:55,540 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 06:16:55 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 08:16:55,541 oic.oauth2:DEBUG resp.txt: {"access_token": "HexNOpJk2/Ejum8zcYrnUC+iEkr/zb8YciB/aGaiESncHidsB6mX8rmHAyyUvz/v", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIlZKTkw2MmJQZE9ubiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA0NTgxNSwgImlhdCI6IDEzNzg5NjY2MTUsICJzdWIiOiAiaGFobzAwMzIifQ.KqNkp-dcUox5hogvfpyx9dq2rZYgmQCFJWxZSJzB4QZnjZCfJiL5h6UwGdM5aOoRnIYWj1fKpUHrQFEOqlRcYDGjFt7QQ7dfsG139P_mA_UwdUPoS1xuv2WuKTydZGoqca-YOVTmzC521xb9Wh-MqEyGZ0N4iIUZMcBj8pZ337TjgJu0oH-bqYcJ0R_O5Y_xFIkkcg-2enILjxr0SVdx8wYkxpmdSQmD1HWo9e6LWYoRvJqKBnWx_Bo2V_eG5uzVNGz6TRcgokBu2fXpHtsUX7-drL3wi63-rqUqXgbqMIQ2ECRsupcHd2GhYuFprNPu3T2DEbHw7PynPDmGI9racw", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:b1cbc393-ba32-4883-8f9a-3cedae5380c8", "scope": "openid profile", "refresh_token": "HexNOpJk2/Ejum8zcYrnUNACZI0t5Lxg2G0RGdKQgpZUG//lgnF4C87kP3+wtF21"}
2013-09-12 08:17:54,453 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:18:36,179 rp.openidconnect:ERROR 
2013-09-12 08:18:36,180 rp:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/__init__.py", line 60, in callback\n    result = self.phaseN(environ, query, server_env, session)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 227, in phaseN\n    tokenresp = self.get_accesstoken(client, authresp)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 191, in get_accesstoken\n    **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oic/__init__.py", line 470, in do_access_token_request\n    authn_method, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 912, in do_access_token_request\n    http_args=http_args, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 857, in request_and_return\n    state, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 774, in parse_response\n    raise err\n', 'BadSignature\n']
2013-09-12 08:18:36,462 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:18:36,467 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:18:36,468 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:18:36,468 root:INFO [static]sending: static/style.css
2013-09-12 08:18:41,058 root:INFO [static]sending: static/style.css
2013-09-12 08:18:41,059 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:18:41,060 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:18:41,064 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:18:42,818 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 08:18:42,819 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45790>, 'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'scope': ['openid', 'profile'], 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'pyoidcOIC', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'opKey': 'pyoidcOICDyn'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x106d457d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45790>, 'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'scope': ['openid', 'profile'], 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'pyoidcOIC', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'opKey': 'pyoidcOICDyn'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x106d457d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICStatic': <oic.oic.Client object at 0x106c93650>, 'pyoidcOICDyn': <oic.oic.Client object at 0x106d4f9d0>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x106d456d0>, 'PORT': 8666}
2013-09-12 08:18:42,820 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x106d4f910>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:854d6688-a237-4c22-bfed-6b60639d2934': <oic.oic.Grant object at 0x106c89f50>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:1a08d139-cdb2-45f0-95aa-e2e66733872f'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'0071817186e75226260035058abb1d43b731cd79dfdaa34ae8cd3fc9'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x106d4f750>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICDyn']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x105170ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'2cZ9lwh533xy'), ('registration_expires', 1379048909), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x106d4f8d0>), ('client_prefs', {}), ('registration_access_token', u'1PIyEH1uxkmQ6E9bVQWLzf3c1VSLrGo7'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 08:18:42,820 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:1a08d139-cdb2-45f0-95aa-e2e66733872f', 'response_type': 'code'}
2013-09-12 08:18:42,823 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A1a08d139-cdb2-45f0-95aa-e2e66733872f&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=2cZ9lwh533xy
2013-09-12 08:18:42,824 rp.openidconnect:DEBUG body: None
2013-09-12 08:18:42,824 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A1a08d139-cdb2-45f0-95aa-e2e66733872f&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=2cZ9lwh533xy
2013-09-12 08:18:42,825 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 08:18:42,825 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A1a08d139-cdb2-45f0-95aa-e2e66733872f&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=2cZ9lwh533xy')]
2013-09-12 08:18:42,873 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x106d45710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A1a08d139-cdb2-45f0-95aa-e2e66733872f&code=rhTKdaW31dIGLj9fyqq7DKKltpR9t1bTMVEFnyXC9x30gaCCZG7xcycsAEr1gDkl', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50823', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x106c9bb50>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x106d4f9d0>, '_accessed_time': 1378966722.87287, 'service': u'https://localhost:8092/', '_creation_time': 1378966107.067584}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3A1a08d139-cdb2-45f0-95aa-e2e66733872f&code=rhTKdaW31dIGLj9fyqq7DKKltpR9t1bTMVEFnyXC9x30gaCCZG7xcycsAEr1gDkl', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1050c5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:18:42,874 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:1a08d139-cdb2-45f0-95aa-e2e66733872f'], 'code': ['rhTKdaW31dIGLj9fyqq7DKKltpR9t1bTMVEFnyXC9x30gaCCZG7xcycsAEr1gDkl']}
2013-09-12 08:18:45,891 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:1a08d139-cdb2-45f0-95aa-e2e66733872f'], 'code': ['rhTKdaW31dIGLj9fyqq7DKKltpR9t1bTMVEFnyXC9x30gaCCZG7xcycsAEr1gDkl']}
2013-09-12 08:18:45,896 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:18:45,922 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-12 08:18:45,929 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 08:19:01,107 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x106d45710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A1a08d139-cdb2-45f0-95aa-e2e66733872f&code=rhTKdaW31dIGLj9fyqq7DKKltpR9t1bTMVEFnyXC9x30gaCCZG7xcycsAEr1gDkl', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50823', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x106c9bb50>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x106d4f9d0>, '_accessed_time': 1378966722.87287, 'service': u'https://localhost:8092/', '_creation_time': 1378966107.067584}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3A1a08d139-cdb2-45f0-95aa-e2e66733872f&code=rhTKdaW31dIGLj9fyqq7DKKltpR9t1bTMVEFnyXC9x30gaCCZG7xcycsAEr1gDkl', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1050c5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:19:01,839 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x106c9d7e8>]
2013-09-12 08:19:03,237 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=rhTKdaW31dIGLj9fyqq7DKKltpR9t1bTMVEFnyXC9x30gaCCZG7xcycsAEr1gDkl&client_secret=0071817186e75226260035058abb1d43b731cd79dfdaa34ae8cd3fc9&grant_type=authorization_code&client_id=2cZ9lwh533xy&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn
2013-09-12 08:19:03,237 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 08:19:03,872 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:19:03,908 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 08:19:03,910 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:19:03,911 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 06:19:03 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 08:19:03,911 oic.oauth2:DEBUG resp.txt: {"access_token": "rhTKdaW31dIGLj9fyqq7DDSUaEGzyrK07sk66HrVBaIQYDExE2bwdncCmpHxhlON", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIjJjWjlsd2g1MzN4eSJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA0NTk0MywgImlhdCI6IDEzNzg5NjY3NDMsICJzdWIiOiAiaGFobzAwMzIifQ.0gn7hLJeD7VCxRzA58qb0VoDiTF_ci91lyp0TPx5TTxL3b8b0HPSwRndfCOV5xSJf7Tctw0HhTpYb0PhbmSjq9KL4azJZ45XLK-29tCDagk86nLt0rsANZIZSv7VEtBEQV_BrymzG5Cb_5vt9Z5gh3Fbh51mVpG2OK0EiPCjxM7olYewLWVwwKvG1M7j73Z2GspkRAa1A4ENMtM-YSDYGh3sgFvmGnMfIjjiSe26T0xCmU9daslLZFRlHRYj0DdiqjFZaiXc8AExjtyPfScGqB9ux0eZ_5ABKs1cHCWWve9xyu5eN0UQnat9MTGw40JRMtdnezztupwOxkIdM5M0Jg", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:1a08d139-cdb2-45f0-95aa-e2e66733872f", "scope": "openid profile", "refresh_token": "rhTKdaW31dIGLj9fyqq7DDFd1mO/wLx+sI9IKsOrDyVuOFRIbWhdbc2rH91pznjF"}
2013-09-12 08:19:06,450 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:19:06,453 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'rhTKdaW31dIGLj9fyqq7DDSUaEGzyrK07sk66HrVBaIQYDExE2bwdncCmpHxhlON', 'request': 'openid', 'schema': 'openid'}
2013-09-12 08:19:06,454 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=rhTKdaW31dIGLj9fyqq7DDSUaEGzyrK07sk66HrVBaIQYDExE2bwdncCmpHxhlON H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 08:19:06,460 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:19:06,488 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 08:19:06,489 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:19:06,490 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-12 08:19:06,492 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-12 08:19:06,492 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'rhTKdaW31dIGLj9fyqq7DDSUaEGzyrK07sk66HrVBaIQYDExE2bwdncCmpHxhlON', <oic.oic.Client object at 0x106d4f9d0>)
2013-09-12 08:19:06,742 root:INFO [static]sending: static/style.css
2013-09-12 08:19:06,743 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:19:06,755 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:19:06,756 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:19:16,640 root:INFO [static]sending: static/style.css
2013-09-12 08:19:16,647 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:19:16,648 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:19:16,649 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:19:18,223 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 08:19:18,224 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45790>, 'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'scope': ['openid', 'profile'], 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'pyoidcOIC', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'opKey': 'pyoidcOICDyn'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x106d457d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45790>, 'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'scope': ['openid', 'profile'], 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'pyoidcOIC', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'opKey': 'pyoidcOICDyn'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x106d457d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICStatic': <oic.oic.Client object at 0x106c93650>, 'pyoidcOICDyn': <oic.oic.Client object at 0x106d4f9d0>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x106d456d0>, 'PORT': 8666}
2013-09-12 08:19:20,218 rp.openidconnect:DEBUG Static client: {'pyoidcOICStatic': <oic.oic.Client object at 0x106c93650>, 'pyoidcOICDyn': <oic.oic.Client object at 0x106d4f9d0>}
2013-09-12 08:19:20,219 rp.openidconnect:INFO client args: [('registration_endpoint', ''), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:b1cbc393-ba32-4883-8f9a-3cedae5380c8': <oic.oic.Grant object at 0x106d80550>, 'urn:uuid:67cf9167-e61c-419f-a5f6-f524894ac000': <oic.oic.Grant object at 0x106d88bd0>, 'urn:uuid:b9e9a60c-3bbf-4e1b-a3ce-6df23604c6cd': <oic.oic.Grant object at 0x105170fd0>, 'urn:uuid:5668b619-6a39-4117-9700-a8509d185efa': <oic.oic.Grant object at 0x106d888d0>}), ('refresh_session_endpoint', ''), ('token_endpoint', 'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:f05e3d20-7962-4f0c-851c-12eafb901dae'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x106c930d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICStatic']), ('id_token', None), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', 'VJNL62bPdOnn'), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', 'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x106c93110>), ('client_prefs', {}), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', 'https://localhost:8092/authorization')]
2013-09-12 08:19:20,219 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:f05e3d20-7962-4f0c-851c-12eafb901dae', 'response_type': 'code'}
2013-09-12 08:19:20,221 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Af05e3d20-7962-4f0c-851c-12eafb901dae&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 08:19:20,222 rp.openidconnect:DEBUG body: None
2013-09-12 08:19:20,223 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Af05e3d20-7962-4f0c-851c-12eafb901dae&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 08:19:20,223 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 08:19:20,224 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Af05e3d20-7962-4f0c-851c-12eafb901dae&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn')]
2013-09-12 08:19:20,260 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x106d45710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Af05e3d20-7962-4f0c-851c-12eafb901dae&code=ikPX8y04cHoz1loVzKtPR3WjT8m480IvfxV5%2BOAHlTn13UZQWhGq2hBeulH2XPmk', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50844', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x106d80510>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x106c93650>, '_accessed_time': 1378966760.259304, 'service': u'https://localhost:8092/', '_creation_time': 1378966107.067584}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&state=urn%3Auuid%3Af05e3d20-7962-4f0c-851c-12eafb901dae&code=ikPX8y04cHoz1loVzKtPR3WjT8m480IvfxV5%2BOAHlTn13UZQWhGq2hBeulH2XPmk', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1050c5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:19:20,260 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:f05e3d20-7962-4f0c-851c-12eafb901dae'], 'code': ['ikPX8y04cHoz1loVzKtPR3WjT8m480IvfxV5+OAHlTn13UZQWhGq2hBeulH2XPmk']}
2013-09-12 08:20:16,512 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:f05e3d20-7962-4f0c-851c-12eafb901dae'], 'code': ['ikPX8y04cHoz1loVzKtPR3WjT8m480IvfxV5+OAHlTn13UZQWhGq2hBeulH2XPmk']}
2013-09-12 08:20:16,513 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}']}
2013-09-12 08:20:29,813 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x106d45710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Af05e3d20-7962-4f0c-851c-12eafb901dae&code=ikPX8y04cHoz1loVzKtPR3WjT8m480IvfxV5%2BOAHlTn13UZQWhGq2hBeulH2XPmk', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50844', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x106d80510>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x106c93650>, '_accessed_time': 1378966760.259304, 'service': u'https://localhost:8092/', '_creation_time': 1378966107.067584}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&state=urn%3Auuid%3Af05e3d20-7962-4f0c-851c-12eafb901dae&code=ikPX8y04cHoz1loVzKtPR3WjT8m480IvfxV5%2BOAHlTn13UZQWhGq2hBeulH2XPmk', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1050c5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:20:32,944 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=ikPX8y04cHoz1loVzKtPR3WjT8m480IvfxV5%2BOAHlTn13UZQWhGq2hBeulH2XPmk&client_secret=1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1&grant_type=authorization_code&client_id=VJNL62bPdOnn&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic
2013-09-12 08:20:32,944 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 08:20:33,645 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:20:33,679 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 08:20:33,681 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:20:33,681 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 06:20:33 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 08:20:33,682 oic.oauth2:DEBUG resp.txt: {"access_token": "ikPX8y04cHoz1loVzKtPR+2Gy7N0FiuvaVddHeQxh8A76pmStOx/X0NdxoJP4U53", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIlZKTkw2MmJQZE9ubiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA0NjAzMywgImlhdCI6IDEzNzg5NjY4MzMsICJzdWIiOiAiaGFobzAwMzIifQ.SogNoInFNrZA6k64Ad7TaOwquBEI2OkxJXOzVdOEJeyAvmQGsOJ4mgxsZ8jsy_bBWbCUlhX3BxkRLbOswvvLhiUomFTBDYGWXkazBJlWc5H6UY6PHSgDEOsz4nJ2nmpcb5CU_4vVpyNdLExp5BOyyCHrVMHp4AS99FMTsOF1-QIJ6Iaz2-0IjBS4LE9Ygg3pJygIGnfCyGjWEgMRKlTB_gmcVN0AkpMZSyc6CJPeNzkgDOEWbrgfOIiYqvFAzBsgVMWzmkzFFMI-t0cI-ms9odXsYEdZetyolxyPQ2e8R_3DqAL5NYFQRLmWC84-xVo6o5vuWojKJPBYdK-C0oyULQ", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:f05e3d20-7962-4f0c-851c-12eafb901dae", "scope": "openid profile", "refresh_token": "ikPX8y04cHoz1loVzKtPR+rCrUs3IDD84RkJ1u5oI/N1L6gwtdmqSFSBpdJ+1pLb"}
2013-09-12 08:20:35,912 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:20:35,914 rp.openidconnect:ERROR 
2013-09-12 08:20:35,916 rp:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/__init__.py", line 60, in callback\n    result = self.phaseN(environ, query, server_env, session)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 227, in phaseN\n    tokenresp = self.get_accesstoken(client, authresp)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 191, in get_accesstoken\n    **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oic/__init__.py", line 470, in do_access_token_request\n    authn_method, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 912, in do_access_token_request\n    http_args=http_args, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 857, in request_and_return\n    state, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 774, in parse_response\n    raise err\n', 'BadSignature\n']
2013-09-12 08:20:36,184 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:20:36,185 root:INFO [static]sending: static/style.css
2013-09-12 08:20:36,199 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:20:36,200 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:20:40,325 root:INFO [static]sending: static/style.css
2013-09-12 08:20:40,325 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:20:40,328 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:20:40,329 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:20:42,420 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 08:20:42,420 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45790>, 'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'scope': ['openid', 'profile'], 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'pyoidcOIC', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'opKey': 'pyoidcOICDyn'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x106d457d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45790>, 'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'scope': ['openid', 'profile'], 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'pyoidcOIC', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'opKey': 'pyoidcOICDyn'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x106d457d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICStatic': <oic.oic.Client object at 0x106c93650>, 'pyoidcOICDyn': <oic.oic.Client object at 0x106d4f9d0>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x106d456d0>, 'PORT': 8666}
2013-09-12 08:20:44,421 rp.openidconnect:DEBUG Static client: {'pyoidcOICStatic': <oic.oic.Client object at 0x106c93650>, 'pyoidcOICDyn': <oic.oic.Client object at 0x106d4f9d0>}
2013-09-12 08:20:44,422 rp.openidconnect:INFO client args: [('registration_endpoint', ''), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:b1cbc393-ba32-4883-8f9a-3cedae5380c8': <oic.oic.Grant object at 0x106d80550>, 'urn:uuid:67cf9167-e61c-419f-a5f6-f524894ac000': <oic.oic.Grant object at 0x106d88bd0>, 'urn:uuid:f05e3d20-7962-4f0c-851c-12eafb901dae': <oic.oic.Grant object at 0x106d809d0>, 'urn:uuid:b9e9a60c-3bbf-4e1b-a3ce-6df23604c6cd': <oic.oic.Grant object at 0x105170fd0>, 'urn:uuid:5668b619-6a39-4117-9700-a8509d185efa': <oic.oic.Grant object at 0x106d888d0>}), ('refresh_session_endpoint', ''), ('token_endpoint', 'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:35b751f1-3c93-4869-996f-f617a490b856'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x106c930d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICStatic']), ('id_token', None), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', 'VJNL62bPdOnn'), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', 'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x106c93110>), ('client_prefs', {}), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', 'https://localhost:8092/authorization')]
2013-09-12 08:20:44,422 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:35b751f1-3c93-4869-996f-f617a490b856', 'response_type': 'code'}
2013-09-12 08:20:44,424 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A35b751f1-3c93-4869-996f-f617a490b856&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 08:20:44,426 rp.openidconnect:DEBUG body: None
2013-09-12 08:20:44,426 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A35b751f1-3c93-4869-996f-f617a490b856&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 08:20:44,426 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 08:20:44,427 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A35b751f1-3c93-4869-996f-f617a490b856&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn')]
2013-09-12 08:20:44,465 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x106d45710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A35b751f1-3c93-4869-996f-f617a490b856&code=T%2BIpr%2Fi2kyibwFanWrGbc3RSIjewMkJ9KMD%2BwRAG7rJu02L7GdfF3o2ZjJd16n0S', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50863', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x106d88790>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x106c93650>, '_accessed_time': 1378966844.464506, 'service': u'https://localhost:8092/', '_creation_time': 1378966107.067584}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&state=urn%3Auuid%3A35b751f1-3c93-4869-996f-f617a490b856&code=T%2BIpr%2Fi2kyibwFanWrGbc3RSIjewMkJ9KMD%2BwRAG7rJu02L7GdfF3o2ZjJd16n0S', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1050c5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:20:44,465 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:35b751f1-3c93-4869-996f-f617a490b856'], 'code': ['T+Ipr/i2kyibwFanWrGbc3RSIjewMkJ9KMD+wRAG7rJu02L7GdfF3o2ZjJd16n0S']}
2013-09-12 08:20:46,007 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:35b751f1-3c93-4869-996f-f617a490b856'], 'code': ['T+Ipr/i2kyibwFanWrGbc3RSIjewMkJ9KMD+wRAG7rJu02L7GdfF3o2ZjJd16n0S']}
2013-09-12 08:20:46,008 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}']}
2013-09-12 08:24:43,511 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x106d45710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A35b751f1-3c93-4869-996f-f617a490b856&code=T%2BIpr%2Fi2kyibwFanWrGbc3RSIjewMkJ9KMD%2BwRAG7rJu02L7GdfF3o2ZjJd16n0S', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50863', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x106d88790>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x106c93650>, '_accessed_time': 1378966844.464506, 'service': u'https://localhost:8092/', '_creation_time': 1378966107.067584}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&state=urn%3Auuid%3A35b751f1-3c93-4869-996f-f617a490b856&code=T%2BIpr%2Fi2kyibwFanWrGbc3RSIjewMkJ9KMD%2BwRAG7rJu02L7GdfF3o2ZjJd16n0S', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1050c5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:25:01,756 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=T%2BIpr%2Fi2kyibwFanWrGbc3RSIjewMkJ9KMD%2BwRAG7rJu02L7GdfF3o2ZjJd16n0S&client_secret=1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1&grant_type=authorization_code&client_id=VJNL62bPdOnn&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic
2013-09-12 08:25:02,166 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 08:25:05,630 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:25:05,666 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 08:25:05,668 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:25:05,668 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 06:25:05 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 08:25:05,669 oic.oauth2:DEBUG resp.txt: {"access_token": "T+Ipr/i2kyibwFanWrGbcxMtNy1oeUJW6lFn5tS42KaRtgN3DgrqrEi7E4tpRCq+", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIlZKTkw2MmJQZE9ubiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA0NjMwNSwgImlhdCI6IDEzNzg5NjcxMDUsICJzdWIiOiAiaGFobzAwMzIifQ.I2UZTgxwzpnTy71wlMJnEUjeg_KQE6saOYkePwoOiYe84ginsXtmwNRy9_MojQaZwxZZ1kG_Q2I-46YWSTI-OMz3PH4GDi6wZLtiN83m1bMGQ3T2cKeTsi0YkkGoA3OPtDR6yOJUVDyqzBA4yjgYVMQvZgWY6E1ad6HhTRz8QNYdWG6NtiSpUTaMrS34GStt0KifrRMsEpUp6GCitMVzJgsb-VC6vUaMlaGYux4fn--imYIDp8MHr7Gt_BSLGZubmsHS5bEBOH7fNnv1m_rHowTX7-xAA0vttbeq3h4eWy7Y1OuFJEu7BWkFx_-lCwZjSTH0G64UsfRP6L4qI3NL1w", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:35b751f1-3c93-4869-996f-f617a490b856", "scope": "openid profile", "refresh_token": "T+Ipr/i2kyibwFanWrGbc2Tvoocd5s7CXeqjCBtfWKbVobiQGx0jwPFqwNQqRZR5"}
2013-09-12 08:25:44,749 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:25:51,750 rp.openidconnect:ERROR 
2013-09-12 08:25:51,751 rp:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/__init__.py", line 60, in callback\n    result = self.phaseN(environ, query, server_env, session)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 227, in phaseN\n    tokenresp = self.get_accesstoken(client, authresp)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 191, in get_accesstoken\n    **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oic/__init__.py", line 470, in do_access_token_request\n    authn_method, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 912, in do_access_token_request\n    http_args=http_args, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 857, in request_and_return\n    state, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 774, in parse_response\n    raise err\n', 'BadSignature\n']
2013-09-12 08:25:52,032 root:INFO [static]sending: static/style.css
2013-09-12 08:25:52,033 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:25:52,039 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:25:52,040 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:25:56,744 root:INFO [static]sending: static/style.css
2013-09-12 08:25:56,747 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:25:56,748 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:25:56,749 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:25:59,231 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 08:25:59,232 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45790>, 'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'scope': ['openid', 'profile'], 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'pyoidcOIC', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'opKey': 'pyoidcOICDyn'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x106d457d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45790>, 'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'scope': ['openid', 'profile'], 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'pyoidcOIC', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'opKey': 'pyoidcOICDyn'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x106d457d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICStatic': <oic.oic.Client object at 0x106c93650>, 'pyoidcOICDyn': <oic.oic.Client object at 0x106d4f9d0>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x106d456d0>, 'PORT': 8666}
2013-09-12 08:25:59,233 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x106d4f910>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:1a08d139-cdb2-45f0-95aa-e2e66733872f': <oic.oic.Grant object at 0x106d8dad0>, 'urn:uuid:854d6688-a237-4c22-bfed-6b60639d2934': <oic.oic.Grant object at 0x106c89f50>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:8251dca7-eed0-45f0-9695-9bacde83db6e'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'0071817186e75226260035058abb1d43b731cd79dfdaa34ae8cd3fc9'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x106d4f750>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICDyn']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x105170ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'2cZ9lwh533xy'), ('registration_expires', 1379048909), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x106d4f8d0>), ('client_prefs', {}), ('registration_access_token', u'1PIyEH1uxkmQ6E9bVQWLzf3c1VSLrGo7'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 08:25:59,233 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:8251dca7-eed0-45f0-9695-9bacde83db6e', 'response_type': 'code'}
2013-09-12 08:25:59,237 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A8251dca7-eed0-45f0-9695-9bacde83db6e&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=2cZ9lwh533xy
2013-09-12 08:25:59,239 rp.openidconnect:DEBUG body: None
2013-09-12 08:25:59,239 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A8251dca7-eed0-45f0-9695-9bacde83db6e&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=2cZ9lwh533xy
2013-09-12 08:25:59,239 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 08:25:59,240 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A8251dca7-eed0-45f0-9695-9bacde83db6e&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=2cZ9lwh533xy')]
2013-09-12 08:25:59,289 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x106d45710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A8251dca7-eed0-45f0-9695-9bacde83db6e&code=O2ENsieMW0HCil9MV12JBciMB6XLEuj8cHoDEmmso6E87Gd0Z%2FwN331LKpJ9EUIr', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50892', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x106d88610>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x106d4f9d0>, '_accessed_time': 1378967159.288149, 'service': u'https://localhost:8092/', '_creation_time': 1378966107.067584}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3A8251dca7-eed0-45f0-9695-9bacde83db6e&code=O2ENsieMW0HCil9MV12JBciMB6XLEuj8cHoDEmmso6E87Gd0Z%2FwN331LKpJ9EUIr', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1050c5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:25:59,289 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:8251dca7-eed0-45f0-9695-9bacde83db6e'], 'code': ['O2ENsieMW0HCil9MV12JBciMB6XLEuj8cHoDEmmso6E87Gd0Z/wN331LKpJ9EUIr']}
2013-09-12 08:26:02,426 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:8251dca7-eed0-45f0-9695-9bacde83db6e'], 'code': ['O2ENsieMW0HCil9MV12JBciMB6XLEuj8cHoDEmmso6E87Gd0Z/wN331LKpJ9EUIr']}
2013-09-12 08:26:02,431 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:26:02,457 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-12 08:26:02,461 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 08:26:06,095 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x106d45710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A8251dca7-eed0-45f0-9695-9bacde83db6e&code=O2ENsieMW0HCil9MV12JBciMB6XLEuj8cHoDEmmso6E87Gd0Z%2FwN331LKpJ9EUIr', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50892', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x106d88610>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x106d4f9d0>, '_accessed_time': 1378967159.288149, 'service': u'https://localhost:8092/', '_creation_time': 1378966107.067584}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3A8251dca7-eed0-45f0-9695-9bacde83db6e&code=O2ENsieMW0HCil9MV12JBciMB6XLEuj8cHoDEmmso6E87Gd0Z%2FwN331LKpJ9EUIr', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1050c5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:26:08,994 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x106d8af80>]
2013-09-12 08:26:10,877 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=O2ENsieMW0HCil9MV12JBciMB6XLEuj8cHoDEmmso6E87Gd0Z%2FwN331LKpJ9EUIr&client_secret=0071817186e75226260035058abb1d43b731cd79dfdaa34ae8cd3fc9&grant_type=authorization_code&client_id=2cZ9lwh533xy&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn
2013-09-12 08:26:10,878 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 08:26:11,645 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:26:11,681 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 08:26:11,683 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:26:11,683 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 06:26:11 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 08:26:11,684 oic.oauth2:DEBUG resp.txt: {"access_token": "O2ENsieMW0HCil9MV12JBafZk9n0Lhax1Db6xp3abJPcNI7VmdPTCA1z/4G6SQQR", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIjJjWjlsd2g1MzN4eSJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA0NjM3MSwgImlhdCI6IDEzNzg5NjcxNzEsICJzdWIiOiAiaGFobzAwMzIifQ.ukKIQlQaG-Y_CLh8jwSeNqCVufGI7tYr5jwftIAFkCf-MxXV0_XBv7DNQvmc6Yunr7_POfipwVIXRBGr8WNh2M0T6F7aqkdUqWsHq1mXL9UUoXKWalF_3MMV_9cQPC9nk60i4XbJTCvn0e1DELUB-166KZmSlzhPNsqLZWB3ayuJ_2k76WXurKeKb6g0hXLEGyDZfyA7DmXILMjMswt2dAYAK5oe6kfv145ALMz76uxD0sqVrfK2vsUuXnC6qBZEckv9Ea1JjDquK_0eBoPusRGPwb_ZoFLbs4QSHciIOO_uMrDwEunBKAY93nIed1Xtr64QJHXRC2tue1q6Oq08Tw", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:8251dca7-eed0-45f0-9695-9bacde83db6e", "scope": "openid profile", "refresh_token": "O2ENsieMW0HCil9MV12JBXrgYs+6NYag8xYwMJcvj8kbNprLWKOWG38KpvIrWWre"}
2013-09-12 08:26:26,984 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:26:26,986 rp.openidconnect:ERROR 
2013-09-12 08:26:26,987 rp:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/__init__.py", line 60, in callback\n    result = self.phaseN(environ, query, server_env, session)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 227, in phaseN\n    tokenresp = self.get_accesstoken(client, authresp)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 191, in get_accesstoken\n    **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oic/__init__.py", line 470, in do_access_token_request\n    authn_method, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 912, in do_access_token_request\n    http_args=http_args, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 857, in request_and_return\n    state, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 774, in parse_response\n    raise err\n', 'BadSignature\n']
2013-09-12 08:26:27,247 root:INFO [static]sending: static/style.css
2013-09-12 08:26:27,248 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:26:27,252 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:26:27,256 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:26:34,664 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:26:34,665 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:26:34,668 root:INFO [static]sending: static/style.css
2013-09-12 08:26:34,669 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:26:36,393 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 08:26:36,394 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45790>, 'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'scope': ['openid', 'profile'], 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'pyoidcOIC', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'opKey': 'pyoidcOICDyn'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x106d457d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45790>, 'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'scope': ['openid', 'profile'], 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'pyoidcOIC', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'opKey': 'pyoidcOICDyn'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x106d457d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICStatic': <oic.oic.Client object at 0x106c93650>, 'pyoidcOICDyn': <oic.oic.Client object at 0x106d4f9d0>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x106d456d0>, 'PORT': 8666}
2013-09-12 08:26:36,394 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x106d4f910>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:1a08d139-cdb2-45f0-95aa-e2e66733872f': <oic.oic.Grant object at 0x106d8dad0>, 'urn:uuid:8251dca7-eed0-45f0-9695-9bacde83db6e': <oic.oic.Grant object at 0x106d80c90>, 'urn:uuid:854d6688-a237-4c22-bfed-6b60639d2934': <oic.oic.Grant object at 0x106c89f50>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:187e48d2-69fe-43a0-8781-7b759fc0be98'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'0071817186e75226260035058abb1d43b731cd79dfdaa34ae8cd3fc9'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x106d4f750>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICDyn']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x105170ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'2cZ9lwh533xy'), ('registration_expires', 1379048909), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x106d4f8d0>), ('client_prefs', {}), ('registration_access_token', u'1PIyEH1uxkmQ6E9bVQWLzf3c1VSLrGo7'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 08:26:36,395 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:187e48d2-69fe-43a0-8781-7b759fc0be98', 'response_type': 'code'}
2013-09-12 08:26:36,399 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A187e48d2-69fe-43a0-8781-7b759fc0be98&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=2cZ9lwh533xy
2013-09-12 08:26:36,401 rp.openidconnect:DEBUG body: None
2013-09-12 08:26:36,401 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A187e48d2-69fe-43a0-8781-7b759fc0be98&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=2cZ9lwh533xy
2013-09-12 08:26:36,401 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 08:26:36,402 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A187e48d2-69fe-43a0-8781-7b759fc0be98&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=2cZ9lwh533xy')]
2013-09-12 08:26:36,439 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x106d45710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A187e48d2-69fe-43a0-8781-7b759fc0be98&code=JaCjSLfBaEpevyfPT7NkvR%2Bnb57gigI%2FGZApFi9al%2BcQopR4yiXXn%2FBtzIirswoH', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50906', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x106d88a50>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x106d4f9d0>, '_accessed_time': 1378967196.438575, 'service': u'https://localhost:8092/', '_creation_time': 1378966107.067584}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3A187e48d2-69fe-43a0-8781-7b759fc0be98&code=JaCjSLfBaEpevyfPT7NkvR%2Bnb57gigI%2FGZApFi9al%2BcQopR4yiXXn%2FBtzIirswoH', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1050c5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:26:36,439 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:187e48d2-69fe-43a0-8781-7b759fc0be98'], 'code': ['JaCjSLfBaEpevyfPT7NkvR+nb57gigI/GZApFi9al+cQopR4yiXXn/BtzIirswoH']}
2013-09-12 08:26:38,890 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:187e48d2-69fe-43a0-8781-7b759fc0be98'], 'code': ['JaCjSLfBaEpevyfPT7NkvR+nb57gigI/GZApFi9al+cQopR4yiXXn/BtzIirswoH']}
2013-09-12 08:26:38,891 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 08:26:39,855 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x106d45710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A187e48d2-69fe-43a0-8781-7b759fc0be98&code=JaCjSLfBaEpevyfPT7NkvR%2Bnb57gigI%2FGZApFi9al%2BcQopR4yiXXn%2FBtzIirswoH', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50906', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x106d88a50>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x106d4f9d0>, '_accessed_time': 1378967196.438575, 'service': u'https://localhost:8092/', '_creation_time': 1378966107.067584}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3A187e48d2-69fe-43a0-8781-7b759fc0be98&code=JaCjSLfBaEpevyfPT7NkvR%2Bnb57gigI%2FGZApFi9al%2BcQopR4yiXXn%2FBtzIirswoH', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1050c5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:26:40,254 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x106d8af80>]
2013-09-12 08:26:40,615 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=JaCjSLfBaEpevyfPT7NkvR%2Bnb57gigI%2FGZApFi9al%2BcQopR4yiXXn%2FBtzIirswoH&client_secret=0071817186e75226260035058abb1d43b731cd79dfdaa34ae8cd3fc9&grant_type=authorization_code&client_id=2cZ9lwh533xy&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn
2013-09-12 08:26:40,615 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 08:26:40,820 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:26:40,855 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 08:26:40,857 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:26:40,858 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 06:26:40 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 08:26:40,858 oic.oauth2:DEBUG resp.txt: {"access_token": "JaCjSLfBaEpevyfPT7NkvfLRrCFcxhg4ATquJ7vYDRVaaalB+2L5i65hV4vtcrUf", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIjJjWjlsd2g1MzN4eSJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA0NjQwMCwgImlhdCI6IDEzNzg5NjcyMDAsICJzdWIiOiAiaGFobzAwMzIifQ.M_1octhKXXy-wwBzaqH-XIPXsA_sjYNqAwC14Ntq0q9_lTg6uh2o7jJpx-d1Eo3MlLTOt9X_N2Zf1ZiswYbGoJhxw60q58v490F1jDIbDkx3a2f8m1uTwaecDcRxT2ygbPqGBrKU0ojrn3CKQFRAAocUp8wpJa49NuMTqHWJRNW0nnX7X7NFfA5MwokaMOzrGYYymvExeXUiuiezAOFE3muLVYPznpXI7iqwp4gQXoRqe_MvtsKrltc0W4gRv135RetT82nVEhzdDLypMsyjFn4hUXghWp0uqDdU-GQk1lJfKscaBBi4BWcZkhTLcZXcGplVaWLolQ8VWaDuGIT2qQ", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:187e48d2-69fe-43a0-8781-7b759fc0be98", "scope": "openid profile", "refresh_token": "JaCjSLfBaEpevyfPT7NkvWOptLqMp0iWwTIsIHgyCruofsM5HbktAmEKqtaRqxvA"}
2013-09-12 08:26:41,971 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:26:41,973 rp.openidconnect:ERROR 
2013-09-12 08:26:41,974 rp:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/__init__.py", line 60, in callback\n    result = self.phaseN(environ, query, server_env, session)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 227, in phaseN\n    tokenresp = self.get_accesstoken(client, authresp)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 191, in get_accesstoken\n    **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oic/__init__.py", line 470, in do_access_token_request\n    authn_method, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 912, in do_access_token_request\n    http_args=http_args, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 857, in request_and_return\n    state, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 774, in parse_response\n    raise err\n', 'BadSignature\n']
2013-09-12 08:26:42,248 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:26:42,252 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:26:42,254 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:26:42,256 root:INFO [static]sending: static/style.css
2013-09-12 08:26:50,626 root:INFO [static]sending: static/style.css
2013-09-12 08:26:50,627 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:26:50,631 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:26:50,632 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:26:52,403 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 08:26:52,404 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45790>, 'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'scope': ['openid', 'profile'], 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'pyoidcOIC', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'opKey': 'pyoidcOICDyn'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x106d457d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'instance': <rp.pyoidc.pyoidcOIC object at 0x106d45790>, 'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'scope': ['openid', 'profile'], 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'pyoidcOIC', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'opKey': 'pyoidcOICDyn'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x106d457d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICStatic': <oic.oic.Client object at 0x106c93650>, 'pyoidcOICDyn': <oic.oic.Client object at 0x106d4f9d0>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x106d456d0>, 'PORT': 8666}
2013-09-12 08:26:52,405 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x106d4f910>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:1a08d139-cdb2-45f0-95aa-e2e66733872f': <oic.oic.Grant object at 0x106d8dad0>, 'urn:uuid:8251dca7-eed0-45f0-9695-9bacde83db6e': <oic.oic.Grant object at 0x106d80c90>, 'urn:uuid:854d6688-a237-4c22-bfed-6b60639d2934': <oic.oic.Grant object at 0x106c89f50>, 'urn:uuid:187e48d2-69fe-43a0-8781-7b759fc0be98': <oic.oic.Grant object at 0x106d8da90>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:ff1562fa-9cb0-4d37-afd6-d55a4503cc1a'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'0071817186e75226260035058abb1d43b731cd79dfdaa34ae8cd3fc9'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x106d4f750>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICDyn']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x105170ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'2cZ9lwh533xy'), ('registration_expires', 1379048909), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x106d4f8d0>), ('client_prefs', {}), ('registration_access_token', u'1PIyEH1uxkmQ6E9bVQWLzf3c1VSLrGo7'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 08:26:52,405 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:ff1562fa-9cb0-4d37-afd6-d55a4503cc1a', 'response_type': 'code'}
2013-09-12 08:26:52,409 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Aff1562fa-9cb0-4d37-afd6-d55a4503cc1a&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=2cZ9lwh533xy
2013-09-12 08:26:52,411 rp.openidconnect:DEBUG body: None
2013-09-12 08:26:52,412 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Aff1562fa-9cb0-4d37-afd6-d55a4503cc1a&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=2cZ9lwh533xy
2013-09-12 08:26:52,412 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 08:26:52,413 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Aff1562fa-9cb0-4d37-afd6-d55a4503cc1a&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=2cZ9lwh533xy')]
2013-09-12 08:26:52,448 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x106d45710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Aff1562fa-9cb0-4d37-afd6-d55a4503cc1a&code=%2FSdLYlYoAfbfAt6X%2By6zM3Yo7XkuW%2B0vbKU%2FYMR%2FjRgPmvqWnLVE5qifqAFqVM9f', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50913', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x106d8df10>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x106d4f9d0>, '_accessed_time': 1378967212.447333, 'service': u'https://localhost:8092/', '_creation_time': 1378966107.067584}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3Aff1562fa-9cb0-4d37-afd6-d55a4503cc1a&code=%2FSdLYlYoAfbfAt6X%2By6zM3Yo7XkuW%2B0vbKU%2FYMR%2FjRgPmvqWnLVE5qifqAFqVM9f', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1050c5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:26:52,448 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:ff1562fa-9cb0-4d37-afd6-d55a4503cc1a'], 'code': ['/SdLYlYoAfbfAt6X+y6zM3Yo7XkuW+0vbKU/YMR/jRgPmvqWnLVE5qifqAFqVM9f']}
2013-09-12 08:26:55,188 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:ff1562fa-9cb0-4d37-afd6-d55a4503cc1a'], 'code': ['/SdLYlYoAfbfAt6X+y6zM3Yo7XkuW+0vbKU/YMR/jRgPmvqWnLVE5qifqAFqVM9f']}
2013-09-12 08:26:55,189 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 08:26:56,082 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x106d45710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Aff1562fa-9cb0-4d37-afd6-d55a4503cc1a&code=%2FSdLYlYoAfbfAt6X%2By6zM3Yo7XkuW%2B0vbKU%2FYMR%2FjRgPmvqWnLVE5qifqAFqVM9f', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50913', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x106d8df10>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x106d4f9d0>, '_accessed_time': 1378967212.447333, 'service': u'https://localhost:8092/', '_creation_time': 1378966107.067584}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3Aff1562fa-9cb0-4d37-afd6-d55a4503cc1a&code=%2FSdLYlYoAfbfAt6X%2By6zM3Yo7XkuW%2B0vbKU%2FYMR%2FjRgPmvqWnLVE5qifqAFqVM9f', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1050c5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:26:56,494 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x106d8af80>]
2013-09-12 08:26:56,978 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=%2FSdLYlYoAfbfAt6X%2By6zM3Yo7XkuW%2B0vbKU%2FYMR%2FjRgPmvqWnLVE5qifqAFqVM9f&client_secret=0071817186e75226260035058abb1d43b731cd79dfdaa34ae8cd3fc9&grant_type=authorization_code&client_id=2cZ9lwh533xy&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn
2013-09-12 08:26:56,979 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 08:26:57,253 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:26:57,287 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 08:26:57,289 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:26:57,290 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 06:26:57 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 08:26:57,290 oic.oauth2:DEBUG resp.txt: {"access_token": "/SdLYlYoAfbfAt6X+y6zMzHs1UvJ5xhwFqVLGvP9khqJMUrNuuyUUHRfDV1V0HAb", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIjJjWjlsd2g1MzN4eSJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA0NjQxNywgImlhdCI6IDEzNzg5NjcyMTcsICJzdWIiOiAiaGFobzAwMzIifQ.u_FT57f4IV5sWNfWFTMkRZVfYNxokkbzvaoFlcCsu7N3vfcq_FBhoDZOLJMLDfWuZuCmTNO_OnJmmAqgvrk9GrQkFuLbJQDFNSmJPhwOFlmHnRsRC6s8TE9FfnEOWY04wTVb4gh9ZRapsEadtlN1Fj4maCezfaUUi8nto1OqKHs9VPOd7MGotwHLObc5_vRKOE4BXcHpR0bXRt2vcs4i4ZXAOANXZ_hh-n1qv9mVgFHkRzni1SFGnMZeICuU-iZfntRML8B8p5tmeLvCY7jdwCglj3blVSpQh0EfHKEy2V3wvM5ASQQ4OBQZXRVhp-6MCMC_z-6U_ttTdC8yNq9YGg", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:ff1562fa-9cb0-4d37-afd6-d55a4503cc1a", "scope": "openid profile", "refresh_token": "/SdLYlYoAfbfAt6X+y6zM8+pZ8u4T3fSb3JMhyFB918uATbtchNKRuh/F7d8FMZ5"}
2013-09-12 08:26:58,053 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:26:58,055 rp.openidconnect:ERROR 
2013-09-12 08:26:58,056 rp:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/__init__.py", line 60, in callback\n    result = self.phaseN(environ, query, server_env, session)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 227, in phaseN\n    tokenresp = self.get_accesstoken(client, authresp)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 191, in get_accesstoken\n    **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oic/__init__.py", line 470, in do_access_token_request\n    authn_method, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 912, in do_access_token_request\n    http_args=http_args, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 857, in request_and_return\n    state, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 774, in parse_response\n    raise err\n', 'BadSignature\n']
2013-09-12 08:26:58,352 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:26:58,354 root:INFO [static]sending: static/style.css
2013-09-12 08:26:58,356 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:26:58,361 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:27:07,158 root:INFO RP server starting listening on port:8666
2013-09-12 08:27:10,182 root:INFO RP server starting listening on port:8666
2013-09-12 08:27:18,753 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:27:18,757 root:INFO [static]sending: static/style.css
2013-09-12 08:27:18,758 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:27:18,759 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:27:20,210 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 08:27:20,211 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10dfc5750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'instance': <rp.pyoidc.pyoidcOIC object at 0x10dfc5790>, 'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'scope': ['openid', 'profile'], 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'pyoidcOIC', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'opKey': 'pyoidcOICDyn'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10dfc57d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10dfc5750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'instance': <rp.pyoidc.pyoidcOIC object at 0x10dfc5790>, 'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'scope': ['openid', 'profile'], 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'pyoidcOIC', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'opKey': 'pyoidcOICDyn'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10dfc57d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10dfc56d0>, 'PORT': 8666}
2013-09-12 08:27:20,231 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:27:20,271 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-12 08:27:20,273 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:27:20,299 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-12 08:27:20,305 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 08:27:20,310 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 08:27:20,310 rp.openidconnect:DEBUG Registering RP
2013-09-12 08:27:20,319 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:27:20,348 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-12 08:27:20,350 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:27:20,355 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378963640&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DZhlUXlgB7Gfp&registration_access_token=ZGrh5f3ZuRMtUwMOC0Ob6EfGSdJ9p1wi&client_id=ZhlUXlgB7Gfp&client_secret=35207efd9f59c21113f09480bb2db99ad8aa4590b6b66e69d4923ecf&client_secret_expires_at=1379050040
2013-09-12 08:27:20,356 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10dfd0d90>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:8bd4f879-c5d4-47dc-8c49-0605fe2b44e7'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'35207efd9f59c21113f09480bb2db99ad8aa4590b6b66e69d4923ecf'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10dfd98d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICDyn']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10c42ead0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'ZhlUXlgB7Gfp'), ('registration_expires', 1379050040), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10dfd9910>), ('client_prefs', {}), ('registration_access_token', u'ZGrh5f3ZuRMtUwMOC0Ob6EfGSdJ9p1wi'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 08:27:20,357 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:8bd4f879-c5d4-47dc-8c49-0605fe2b44e7', 'response_type': 'code'}
2013-09-12 08:27:20,360 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A8bd4f879-c5d4-47dc-8c49-0605fe2b44e7&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=ZhlUXlgB7Gfp
2013-09-12 08:27:20,362 rp.openidconnect:DEBUG body: None
2013-09-12 08:27:20,362 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A8bd4f879-c5d4-47dc-8c49-0605fe2b44e7&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=ZhlUXlgB7Gfp
2013-09-12 08:27:20,363 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 08:27:20,363 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A8bd4f879-c5d4-47dc-8c49-0605fe2b44e7&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=ZhlUXlgB7Gfp')]
2013-09-12 08:27:33,511 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10dfc5710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'HTTP_ORIGIN': 'https://localhost:8092', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A8bd4f879-c5d4-47dc-8c49-0605fe2b44e7&code=OBAi7SAXsNeDpYUnyK0fQhpswbox%2BzboJkB2I2s2Y487zdKGoh9Y9q4nuAcPL%2FUK', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50940', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10dfd9fd0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10dfd9510>, '_accessed_time': 1378967253.511246, 'service': u'https://localhost:8092/', '_creation_time': 1378967238.490533}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3A8bd4f879-c5d4-47dc-8c49-0605fe2b44e7&code=OBAi7SAXsNeDpYUnyK0fQhpswbox%2BzboJkB2I2s2Y487zdKGoh9Y9q4nuAcPL%2FUK', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10c382270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate'}
2013-09-12 08:27:33,512 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:8bd4f879-c5d4-47dc-8c49-0605fe2b44e7'], 'code': ['OBAi7SAXsNeDpYUnyK0fQhpswbox+zboJkB2I2s2Y487zdKGoh9Y9q4nuAcPL/UK']}
2013-09-12 08:27:37,914 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:8bd4f879-c5d4-47dc-8c49-0605fe2b44e7'], 'code': ['OBAi7SAXsNeDpYUnyK0fQhpswbox+zboJkB2I2s2Y487zdKGoh9Y9q4nuAcPL/UK']}
2013-09-12 08:27:37,919 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:27:37,946 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-12 08:27:37,951 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 08:27:38,973 rp.openidconnect:DEBUG callback environ: {'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10dfc5710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'HTTP_ORIGIN': 'https://localhost:8092', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A8bd4f879-c5d4-47dc-8c49-0605fe2b44e7&code=OBAi7SAXsNeDpYUnyK0fQhpswbox%2BzboJkB2I2s2Y487zdKGoh9Y9q4nuAcPL%2FUK', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50940', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10dfd9fd0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10dfd9510>, '_accessed_time': 1378967253.511246, 'service': u'https://localhost:8092/', '_creation_time': 1378967238.490533}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3A8bd4f879-c5d4-47dc-8c49-0605fe2b44e7&code=OBAi7SAXsNeDpYUnyK0fQhpswbox%2BzboJkB2I2s2Y487zdKGoh9Y9q4nuAcPL%2FUK', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10c382270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate'}
2013-09-12 08:27:39,344 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10df55908>]
2013-09-12 08:27:39,738 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=OBAi7SAXsNeDpYUnyK0fQhpswbox%2BzboJkB2I2s2Y487zdKGoh9Y9q4nuAcPL%2FUK&client_secret=35207efd9f59c21113f09480bb2db99ad8aa4590b6b66e69d4923ecf&grant_type=authorization_code&client_id=ZhlUXlgB7Gfp&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn
2013-09-12 08:27:39,739 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 08:27:40,135 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:27:40,172 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 08:27:40,174 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:27:40,175 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 06:27:40 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 08:27:40,175 oic.oauth2:DEBUG resp.txt: {"access_token": "OBAi7SAXsNeDpYUnyK0fQkbKhrlaD8MujNL+nfcYAjFb6VtibC6hL/hyYYKns+i6", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIlpobFVYbGdCN0dmcCJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA0NjQ2MCwgImlhdCI6IDEzNzg5NjcyNjAsICJzdWIiOiAiaGFobzAwMzIifQ.grz865bfaXiM_YKJM551lxCcvTSanfxWknT1JNxJqFQmWoRIXFsxDM6n7bQBovnY4mesEXfRW6rGd8hZge1omdt4jHFNG4ebt2TjGZ3SWkhK5aIklQfFPmdfiSG0af5tTwULUgiExprVXlCWpVDlbajdXZdfkgNgi-Et8l1iP5Edb2M40Oc-t7Sq6u6pD_VH1VqWo9MSPgn5jEDpdrGfTwfu2qZjfhF6H6LYFUHywyK8WIWHzlXjx3CxjLmjpq38DVzH4nOMOPiPLHwImJ5BB6sRUaKvHlTDxabM14QsAeiDAj4M4z5DExyxPJLMNsNl0IYnAq9ND6GyD_V9Afn6iA", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:8bd4f879-c5d4-47dc-8c49-0605fe2b44e7", "scope": "openid profile", "refresh_token": "OBAi7SAXsNeDpYUnyK0fQiyPw63GDUk7LS0GEVu3wvY92J/wfU67dwYhzE4rNP7s"}
2013-09-12 08:27:42,345 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:27:42,346 rp.openidconnect:ERROR 
2013-09-12 08:27:42,349 rp:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/__init__.py", line 60, in callback\n    result = self.phaseN(environ, query, server_env, session)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 227, in phaseN\n    tokenresp = self.get_accesstoken(client, authresp)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 191, in get_accesstoken\n    **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oic/__init__.py", line 470, in do_access_token_request\n    authn_method, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 912, in do_access_token_request\n    http_args=http_args, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 857, in request_and_return\n    state, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 774, in parse_response\n    raise err\n', 'BadSignature\n']
2013-09-12 08:27:42,602 root:INFO [static]sending: static/style.css
2013-09-12 08:27:42,605 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:27:42,606 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:27:42,610 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:27:55,612 root:INFO [static]sending: static/style.css
2013-09-12 08:27:55,619 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:27:55,620 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:27:55,621 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:27:57,853 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 08:27:57,854 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10dfc5750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'instance': <rp.pyoidc.pyoidcOIC object at 0x10dfc5790>, 'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'scope': ['openid', 'profile'], 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'pyoidcOIC', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'opKey': 'pyoidcOICDyn'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10dfc57d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10dfc5750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'instance': <rp.pyoidc.pyoidcOIC object at 0x10dfc5790>, 'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'scope': ['openid', 'profile'], 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'pyoidcOIC', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'opKey': 'pyoidcOICDyn'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10dfc57d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICDyn': <oic.oic.Client object at 0x10dfd9510>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10dfc56d0>, 'PORT': 8666}
2013-09-12 08:27:57,855 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10dfd0d90>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:8bd4f879-c5d4-47dc-8c49-0605fe2b44e7': <oic.oic.Grant object at 0x10df56450>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:7f25363b-291c-4869-a02d-984ac78100d2'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'35207efd9f59c21113f09480bb2db99ad8aa4590b6b66e69d4923ecf'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10dfd98d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICDyn']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10c42ead0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'ZhlUXlgB7Gfp'), ('registration_expires', 1379050040), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10dfd9910>), ('client_prefs', {}), ('registration_access_token', u'ZGrh5f3ZuRMtUwMOC0Ob6EfGSdJ9p1wi'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 08:27:57,856 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:7f25363b-291c-4869-a02d-984ac78100d2', 'response_type': 'code'}
2013-09-12 08:27:57,860 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A7f25363b-291c-4869-a02d-984ac78100d2&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=ZhlUXlgB7Gfp
2013-09-12 08:27:57,861 rp.openidconnect:DEBUG body: None
2013-09-12 08:27:57,862 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A7f25363b-291c-4869-a02d-984ac78100d2&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=ZhlUXlgB7Gfp
2013-09-12 08:27:57,862 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 08:27:57,863 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A7f25363b-291c-4869-a02d-984ac78100d2&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=ZhlUXlgB7Gfp')]
2013-09-12 08:27:57,900 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10dfc5710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A7f25363b-291c-4869-a02d-984ac78100d2&code=qAXfhnw6IUTRLL9i5ftbhlwN8b7Y0OFx8HnDArA9o3UzAOMznlDu6u9g7whNSt1z', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50955', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10df56090>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10dfd9510>, '_accessed_time': 1378967277.899873, 'service': u'https://localhost:8092/', '_creation_time': 1378967238.490533}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3A7f25363b-291c-4869-a02d-984ac78100d2&code=qAXfhnw6IUTRLL9i5ftbhlwN8b7Y0OFx8HnDArA9o3UzAOMznlDu6u9g7whNSt1z', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10c382270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:27:57,901 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:7f25363b-291c-4869-a02d-984ac78100d2'], 'code': ['qAXfhnw6IUTRLL9i5ftbhlwN8b7Y0OFx8HnDArA9o3UzAOMznlDu6u9g7whNSt1z']}
2013-09-12 08:28:03,051 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:7f25363b-291c-4869-a02d-984ac78100d2'], 'code': ['qAXfhnw6IUTRLL9i5ftbhlwN8b7Y0OFx8HnDArA9o3UzAOMznlDu6u9g7whNSt1z']}
2013-09-12 08:28:07,089 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 08:28:33,149 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10dfc5710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A7f25363b-291c-4869-a02d-984ac78100d2&code=qAXfhnw6IUTRLL9i5ftbhlwN8b7Y0OFx8HnDArA9o3UzAOMznlDu6u9g7whNSt1z', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50955', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10df56090>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10dfd9510>, '_accessed_time': 1378967277.899873, 'service': u'https://localhost:8092/', '_creation_time': 1378967238.490533}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3A7f25363b-291c-4869-a02d-984ac78100d2&code=qAXfhnw6IUTRLL9i5ftbhlwN8b7Y0OFx8HnDArA9o3UzAOMznlDu6u9g7whNSt1z', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10c382270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:28:38,178 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10df55908>]
2013-09-12 08:28:44,610 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=qAXfhnw6IUTRLL9i5ftbhlwN8b7Y0OFx8HnDArA9o3UzAOMznlDu6u9g7whNSt1z&client_secret=35207efd9f59c21113f09480bb2db99ad8aa4590b6b66e69d4923ecf&grant_type=authorization_code&client_id=ZhlUXlgB7Gfp&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn
2013-09-12 08:28:44,610 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 08:28:45,215 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:28:45,262 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 08:28:45,264 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:28:45,264 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 06:28:45 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 08:28:45,265 oic.oauth2:DEBUG resp.txt: {"access_token": "qAXfhnw6IUTRLL9i5ftbhnEcMTZ9xXtfiLFqWLvcCP0/BhAM95LycIJb+RR/JCQw", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIlpobFVYbGdCN0dmcCJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA0NjUyNSwgImlhdCI6IDEzNzg5NjczMjUsICJzdWIiOiAiaGFobzAwMzIifQ.e3a6jaE7SSJvlZHIfMxBn4wIgzOaN_Ibjw4Hkg0KMPUlfgNOAJCMTi5Rspx6LCGgTXylV9WYar4pJr1XlWXpOfbjVKRu5XlIRvGcMZpe5IbWyjC2ix-rdpCJFDXRE-t9M6ubzptwlcdmFBfBy2msEBcHDEI_lZdnfyiU0WZU_Zrp_YjtjmIcyAdD7CEmRjQWKXpngX5QEVNoei1xNE_juciIbmH1IBmMRRTWkmM-EcAOkQcQ-Och26dYol-5swZ1E7FZWtqByt7zAgnK0n95Di4OSZSi2AwZwCBpdGnhWU7Sn-dAWbDpJX93QDp5W-xty0ZhcKwlA2bq0pOUX19itQ", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:7f25363b-291c-4869-a02d-984ac78100d2", "scope": "openid profile", "refresh_token": "qAXfhnw6IUTRLL9i5ftbhh3nhQRV704KXltrmEDGkElcFzgTVXvP9sSv7a1la/jU"}
2013-09-12 08:28:48,051 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:28:48,052 rp.openidconnect:ERROR 
2013-09-12 08:28:48,053 rp:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/__init__.py", line 60, in callback\n    result = self.phaseN(environ, query, server_env, session)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 227, in phaseN\n    tokenresp = self.get_accesstoken(client, authresp)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 191, in get_accesstoken\n    **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oic/__init__.py", line 470, in do_access_token_request\n    authn_method, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 912, in do_access_token_request\n    http_args=http_args, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 857, in request_and_return\n    state, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 774, in parse_response\n    raise err\n', 'BadSignature\n']
2013-09-12 08:28:48,344 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:28:48,347 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:28:48,348 root:INFO [static]sending: static/style.css
2013-09-12 08:28:48,352 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:29:05,066 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:29:05,070 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:29:05,071 root:INFO [static]sending: static/style.css
2013-09-12 08:29:05,075 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:29:06,271 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 08:29:06,272 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10dfc5750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'instance': <rp.pyoidc.pyoidcOIC object at 0x10dfc5790>, 'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'scope': ['openid', 'profile'], 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'pyoidcOIC', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'opKey': 'pyoidcOICDyn'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10dfc57d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10dfc5750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'instance': <rp.pyoidc.pyoidcOIC object at 0x10dfc5790>, 'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'scope': ['openid', 'profile'], 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'pyoidcOIC', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'opKey': 'pyoidcOICDyn'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10dfc57d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICDyn': <oic.oic.Client object at 0x10dfd9510>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10dfc56d0>, 'PORT': 8666}
2013-09-12 08:29:06,273 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10dfd0d90>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:8bd4f879-c5d4-47dc-8c49-0605fe2b44e7': <oic.oic.Grant object at 0x10df56450>, 'urn:uuid:7f25363b-291c-4869-a02d-984ac78100d2': <oic.oic.Grant object at 0x10dfe3710>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:4fd62090-e521-481e-ac30-2bb509f19750'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'35207efd9f59c21113f09480bb2db99ad8aa4590b6b66e69d4923ecf'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10dfd98d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICDyn']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10c42ead0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'ZhlUXlgB7Gfp'), ('registration_expires', 1379050040), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10dfd9910>), ('client_prefs', {}), ('registration_access_token', u'ZGrh5f3ZuRMtUwMOC0Ob6EfGSdJ9p1wi'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 08:29:06,273 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:4fd62090-e521-481e-ac30-2bb509f19750', 'response_type': 'code'}
2013-09-12 08:29:06,277 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A4fd62090-e521-481e-ac30-2bb509f19750&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=ZhlUXlgB7Gfp
2013-09-12 08:29:06,279 rp.openidconnect:DEBUG body: None
2013-09-12 08:29:06,279 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A4fd62090-e521-481e-ac30-2bb509f19750&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=ZhlUXlgB7Gfp
2013-09-12 08:29:06,280 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 08:29:06,280 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A4fd62090-e521-481e-ac30-2bb509f19750&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=ZhlUXlgB7Gfp')]
2013-09-12 08:29:06,329 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10dfc5710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A4fd62090-e521-481e-ac30-2bb509f19750&code=8SqoVJVtvkec2BLtEDE0thFLELcSSlrtv8h8RpJryNhAGSZNCzIyXx5Po40SAy7I', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50978', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10e004950>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10dfd9510>, '_accessed_time': 1378967346.328526, 'service': u'https://localhost:8092/', '_creation_time': 1378967238.490533}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3A4fd62090-e521-481e-ac30-2bb509f19750&code=8SqoVJVtvkec2BLtEDE0thFLELcSSlrtv8h8RpJryNhAGSZNCzIyXx5Po40SAy7I', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10c382270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:29:06,329 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:4fd62090-e521-481e-ac30-2bb509f19750'], 'code': ['8SqoVJVtvkec2BLtEDE0thFLELcSSlrtv8h8RpJryNhAGSZNCzIyXx5Po40SAy7I']}
2013-09-12 08:29:09,550 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:4fd62090-e521-481e-ac30-2bb509f19750'], 'code': ['8SqoVJVtvkec2BLtEDE0thFLELcSSlrtv8h8RpJryNhAGSZNCzIyXx5Po40SAy7I']}
2013-09-12 08:29:09,551 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 08:29:17,201 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10dfc5710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A4fd62090-e521-481e-ac30-2bb509f19750&code=8SqoVJVtvkec2BLtEDE0thFLELcSSlrtv8h8RpJryNhAGSZNCzIyXx5Po40SAy7I', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50978', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10e004950>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10dfd9510>, '_accessed_time': 1378967346.328526, 'service': u'https://localhost:8092/', '_creation_time': 1378967238.490533}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3A4fd62090-e521-481e-ac30-2bb509f19750&code=8SqoVJVtvkec2BLtEDE0thFLELcSSlrtv8h8RpJryNhAGSZNCzIyXx5Po40SAy7I', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10c382270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:29:18,839 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10df55908>]
2013-09-12 08:29:20,670 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=8SqoVJVtvkec2BLtEDE0thFLELcSSlrtv8h8RpJryNhAGSZNCzIyXx5Po40SAy7I&client_secret=35207efd9f59c21113f09480bb2db99ad8aa4590b6b66e69d4923ecf&grant_type=authorization_code&client_id=ZhlUXlgB7Gfp&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn
2013-09-12 08:29:20,671 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 08:29:21,507 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:29:21,542 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 08:29:21,544 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:29:21,544 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 06:29:21 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 08:29:21,545 oic.oauth2:DEBUG resp.txt: {"access_token": "8SqoVJVtvkec2BLtEDE0tnM5oP4DEy3ijt1rD5ZLZDEgIV5noWJh0NzljngJuN0I", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIlpobFVYbGdCN0dmcCJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA0NjU2MSwgImlhdCI6IDEzNzg5NjczNjEsICJzdWIiOiAiaGFobzAwMzIifQ.ZIzppaFt_JDfsyV7tTIKcKeTBZU_8xm7-P5OBcqOeusDTypMkQRbAU-2fopamP_qbXHZkpTcaNsxgxXg54MaqJRauENf9Cg7NV5S3SwKFNc9hs10byRk34GfU_7u2G1wLcJC0knsD9Axhb54_TVF7mzLIrnncSfS-6uhAIaahbyWRdv9ZZCRyOh4Xxr_kdDUixecKjnNFNfmX9jTDVDKVTFSONZBtc7g91lWg--vNzQSRdBNpSHuE9n8wHb2vQ-NPlhP0w1J9DnYDOFrNHQuaxavwtmrgMHXX1GxrGs4jkvRKlB-GnF_I0u17tfAngafUD-Kjh1RSO3DBz1fABtEPw", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:4fd62090-e521-481e-ac30-2bb509f19750", "scope": "openid profile", "refresh_token": "8SqoVJVtvkec2BLtEDE0ts6MCXMkmOHbsMpqGJa7zvhOxv4Qc9eorCJO0i2dE126"}
2013-09-12 08:29:35,638 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:30:52,825 root:INFO RP server starting listening on port:8666
2013-09-12 08:30:57,746 root:INFO [static]sending: static/style.css
2013-09-12 08:30:57,748 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:30:57,749 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:30:57,752 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:30:59,393 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:30:59,394 root:INFO [static]sending: static/style.css
2013-09-12 08:30:59,394 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:30:59,399 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:31:00,762 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 08:31:00,763 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10fd49710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'instance': <rp.pyoidc.pyoidcOIC object at 0x10fd49750>, 'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'scope': ['openid', 'profile'], 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'pyoidcOIC', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'opKey': 'pyoidcOICDyn'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10fd49790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10fd49710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'instance': <rp.pyoidc.pyoidcOIC object at 0x10fd49750>, 'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'scope': ['openid', 'profile'], 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'pyoidcOIC', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'opKey': 'pyoidcOICDyn'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10fd49790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10fd49690>, 'PORT': 8666}
2013-09-12 08:31:00,784 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:31:00,823 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-12 08:31:00,825 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:31:00,852 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-12 08:31:00,857 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 08:31:00,863 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 08:31:00,863 rp.openidconnect:DEBUG Registering RP
2013-09-12 08:31:00,872 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:31:00,900 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-12 08:31:00,902 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:31:00,907 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378963860&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DbsRlRs0jLd1I&registration_access_token=pFD0lls3rmO1CwGmOAZYRSnHjpqu0zpB&client_id=bsRlRs0jLd1I&client_secret=7da8672f635315521ad5f3e1a0510e3921f03616b31c9c4cb385ffc9&client_secret_expires_at=1379050260
2013-09-12 08:31:00,908 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10fd5bb10>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:17aefb7c-cc5e-4e46-9e78-6445850fe98a'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'7da8672f635315521ad5f3e1a0510e3921f03616b31c9c4cb385ffc9'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10fd63150>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICDyn']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10e1b1ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'bsRlRs0jLd1I'), ('registration_expires', 1379050260), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10fd63390>), ('client_prefs', {}), ('registration_access_token', u'pFD0lls3rmO1CwGmOAZYRSnHjpqu0zpB'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 08:31:00,909 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': None, 'response_type': 'code'}
2013-09-12 08:31:00,912 rp.openidconnect:DEBUG request: scope=openid+profile&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=bsRlRs0jLd1I
2013-09-12 08:31:00,914 rp.openidconnect:DEBUG body: None
2013-09-12 08:31:00,914 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=bsRlRs0jLd1I
2013-09-12 08:31:00,915 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 08:31:00,915 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=bsRlRs0jLd1I')]
2013-09-12 08:31:00,951 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10fd496d0>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&code=gNwwuKOdo2rQVlHuIaFvABlUjF9JQL3h5g6naqfXbGEzDqP%2FdNIx8%2BAG3ww6n67C', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51007', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10fd5b750>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10fd63110>, '_accessed_time': 1378967460.951277, 'service': u'https://localhost:8092/', '_creation_time': 1378967457.460638}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&code=gNwwuKOdo2rQVlHuIaFvABlUjF9JQL3h5g6naqfXbGEzDqP%2FdNIx8%2BAG3ww6n67C', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10e106270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:31:00,952 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'code': ['gNwwuKOdo2rQVlHuIaFvABlUjF9JQL3h5g6naqfXbGEzDqP/dNIx8+AG3ww6n67C']}
2013-09-12 08:31:03,292 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'code': ['gNwwuKOdo2rQVlHuIaFvABlUjF9JQL3h5g6naqfXbGEzDqP/dNIx8+AG3ww6n67C']}
2013-09-12 08:31:03,297 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:31:03,324 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-12 08:31:03,328 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 08:31:04,494 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10fd496d0>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&code=gNwwuKOdo2rQVlHuIaFvABlUjF9JQL3h5g6naqfXbGEzDqP%2FdNIx8%2BAG3ww6n67C', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51007', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10fd5b750>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10fd63110>, '_accessed_time': 1378967460.951277, 'service': u'https://localhost:8092/', '_creation_time': 1378967457.460638}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&code=gNwwuKOdo2rQVlHuIaFvABlUjF9JQL3h5g6naqfXbGEzDqP%2FdNIx8%2BAG3ww6n67C', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10e106270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:31:04,840 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10fcdacb0>]
2013-09-12 08:31:05,007 rp.openidconnect:ERROR 'state'
2013-09-12 08:31:05,008 rp:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/__init__.py", line 60, in callback\n    result = self.phaseN(environ, query, server_env, session)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 227, in phaseN\n    tokenresp = self.get_accesstoken(client, authresp)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 190, in get_accesstoken\n    state=authresp["state"], response_cls=self.access_token_response,\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/message.py", line 571, in __getitem__\n    return self._dict[item]\n', "KeyError: 'state'\n"]
2013-09-12 08:31:05,266 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:31:05,271 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:31:05,274 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:31:05,275 root:INFO [static]sending: static/style.css
2013-09-12 08:32:04,335 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10fd496d0>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&code=gNwwuKOdo2rQVlHuIaFvABlUjF9JQL3h5g6naqfXbGEzDqP%2FdNIx8%2BAG3ww6n67C', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51013', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10fd52f50>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10fd63110>, '_accessed_time': 1378967524.33529, 'service': u'https://localhost:8092/', '_creation_time': 1378967457.460638}, 'wsgi.multithread': True, 'HTTP_CACHE_CONTROL': 'max-age=0', 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&code=gNwwuKOdo2rQVlHuIaFvABlUjF9JQL3h5g6naqfXbGEzDqP%2FdNIx8%2BAG3ww6n67C', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10e106270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:32:04,336 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'code': ['gNwwuKOdo2rQVlHuIaFvABlUjF9JQL3h5g6naqfXbGEzDqP/dNIx8+AG3ww6n67C']}
2013-09-12 08:32:08,490 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'code': ['gNwwuKOdo2rQVlHuIaFvABlUjF9JQL3h5g6naqfXbGEzDqP/dNIx8+AG3ww6n67C']}
2013-09-12 08:32:08,491 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 08:32:10,723 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10fd496d0>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&code=gNwwuKOdo2rQVlHuIaFvABlUjF9JQL3h5g6naqfXbGEzDqP%2FdNIx8%2BAG3ww6n67C', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51013', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10fd52f50>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10fd63110>, '_accessed_time': 1378967524.33529, 'service': u'https://localhost:8092/', '_creation_time': 1378967457.460638}, 'wsgi.multithread': True, 'HTTP_CACHE_CONTROL': 'max-age=0', 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&code=gNwwuKOdo2rQVlHuIaFvABlUjF9JQL3h5g6naqfXbGEzDqP%2FdNIx8%2BAG3ww6n67C', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10e106270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:32:12,063 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10fcdacb0>]
2013-09-12 08:32:12,605 rp.openidconnect:ERROR 'state'
2013-09-12 08:32:12,606 rp:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/__init__.py", line 60, in callback\n    result = self.phaseN(environ, query, server_env, session)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 227, in phaseN\n    tokenresp = self.get_accesstoken(client, authresp)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 190, in get_accesstoken\n    state=authresp["state"], response_cls=self.access_token_response,\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/message.py", line 571, in __getitem__\n    return self._dict[item]\n', "KeyError: 'state'\n"]
2013-09-12 08:32:12,756 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:32:12,757 root:INFO [static]sending: static/style.css
2013-09-12 08:32:12,885 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:32:12,888 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:32:17,183 root:INFO [static]sending: static/style.css
2013-09-12 08:32:17,192 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:32:17,193 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:32:17,194 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:32:22,842 root:INFO RP server starting listening on port:8666
2013-09-12 08:32:31,792 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 08:32:31,792 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312a710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312a750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10312a790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312a710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312a750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10312a790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10312a690>, 'PORT': 8666}
2013-09-12 08:32:31,813 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:32:31,852 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-12 08:32:31,854 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:32:31,880 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-12 08:32:31,886 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 08:32:31,892 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 08:32:31,893 rp.openidconnect:DEBUG Registering RP
2013-09-12 08:32:31,902 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:32:31,947 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-12 08:32:31,949 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:32:31,954 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378963951&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DGpuKouMz1t9l&registration_access_token=SB9AvwuMZ3kzD1OCRyIxJ8M9zuucKSE9&client_id=GpuKouMz1t9l&client_secret=97db1236c1a981dc02d44a68d7ded7632928d66227db4ccd2fe87b7a&client_secret_expires_at=1379050351
2013-09-12 08:32:31,955 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x103133ed0>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:eac5d491-2bac-44d9-8b0a-b562e3cf1e41'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'97db1236c1a981dc02d44a68d7ded7632928d66227db4ccd2fe87b7a'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x103133e50>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICDyn']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x101591ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'GpuKouMz1t9l'), ('registration_expires', 1379050351), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x103133e10>), ('client_prefs', {}), ('registration_access_token', u'SB9AvwuMZ3kzD1OCRyIxJ8M9zuucKSE9'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 08:32:31,956 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:eac5d491-2bac-44d9-8b0a-b562e3cf1e41', 'response_type': 'code'}
2013-09-12 08:32:31,959 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Aeac5d491-2bac-44d9-8b0a-b562e3cf1e41&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=GpuKouMz1t9l
2013-09-12 08:32:31,961 rp.openidconnect:DEBUG body: None
2013-09-12 08:32:31,961 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Aeac5d491-2bac-44d9-8b0a-b562e3cf1e41&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=GpuKouMz1t9l
2013-09-12 08:32:31,962 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 08:32:31,962 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Aeac5d491-2bac-44d9-8b0a-b562e3cf1e41&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=GpuKouMz1t9l')]
2013-09-12 08:32:52,023 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10312a6d0>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'HTTP_ORIGIN': 'https://localhost:8092', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Aeac5d491-2bac-44d9-8b0a-b562e3cf1e41&code=GleHk10e7PznwiCz10ej1WrQcLFLl3AhyMfIaMXh5tRxvhsiELBHrRbWAWUaCXpK', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51031', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x103133c90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x103133d90>, '_accessed_time': 1378967572.022317, 'service': u'https://localhost:8092/', '_creation_time': 1378967551.791337}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3Aeac5d491-2bac-44d9-8b0a-b562e3cf1e41&code=GleHk10e7PznwiCz10ej1WrQcLFLl3AhyMfIaMXh5tRxvhsiELBHrRbWAWUaCXpK', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1014e5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate'}
2013-09-12 08:32:52,023 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:eac5d491-2bac-44d9-8b0a-b562e3cf1e41'], 'code': ['GleHk10e7PznwiCz10ej1WrQcLFLl3AhyMfIaMXh5tRxvhsiELBHrRbWAWUaCXpK']}
2013-09-12 08:32:56,014 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:eac5d491-2bac-44d9-8b0a-b562e3cf1e41'], 'code': ['GleHk10e7PznwiCz10ej1WrQcLFLl3AhyMfIaMXh5tRxvhsiELBHrRbWAWUaCXpK']}
2013-09-12 08:32:56,019 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:32:56,046 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-12 08:32:56,050 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 08:33:00,452 rp.openidconnect:DEBUG callback environ: {'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10312a6d0>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'HTTP_ORIGIN': 'https://localhost:8092', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Aeac5d491-2bac-44d9-8b0a-b562e3cf1e41&code=GleHk10e7PznwiCz10ej1WrQcLFLl3AhyMfIaMXh5tRxvhsiELBHrRbWAWUaCXpK', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51031', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x103133c90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x103133d90>, '_accessed_time': 1378967572.022317, 'service': u'https://localhost:8092/', '_creation_time': 1378967551.791337}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3Aeac5d491-2bac-44d9-8b0a-b562e3cf1e41&code=GleHk10e7PznwiCz10ej1WrQcLFLl3AhyMfIaMXh5tRxvhsiELBHrRbWAWUaCXpK', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1014e5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate'}
2013-09-12 08:33:01,617 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x1030b7248>]
2013-09-12 08:33:03,982 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=GleHk10e7PznwiCz10ej1WrQcLFLl3AhyMfIaMXh5tRxvhsiELBHrRbWAWUaCXpK&client_secret=97db1236c1a981dc02d44a68d7ded7632928d66227db4ccd2fe87b7a&grant_type=authorization_code&client_id=GpuKouMz1t9l&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn
2013-09-12 08:33:03,983 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 08:33:04,815 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:33:04,851 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 08:33:04,853 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:33:04,854 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 06:33:04 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 08:33:04,855 oic.oauth2:DEBUG resp.txt: {"access_token": "GleHk10e7PznwiCz10ej1eNheQKYjonq0vKgT7+xRg6/GnkAA1ony6FhanXnIbB1", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIkdwdUtvdU16MXQ5bCJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA0Njc4NCwgImlhdCI6IDEzNzg5Njc1ODQsICJzdWIiOiAiaGFobzAwMzIifQ.vs-0OGABC1pVbBefiVTtWHgfSpJjx__NmwsXbajc3er3iUBHT-kY8dL4UFKrkDaIcA2tp6t5FWfmWzgTXspRUqbrqLh_fpWrSF2Ga6g5kD6plOmU_QONuQJGM9CUQz3uZ6BFrfGyxN-vzSSR4qEe1CPOHpCMiOYiIMS9zHzIoa8CRIPUAqcQChn7BXwhNkaVOUo7xLV0dsP82Cu8gWNgkE16OY3pm0tS0PgaUN3PVwuRlq_FSx2ACDLXap5PPehtCRk8-UC_1CvNMxC8mwifqSof8w-SjMTNc4UWCNQXS6lU2BGNDnXRKKGdN3xaC3CKsNVLzdKreYlhZdPBAIyP3A", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:eac5d491-2bac-44d9-8b0a-b562e3cf1e41", "scope": "openid profile", "refresh_token": "GleHk10e7PznwiCz10ej1aqfgg+CtttQf5xP48ervo5mW/Htv9qAVxVBZsjYmYsF"}
2013-09-12 08:33:14,655 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:33:25,188 rp.openidconnect:ERROR 
2013-09-12 08:33:25,190 rp:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/__init__.py", line 60, in callback\n    result = self.phaseN(environ, query, server_env, session)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 227, in phaseN\n    tokenresp = self.get_accesstoken(client, authresp)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 191, in get_accesstoken\n    **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oic/__init__.py", line 470, in do_access_token_request\n    authn_method, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 912, in do_access_token_request\n    http_args=http_args, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 857, in request_and_return\n    state, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 774, in parse_response\n    raise err\n', 'BadSignature\n']
2013-09-12 08:33:25,463 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:33:25,465 root:INFO [static]sending: static/style.css
2013-09-12 08:33:25,466 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:33:25,470 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:33:37,661 root:INFO [static]sending: static/style.css
2013-09-12 08:33:37,668 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:33:37,669 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:33:37,672 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:33:39,812 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 08:33:39,813 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312a710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312a750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10312a790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312a710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312a750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10312a790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICDyn': <oic.oic.Client object at 0x103133d90>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10312a690>, 'PORT': 8666}
2013-09-12 08:33:39,813 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x103133ed0>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:eac5d491-2bac-44d9-8b0a-b562e3cf1e41': <oic.oic.Grant object at 0x1030aeed0>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:c634e2be-009c-4393-944b-dd8cf9e6016e'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'97db1236c1a981dc02d44a68d7ded7632928d66227db4ccd2fe87b7a'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x103133e50>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICDyn']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x101591ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'GpuKouMz1t9l'), ('registration_expires', 1379050351), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x103133e10>), ('client_prefs', {}), ('registration_access_token', u'SB9AvwuMZ3kzD1OCRyIxJ8M9zuucKSE9'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 08:33:39,814 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:c634e2be-009c-4393-944b-dd8cf9e6016e', 'response_type': 'code'}
2013-09-12 08:33:39,818 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Ac634e2be-009c-4393-944b-dd8cf9e6016e&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=GpuKouMz1t9l
2013-09-12 08:33:39,820 rp.openidconnect:DEBUG body: None
2013-09-12 08:33:39,820 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ac634e2be-009c-4393-944b-dd8cf9e6016e&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=GpuKouMz1t9l
2013-09-12 08:33:39,821 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 08:33:39,821 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ac634e2be-009c-4393-944b-dd8cf9e6016e&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=GpuKouMz1t9l')]
2013-09-12 08:33:39,859 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10312a6d0>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ac634e2be-009c-4393-944b-dd8cf9e6016e&code=OV0w%2B83j5V9Ws8NPTetdHa3o6Y5GvsYaTd982KxwnXEUOum5z%2BBLiHS3rTI0q1Ia', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51045', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1030aed90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x103133d90>, '_accessed_time': 1378967619.858419, 'service': u'https://localhost:8092/', '_creation_time': 1378967551.791337}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3Ac634e2be-009c-4393-944b-dd8cf9e6016e&code=OV0w%2B83j5V9Ws8NPTetdHa3o6Y5GvsYaTd982KxwnXEUOum5z%2BBLiHS3rTI0q1Ia', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1014e5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:33:39,859 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:c634e2be-009c-4393-944b-dd8cf9e6016e'], 'code': ['OV0w+83j5V9Ws8NPTetdHa3o6Y5GvsYaTd982KxwnXEUOum5z+BLiHS3rTI0q1Ia']}
2013-09-12 08:33:44,081 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:c634e2be-009c-4393-944b-dd8cf9e6016e'], 'code': ['OV0w+83j5V9Ws8NPTetdHa3o6Y5GvsYaTd982KxwnXEUOum5z+BLiHS3rTI0q1Ia']}
2013-09-12 08:33:44,082 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 08:33:58,268 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10312a6d0>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ac634e2be-009c-4393-944b-dd8cf9e6016e&code=OV0w%2B83j5V9Ws8NPTetdHa3o6Y5GvsYaTd982KxwnXEUOum5z%2BBLiHS3rTI0q1Ia', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51045', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1030aed90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x103133d90>, '_accessed_time': 1378967619.858419, 'service': u'https://localhost:8092/', '_creation_time': 1378967551.791337}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3Ac634e2be-009c-4393-944b-dd8cf9e6016e&code=OV0w%2B83j5V9Ws8NPTetdHa3o6Y5GvsYaTd982KxwnXEUOum5z%2BBLiHS3rTI0q1Ia', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1014e5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:34:01,110 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x1030b7248>]
2013-09-12 08:34:02,926 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=OV0w%2B83j5V9Ws8NPTetdHa3o6Y5GvsYaTd982KxwnXEUOum5z%2BBLiHS3rTI0q1Ia&client_secret=97db1236c1a981dc02d44a68d7ded7632928d66227db4ccd2fe87b7a&grant_type=authorization_code&client_id=GpuKouMz1t9l&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn
2013-09-12 08:34:02,927 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 08:34:04,722 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:34:04,758 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 08:34:04,760 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:34:04,761 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 06:34:04 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 08:34:04,761 oic.oauth2:DEBUG resp.txt: {"access_token": "OV0w+83j5V9Ws8NPTetdHTZiT7AOF0+rV1SbujS6XHuxSzhbyLNUgkeLltKOB1R1", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIkdwdUtvdU16MXQ5bCJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA0Njg0NCwgImlhdCI6IDEzNzg5Njc2NDQsICJzdWIiOiAiaGFobzAwMzIifQ.pC_0ZinwQh_ZIM7yFGRt9x6xzj6QqBtHmkNz-tMfXU0aQhDdwJ3fiXE8R6KE-3bkR6McLjbsEqErwPVwlqKZhrjzqEnEbeMzRskRsECRjuJ0z2UvHHFPjLaCwC7EdgrCgWIoZNRgPtbVaRCMLpdmwT18OdBte37tYepQObGHoO-tW_vOmMSeNkPRbN4KBqKIjhTWY-hNSi9vo0RHqxuofQ3613IxvoRvbTF4HHPQEg66_D0McTMSt4HLH65v_813QMyadBTEdnYVeR-CDePXFN2Sin_Smm2I6_Me4wW28Scx-1HbvoC333MehcffkSxBqiwRmwKNiGYeu9_7VpltiQ", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:c634e2be-009c-4393-944b-dd8cf9e6016e", "scope": "openid profile", "refresh_token": "OV0w+83j5V9Ws8NPTetdHT5NsGx7d/+9B4C5iY4qANu5Bl/SyZLj9k/WqHdtRBMD"}
2013-09-12 08:34:37,433 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:34:41,714 rp.openidconnect:ERROR 
2013-09-12 08:34:41,715 rp:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/__init__.py", line 60, in callback\n    result = self.phaseN(environ, query, server_env, session)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 227, in phaseN\n    tokenresp = self.get_accesstoken(client, authresp)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 191, in get_accesstoken\n    **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oic/__init__.py", line 470, in do_access_token_request\n    authn_method, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 912, in do_access_token_request\n    http_args=http_args, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 857, in request_and_return\n    state, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 774, in parse_response\n    raise err\n', 'BadSignature\n']
2013-09-12 08:34:42,014 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:34:42,015 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:34:42,016 root:INFO [static]sending: static/style.css
2013-09-12 08:34:42,016 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:34:46,253 root:INFO [static]sending: static/style.css
2013-09-12 08:34:46,260 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:34:46,261 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:34:46,262 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:34:48,679 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 08:34:48,680 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312a710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312a750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10312a790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312a710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312a750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10312a790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICDyn': <oic.oic.Client object at 0x103133d90>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10312a690>, 'PORT': 8666}
2013-09-12 08:34:48,681 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x103133ed0>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:c634e2be-009c-4393-944b-dd8cf9e6016e': <oic.oic.Grant object at 0x103159fd0>, 'urn:uuid:eac5d491-2bac-44d9-8b0a-b562e3cf1e41': <oic.oic.Grant object at 0x1030aeed0>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:ebe283ab-5a28-4ec1-94ca-391f7007e01c'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'97db1236c1a981dc02d44a68d7ded7632928d66227db4ccd2fe87b7a'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x103133e50>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICDyn']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x101591ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'GpuKouMz1t9l'), ('registration_expires', 1379050351), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x103133e10>), ('client_prefs', {}), ('registration_access_token', u'SB9AvwuMZ3kzD1OCRyIxJ8M9zuucKSE9'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 08:34:48,681 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:ebe283ab-5a28-4ec1-94ca-391f7007e01c', 'response_type': 'code'}
2013-09-12 08:34:48,685 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Aebe283ab-5a28-4ec1-94ca-391f7007e01c&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=GpuKouMz1t9l
2013-09-12 08:34:48,687 rp.openidconnect:DEBUG body: None
2013-09-12 08:34:48,688 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Aebe283ab-5a28-4ec1-94ca-391f7007e01c&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=GpuKouMz1t9l
2013-09-12 08:34:48,688 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 08:34:48,689 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Aebe283ab-5a28-4ec1-94ca-391f7007e01c&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=GpuKouMz1t9l')]
2013-09-12 08:34:48,725 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10312a6d0>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Aebe283ab-5a28-4ec1-94ca-391f7007e01c&code=YJO5cP%2Bsha9XVrrwh0Rd1kS8lW%2B%2Ba3ipLilqUA8k79ZOchGY2tqgN6IG%2B2ALbV81', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51070', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1030b80d0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x103133d90>, '_accessed_time': 1378967688.724592, 'service': u'https://localhost:8092/', '_creation_time': 1378967551.791337}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3Aebe283ab-5a28-4ec1-94ca-391f7007e01c&code=YJO5cP%2Bsha9XVrrwh0Rd1kS8lW%2B%2Ba3ipLilqUA8k79ZOchGY2tqgN6IG%2B2ALbV81', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1014e5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:34:48,725 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:ebe283ab-5a28-4ec1-94ca-391f7007e01c'], 'code': ['YJO5cP+sha9XVrrwh0Rd1kS8lW++a3ipLilqUA8k79ZOchGY2tqgN6IG+2ALbV81']}
2013-09-12 08:34:52,251 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:ebe283ab-5a28-4ec1-94ca-391f7007e01c'], 'code': ['YJO5cP+sha9XVrrwh0Rd1kS8lW++a3ipLilqUA8k79ZOchGY2tqgN6IG+2ALbV81']}
2013-09-12 08:34:52,252 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 08:34:54,370 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10312a6d0>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Aebe283ab-5a28-4ec1-94ca-391f7007e01c&code=YJO5cP%2Bsha9XVrrwh0Rd1kS8lW%2B%2Ba3ipLilqUA8k79ZOchGY2tqgN6IG%2B2ALbV81', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51070', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1030b80d0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x103133d90>, '_accessed_time': 1378967688.724592, 'service': u'https://localhost:8092/', '_creation_time': 1378967551.791337}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3Aebe283ab-5a28-4ec1-94ca-391f7007e01c&code=YJO5cP%2Bsha9XVrrwh0Rd1kS8lW%2B%2Ba3ipLilqUA8k79ZOchGY2tqgN6IG%2B2ALbV81', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1014e5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:34:55,258 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x1030b7248>]
2013-09-12 08:34:56,562 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=YJO5cP%2Bsha9XVrrwh0Rd1kS8lW%2B%2Ba3ipLilqUA8k79ZOchGY2tqgN6IG%2B2ALbV81&client_secret=97db1236c1a981dc02d44a68d7ded7632928d66227db4ccd2fe87b7a&grant_type=authorization_code&client_id=GpuKouMz1t9l&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn
2013-09-12 08:34:56,563 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 08:34:57,222 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:34:57,258 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 08:34:57,260 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:34:57,260 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 06:34:57 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 08:34:57,261 oic.oauth2:DEBUG resp.txt: {"access_token": "YJO5cP+sha9XVrrwh0Rd1heFybP2i//bgRd1wESBNMVAGPqRDGNzc6y8bZ24rjU/", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIkdwdUtvdU16MXQ5bCJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA0Njg5NywgImlhdCI6IDEzNzg5Njc2OTcsICJzdWIiOiAiaGFobzAwMzIifQ.ETQ7-b2uLCVpXdYRj63Vm57J4FcDVYj-IiTl8UijUmY9_pVWQofrZqORk1-_rsmA00w49qTbSAy8Uv0y6YAwW0ES-1_r-oOc-oG8LcOrPcNI4Eqa4qAASZgP5KmoC9N8ldquQfLbuez3OZ-FomPeu_CVeq1SaL9FfbIs5EhuSbYefLeN46XBPPuxbTISoD_qS5VIQ8F4BeZjK6F0Q78fIgOjcYb0nvaEFCxB7XTcqcQQCbSB7vCqbZR37Hq0WKF4BAnq-VABRPtlhimnPROlk2etKhHma1bR_xIIsQ6IhZNC5IDO81TgH9GHPnlVVqVyRebrWE7lJ6cdZRJWItYyWQ", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:ebe283ab-5a28-4ec1-94ca-391f7007e01c", "scope": "openid profile", "refresh_token": "YJO5cP+sha9XVrrwh0Rd1r6BgU7kR0n2GGWy4Cln1docZERds/g0ohmokBfrFavu"}
2013-09-12 08:35:14,130 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:35:16,466 rp.openidconnect:ERROR 
2013-09-12 08:35:16,467 rp:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/__init__.py", line 60, in callback\n    result = self.phaseN(environ, query, server_env, session)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 227, in phaseN\n    tokenresp = self.get_accesstoken(client, authresp)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 191, in get_accesstoken\n    **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oic/__init__.py", line 470, in do_access_token_request\n    authn_method, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 912, in do_access_token_request\n    http_args=http_args, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 857, in request_and_return\n    state, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 774, in parse_response\n    raise err\n', 'BadSignature\n']
2013-09-12 08:35:16,739 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:35:16,741 root:INFO [static]sending: static/style.css
2013-09-12 08:35:16,743 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:35:16,745 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:35:20,199 root:INFO [static]sending: static/style.css
2013-09-12 08:35:20,200 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:35:20,204 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:35:20,207 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:35:21,738 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 08:35:21,738 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312a710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312a750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10312a790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312a710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312a750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10312a790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICDyn': <oic.oic.Client object at 0x103133d90>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10312a690>, 'PORT': 8666}
2013-09-12 08:35:21,739 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x103133ed0>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:c634e2be-009c-4393-944b-dd8cf9e6016e': <oic.oic.Grant object at 0x103159fd0>, 'urn:uuid:eac5d491-2bac-44d9-8b0a-b562e3cf1e41': <oic.oic.Grant object at 0x1030aeed0>, 'urn:uuid:ebe283ab-5a28-4ec1-94ca-391f7007e01c': <oic.oic.Grant object at 0x10316d8d0>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:b95e78d6-9037-446e-a23c-a25a263a9cee'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'97db1236c1a981dc02d44a68d7ded7632928d66227db4ccd2fe87b7a'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x103133e50>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICDyn']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x101591ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'GpuKouMz1t9l'), ('registration_expires', 1379050351), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x103133e10>), ('client_prefs', {}), ('registration_access_token', u'SB9AvwuMZ3kzD1OCRyIxJ8M9zuucKSE9'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 08:35:21,740 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:b95e78d6-9037-446e-a23c-a25a263a9cee', 'response_type': 'code'}
2013-09-12 08:35:21,743 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Ab95e78d6-9037-446e-a23c-a25a263a9cee&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=GpuKouMz1t9l
2013-09-12 08:35:21,745 rp.openidconnect:DEBUG body: None
2013-09-12 08:35:21,745 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ab95e78d6-9037-446e-a23c-a25a263a9cee&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=GpuKouMz1t9l
2013-09-12 08:35:21,746 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 08:35:21,746 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ab95e78d6-9037-446e-a23c-a25a263a9cee&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=GpuKouMz1t9l')]
2013-09-12 08:35:21,783 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10312a6d0>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ab95e78d6-9037-446e-a23c-a25a263a9cee&code=8rLZi%2F2Bma8cwoNmf2hgv32bXwXej52Fb7bvnOk%2BXAFFQcpQVf8p6tHnd4WfkLZF', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51073', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1030b8210>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x103133d90>, '_accessed_time': 1378967721.782423, 'service': u'https://localhost:8092/', '_creation_time': 1378967551.791337}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3Ab95e78d6-9037-446e-a23c-a25a263a9cee&code=8rLZi%2F2Bma8cwoNmf2hgv32bXwXej52Fb7bvnOk%2BXAFFQcpQVf8p6tHnd4WfkLZF', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1014e5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:35:21,783 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:b95e78d6-9037-446e-a23c-a25a263a9cee'], 'code': ['8rLZi/2Bma8cwoNmf2hgv32bXwXej52Fb7bvnOk+XAFFQcpQVf8p6tHnd4WfkLZF']}
2013-09-12 08:35:24,418 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:b95e78d6-9037-446e-a23c-a25a263a9cee'], 'code': ['8rLZi/2Bma8cwoNmf2hgv32bXwXej52Fb7bvnOk+XAFFQcpQVf8p6tHnd4WfkLZF']}
2013-09-12 08:35:24,419 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 08:35:25,508 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10312a6d0>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ab95e78d6-9037-446e-a23c-a25a263a9cee&code=8rLZi%2F2Bma8cwoNmf2hgv32bXwXej52Fb7bvnOk%2BXAFFQcpQVf8p6tHnd4WfkLZF', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51073', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1030b8210>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x103133d90>, '_accessed_time': 1378967721.782423, 'service': u'https://localhost:8092/', '_creation_time': 1378967551.791337}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3Ab95e78d6-9037-446e-a23c-a25a263a9cee&code=8rLZi%2F2Bma8cwoNmf2hgv32bXwXej52Fb7bvnOk%2BXAFFQcpQVf8p6tHnd4WfkLZF', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1014e5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:35:26,557 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x1030b7248>]
2013-09-12 08:35:27,934 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=8rLZi%2F2Bma8cwoNmf2hgv32bXwXej52Fb7bvnOk%2BXAFFQcpQVf8p6tHnd4WfkLZF&client_secret=97db1236c1a981dc02d44a68d7ded7632928d66227db4ccd2fe87b7a&grant_type=authorization_code&client_id=GpuKouMz1t9l&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn
2013-09-12 08:35:27,935 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 08:35:28,449 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:35:28,484 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 08:35:28,486 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:35:28,487 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 06:35:28 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 08:35:28,488 oic.oauth2:DEBUG resp.txt: {"access_token": "8rLZi/2Bma8cwoNmf2hgv9KcnVEah0A1cKTcwMuxfUq8bSd6r9l/q58BaUi+dpMg", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIkdwdUtvdU16MXQ5bCJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA0NjkyOCwgImlhdCI6IDEzNzg5Njc3MjgsICJzdWIiOiAiaGFobzAwMzIifQ.e5CXMSu1Wwbez_zf-lJ_AtScqJ70l1oS9j5Wiq6R29z83UzpoBKl7as3ys8Nl2NXVKjYtBdmmrbP83XzNfHMdtgOV9XmVtpw7aQGwQPAezjwZYZA6XB-vdVCERNHcB7o21bhHdA-HEuvY7lF93MsH1YuLWq1vBYRpRd-VANzV1Hw0RLVJMPI_9jtRIYRTtmAfHYgoPiSOxkTzlJ8odQ6xL4jYJra7HqwKiPat-JCNO6zAD7bkg3bQmYgt6YgA-oFvAtUpFko8alcJPVEV7uBDOKOyqtoGWbLTm0taoJ8_dgSCEFiqmSUy_EPE725SRHNk8rylqxGaZcujBN1quqdjg", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:b95e78d6-9037-446e-a23c-a25a263a9cee", "scope": "openid profile", "refresh_token": "8rLZi/2Bma8cwoNmf2hgv/EJbesmmPvIrwFTNmJ3TU1FsKCsZg8ocwmjPdkQSSii"}
2013-09-12 08:35:53,171 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:36:04,507 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:36:07,180 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:36:28,272 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:37:34,634 rp.openidconnect:ERROR 
2013-09-12 08:37:34,635 rp:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/__init__.py", line 60, in callback\n    result = self.phaseN(environ, query, server_env, session)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 227, in phaseN\n    tokenresp = self.get_accesstoken(client, authresp)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 191, in get_accesstoken\n    **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oic/__init__.py", line 470, in do_access_token_request\n    authn_method, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 912, in do_access_token_request\n    http_args=http_args, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 857, in request_and_return\n    state, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 774, in parse_response\n    raise err\n', 'BadSignature\n']
2013-09-12 08:37:34,933 root:INFO [static]sending: static/style.css
2013-09-12 08:37:34,934 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:37:34,937 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:37:34,938 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:38:15,671 root:INFO [static]sending: static/style.css
2013-09-12 08:38:15,671 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:38:15,672 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:38:15,678 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:38:17,335 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 08:38:17,336 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312a710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312a750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10312a790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312a710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312a750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10312a790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICDyn': <oic.oic.Client object at 0x103133d90>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10312a690>, 'PORT': 8666}
2013-09-12 08:38:17,337 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x103133ed0>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:c634e2be-009c-4393-944b-dd8cf9e6016e': <oic.oic.Grant object at 0x103159fd0>, 'urn:uuid:eac5d491-2bac-44d9-8b0a-b562e3cf1e41': <oic.oic.Grant object at 0x1030aeed0>, 'urn:uuid:b95e78d6-9037-446e-a23c-a25a263a9cee': <oic.oic.Grant object at 0x103174c90>, 'urn:uuid:ebe283ab-5a28-4ec1-94ca-391f7007e01c': <oic.oic.Grant object at 0x10316d8d0>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:9d77fc95-0147-4d65-b415-b1d78b1644a8'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'97db1236c1a981dc02d44a68d7ded7632928d66227db4ccd2fe87b7a'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x103133e50>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICDyn']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x101591ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'GpuKouMz1t9l'), ('registration_expires', 1379050351), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x103133e10>), ('client_prefs', {}), ('registration_access_token', u'SB9AvwuMZ3kzD1OCRyIxJ8M9zuucKSE9'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 08:38:17,337 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:9d77fc95-0147-4d65-b415-b1d78b1644a8', 'response_type': 'code'}
2013-09-12 08:38:17,341 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A9d77fc95-0147-4d65-b415-b1d78b1644a8&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=GpuKouMz1t9l
2013-09-12 08:38:17,343 rp.openidconnect:DEBUG body: None
2013-09-12 08:38:17,344 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A9d77fc95-0147-4d65-b415-b1d78b1644a8&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=GpuKouMz1t9l
2013-09-12 08:38:17,344 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 08:38:17,345 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A9d77fc95-0147-4d65-b415-b1d78b1644a8&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=GpuKouMz1t9l')]
2013-09-12 08:38:17,395 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10312a6d0>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A9d77fc95-0147-4d65-b415-b1d78b1644a8&code=Owj4McffYhhNSZc5huFtzStoAj9gvE4gHzAlOXuCzhWiyQ%2BnbdH%2B2%2BjxFMV9tkVK', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51125', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x103184650>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x103133d90>, '_accessed_time': 1378967897.394561, 'service': u'https://localhost:8092/', '_creation_time': 1378967551.791337}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3A9d77fc95-0147-4d65-b415-b1d78b1644a8&code=Owj4McffYhhNSZc5huFtzStoAj9gvE4gHzAlOXuCzhWiyQ%2BnbdH%2B2%2BjxFMV9tkVK', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1014e5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:38:17,395 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:9d77fc95-0147-4d65-b415-b1d78b1644a8'], 'code': ['Owj4McffYhhNSZc5huFtzStoAj9gvE4gHzAlOXuCzhWiyQ+nbdH+2+jxFMV9tkVK']}
2013-09-12 08:38:20,193 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:9d77fc95-0147-4d65-b415-b1d78b1644a8'], 'code': ['Owj4McffYhhNSZc5huFtzStoAj9gvE4gHzAlOXuCzhWiyQ+nbdH+2+jxFMV9tkVK']}
2013-09-12 08:38:20,197 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:38:20,223 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-12 08:38:20,227 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 08:38:23,716 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10312a6d0>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A9d77fc95-0147-4d65-b415-b1d78b1644a8&code=Owj4McffYhhNSZc5huFtzStoAj9gvE4gHzAlOXuCzhWiyQ%2BnbdH%2B2%2BjxFMV9tkVK', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51125', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x103184650>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x103133d90>, '_accessed_time': 1378967897.394561, 'service': u'https://localhost:8092/', '_creation_time': 1378967551.791337}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3A9d77fc95-0147-4d65-b415-b1d78b1644a8&code=Owj4McffYhhNSZc5huFtzStoAj9gvE4gHzAlOXuCzhWiyQ%2BnbdH%2B2%2BjxFMV9tkVK', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1014e5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:38:24,922 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x1030b7ea8>]
2013-09-12 08:38:28,972 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=Owj4McffYhhNSZc5huFtzStoAj9gvE4gHzAlOXuCzhWiyQ%2BnbdH%2B2%2BjxFMV9tkVK&client_secret=97db1236c1a981dc02d44a68d7ded7632928d66227db4ccd2fe87b7a&grant_type=authorization_code&client_id=GpuKouMz1t9l&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn
2013-09-12 08:38:28,973 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 08:38:29,203 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:38:29,238 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 08:38:29,240 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:38:29,240 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 06:38:29 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 08:38:29,241 oic.oauth2:DEBUG resp.txt: {"access_token": "Owj4McffYhhNSZc5huFtzZdv23IrxSyGGAbLQnU92Yf1MKnD6zWuX79SycU4rR64", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIkdwdUtvdU16MXQ5bCJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA0NzEwOSwgImlhdCI6IDEzNzg5Njc5MDksICJzdWIiOiAiaGFobzAwMzIifQ.sUSe5mo2nWiQ_LrRA3eKimB501NL-uKU6Yq8cDI2fA0J_oq32-ElnHX9YiwjSuR8Xop4gRa1EzfDcHemTZCEs2y2KPg-hGR7_YIwc_-4PTSQ2I4b-e2WcuoWbxfZKwr-70HLORWdXvMONGnXfXSfoAL-9NIOpsG6pn3ZYlav7efgaDQLFJiT5Fu-rC0jWJVI6tM8Xsiq8BYpQb-o77JuMDqKSe7C9TkA29IZ5-ch4bqFXpp26DSDo5n1dzN41CcryKrCujpRBX6FYz7QoF7dv3wtjBLIBeH-l8vwqlrRc7XncK3SkwUx8GNjOfY1x0cYim_8yJ0Tmd_EM99SP0OEkg", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:9d77fc95-0147-4d65-b415-b1d78b1644a8", "scope": "openid profile", "refresh_token": "Owj4McffYhhNSZc5huFtzQRkO5Pbo5UHpBDNCtlau/Rs/bPSRZ3b8TYxOUqGF4xr"}
2013-09-12 08:38:30,600 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:38:30,666 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:38:31,402 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'Owj4McffYhhNSZc5huFtzZdv23IrxSyGGAbLQnU92Yf1MKnD6zWuX79SycU4rR64', 'request': 'openid', 'schema': 'openid'}
2013-09-12 08:38:31,403 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=Owj4McffYhhNSZc5huFtzZdv23IrxSyGGAbLQnU92Yf1MKnD6zWuX79SycU4rR64 H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 08:38:31,409 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:38:31,437 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 08:38:31,439 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:38:31,440 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-12 08:38:31,444 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-12 08:38:31,444 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'Owj4McffYhhNSZc5huFtzZdv23IrxSyGGAbLQnU92Yf1MKnD6zWuX79SycU4rR64', <oic.oic.Client object at 0x103133d90>)
2013-09-12 08:38:31,719 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:38:31,723 root:INFO [static]sending: static/style.css
2013-09-12 08:38:31,727 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:38:31,728 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:38:38,300 root:INFO [static]sending: static/style.css
2013-09-12 08:38:38,301 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:38:38,308 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:38:38,310 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:38:39,828 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 08:38:39,828 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312a710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312a750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10312a790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312a710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312a750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10312a790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICDyn': <oic.oic.Client object at 0x103133d90>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10312a690>, 'PORT': 8666}
2013-09-12 08:38:39,829 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x103133ed0>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:9d77fc95-0147-4d65-b415-b1d78b1644a8': <oic.oic.Grant object at 0x103184a50>, 'urn:uuid:c634e2be-009c-4393-944b-dd8cf9e6016e': <oic.oic.Grant object at 0x103159fd0>, 'urn:uuid:eac5d491-2bac-44d9-8b0a-b562e3cf1e41': <oic.oic.Grant object at 0x1030aeed0>, 'urn:uuid:b95e78d6-9037-446e-a23c-a25a263a9cee': <oic.oic.Grant object at 0x103174c90>, 'urn:uuid:ebe283ab-5a28-4ec1-94ca-391f7007e01c': <oic.oic.Grant object at 0x10316d8d0>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:308b4620-1a54-417c-b233-a5c05208b4d9'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'97db1236c1a981dc02d44a68d7ded7632928d66227db4ccd2fe87b7a'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x103133e50>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICDyn']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x101591ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'GpuKouMz1t9l'), ('registration_expires', 1379050351), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x103133e10>), ('client_prefs', {}), ('registration_access_token', u'SB9AvwuMZ3kzD1OCRyIxJ8M9zuucKSE9'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 08:38:39,830 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:308b4620-1a54-417c-b233-a5c05208b4d9', 'response_type': 'code'}
2013-09-12 08:38:39,834 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A308b4620-1a54-417c-b233-a5c05208b4d9&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=GpuKouMz1t9l
2013-09-12 08:38:39,836 rp.openidconnect:DEBUG body: None
2013-09-12 08:38:39,837 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A308b4620-1a54-417c-b233-a5c05208b4d9&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=GpuKouMz1t9l
2013-09-12 08:38:39,837 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 08:38:39,838 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A308b4620-1a54-417c-b233-a5c05208b4d9&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=GpuKouMz1t9l')]
2013-09-12 08:38:39,875 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10312a6d0>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A308b4620-1a54-417c-b233-a5c05208b4d9&code=hXr5QgmBm834zckfzT4MXI1fWWDX2Z%2Bwp%2Bpa%2Fv00ur6ULdGdDL%2FzAxy8Yctjcuob', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51136', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x103188c50>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x103133d90>, '_accessed_time': 1378967919.875182, 'service': u'https://localhost:8092/', '_creation_time': 1378967551.791337}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3A308b4620-1a54-417c-b233-a5c05208b4d9&code=hXr5QgmBm834zckfzT4MXI1fWWDX2Z%2Bwp%2Bpa%2Fv00ur6ULdGdDL%2FzAxy8Yctjcuob', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1014e5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:38:39,876 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:308b4620-1a54-417c-b233-a5c05208b4d9'], 'code': ['hXr5QgmBm834zckfzT4MXI1fWWDX2Z+wp+pa/v00ur6ULdGdDL/zAxy8Yctjcuob']}
2013-09-12 08:38:45,874 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:308b4620-1a54-417c-b233-a5c05208b4d9'], 'code': ['hXr5QgmBm834zckfzT4MXI1fWWDX2Z+wp+pa/v00ur6ULdGdDL/zAxy8Yctjcuob']}
2013-09-12 08:38:45,875 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 08:38:51,160 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10312a6d0>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A308b4620-1a54-417c-b233-a5c05208b4d9&code=hXr5QgmBm834zckfzT4MXI1fWWDX2Z%2Bwp%2Bpa%2Fv00ur6ULdGdDL%2FzAxy8Yctjcuob', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51136', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x103188c50>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x103133d90>, '_accessed_time': 1378967919.875182, 'service': u'https://localhost:8092/', '_creation_time': 1378967551.791337}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3A308b4620-1a54-417c-b233-a5c05208b4d9&code=hXr5QgmBm834zckfzT4MXI1fWWDX2Z%2Bwp%2Bpa%2Fv00ur6ULdGdDL%2FzAxy8Yctjcuob', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1014e5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:38:53,194 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x1030b7ea8>]
2013-09-12 08:39:00,091 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=hXr5QgmBm834zckfzT4MXI1fWWDX2Z%2Bwp%2Bpa%2Fv00ur6ULdGdDL%2FzAxy8Yctjcuob&client_secret=97db1236c1a981dc02d44a68d7ded7632928d66227db4ccd2fe87b7a&grant_type=authorization_code&client_id=GpuKouMz1t9l&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn
2013-09-12 08:39:00,092 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 08:39:04,779 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:39:04,817 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 08:39:04,819 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:39:04,820 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 06:39:04 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 08:39:04,821 oic.oauth2:DEBUG resp.txt: {"access_token": "hXr5QgmBm834zckfzT4MXFp1UemtHorYtDieLsiFrX6E1p7BfVz5DzLZC9GpRlnu", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIkdwdUtvdU16MXQ5bCJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA0NzE0NCwgImlhdCI6IDEzNzg5Njc5NDQsICJzdWIiOiAiaGFobzAwMzIifQ.R3D8J2mibY64LqwOr81shBoYIXWWTHV7BBwHZHnDTCb4lIDDTwkahgMMIEdg9nC2c6GHE-b4eaoxx2KwsNJc_5jDqFIWeWCbKVmBeKuv3YOLm2hDCN11B4krzXIYe4gZ3aYySf_efcfJ8iFZ4enyAtdD2H2PKSssW9CcBG2R3QLBqI2B-dLSu1NL15njAQeSjtrplo1JLuhXHO-q-9ebyh-nImWYek1spoqS4H2dE60IluZUHD_1oN8D7h_NCgHadHINF-NPls4rf8Z2azxRYcPLcvns8qkZNmDaCBR7mZAfaOGAXPDX2n-VjUGHrCYYKgaMQPIpN-UhfNmKT_GeJw", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:308b4620-1a54-417c-b233-a5c05208b4d9", "scope": "openid profile", "refresh_token": "hXr5QgmBm834zckfzT4MXHqmD3rcMpAqx0vK7nGnbVJ8HXtHF0aoZfoVxWifVBxI"}
2013-09-12 08:39:09,561 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:39:11,313 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:39:15,100 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'hXr5QgmBm834zckfzT4MXFp1UemtHorYtDieLsiFrX6E1p7BfVz5DzLZC9GpRlnu', 'request': 'openid', 'schema': 'openid'}
2013-09-12 08:39:15,102 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=hXr5QgmBm834zckfzT4MXFp1UemtHorYtDieLsiFrX6E1p7BfVz5DzLZC9GpRlnu H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 08:39:15,107 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:39:15,134 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 08:39:15,136 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:39:15,137 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-12 08:39:15,140 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-12 08:39:15,140 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'hXr5QgmBm834zckfzT4MXFp1UemtHorYtDieLsiFrX6E1p7BfVz5DzLZC9GpRlnu', <oic.oic.Client object at 0x103133d90>)
2013-09-12 08:39:15,416 root:INFO [static]sending: static/style.css
2013-09-12 08:39:15,422 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:39:15,423 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:39:15,425 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:39:19,933 root:INFO [static]sending: static/style.css
2013-09-12 08:39:19,937 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:39:19,942 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:39:19,942 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:39:21,447 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 08:39:21,448 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312a710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312a750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10312a790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312a710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312a750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10312a790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICDyn': <oic.oic.Client object at 0x103133d90>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10312a690>, 'PORT': 8666}
2013-09-12 08:39:21,449 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x103133ed0>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:ebe283ab-5a28-4ec1-94ca-391f7007e01c': <oic.oic.Grant object at 0x10316d8d0>, 'urn:uuid:eac5d491-2bac-44d9-8b0a-b562e3cf1e41': <oic.oic.Grant object at 0x1030aeed0>, 'urn:uuid:b95e78d6-9037-446e-a23c-a25a263a9cee': <oic.oic.Grant object at 0x103174c90>, 'urn:uuid:9d77fc95-0147-4d65-b415-b1d78b1644a8': <oic.oic.Grant object at 0x103184a50>, 'urn:uuid:c634e2be-009c-4393-944b-dd8cf9e6016e': <oic.oic.Grant object at 0x103159fd0>, 'urn:uuid:308b4620-1a54-417c-b233-a5c05208b4d9': <oic.oic.Grant object at 0x103188e10>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:ffdb8717-2bc8-48e9-aad5-c24417955f3f'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'97db1236c1a981dc02d44a68d7ded7632928d66227db4ccd2fe87b7a'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x103133e50>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICDyn']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x101591ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'GpuKouMz1t9l'), ('registration_expires', 1379050351), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x103133e10>), ('client_prefs', {}), ('registration_access_token', u'SB9AvwuMZ3kzD1OCRyIxJ8M9zuucKSE9'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 08:39:21,449 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:ffdb8717-2bc8-48e9-aad5-c24417955f3f', 'response_type': 'code'}
2013-09-12 08:39:21,453 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Affdb8717-2bc8-48e9-aad5-c24417955f3f&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=GpuKouMz1t9l
2013-09-12 08:39:21,455 rp.openidconnect:DEBUG body: None
2013-09-12 08:39:21,456 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Affdb8717-2bc8-48e9-aad5-c24417955f3f&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=GpuKouMz1t9l
2013-09-12 08:39:21,456 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 08:39:21,457 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Affdb8717-2bc8-48e9-aad5-c24417955f3f&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=GpuKouMz1t9l')]
2013-09-12 08:39:21,505 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10312a6d0>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Affdb8717-2bc8-48e9-aad5-c24417955f3f&code=%2FMrpeXsbSIPJk7DG88Gh9i%2BBf7O4b6V6enZ4CeG6AneQ9Tq7kko%2FcT32ifXPpa%2B9', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51161', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x103184110>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x103133d90>, '_accessed_time': 1378967961.504313, 'service': u'https://localhost:8092/', '_creation_time': 1378967551.791337}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3Affdb8717-2bc8-48e9-aad5-c24417955f3f&code=%2FMrpeXsbSIPJk7DG88Gh9i%2BBf7O4b6V6enZ4CeG6AneQ9Tq7kko%2FcT32ifXPpa%2B9', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1014e5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:39:21,505 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:ffdb8717-2bc8-48e9-aad5-c24417955f3f'], 'code': ['/MrpeXsbSIPJk7DG88Gh9i+Bf7O4b6V6enZ4CeG6AneQ9Tq7kko/cT32ifXPpa+9']}
2013-09-12 08:39:37,593 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:ffdb8717-2bc8-48e9-aad5-c24417955f3f'], 'code': ['/MrpeXsbSIPJk7DG88Gh9i+Bf7O4b6V6enZ4CeG6AneQ9Tq7kko/cT32ifXPpa+9']}
2013-09-12 08:39:37,594 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 08:39:40,734 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10312a6d0>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Affdb8717-2bc8-48e9-aad5-c24417955f3f&code=%2FMrpeXsbSIPJk7DG88Gh9i%2BBf7O4b6V6enZ4CeG6AneQ9Tq7kko%2FcT32ifXPpa%2B9', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51161', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x103184110>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x103133d90>, '_accessed_time': 1378967961.504313, 'service': u'https://localhost:8092/', '_creation_time': 1378967551.791337}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3Affdb8717-2bc8-48e9-aad5-c24417955f3f&code=%2FMrpeXsbSIPJk7DG88Gh9i%2BBf7O4b6V6enZ4CeG6AneQ9Tq7kko%2FcT32ifXPpa%2B9', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1014e5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:40:10,549 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x1030b7ea8>]
2013-09-12 08:40:29,874 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=%2FMrpeXsbSIPJk7DG88Gh9i%2BBf7O4b6V6enZ4CeG6AneQ9Tq7kko%2FcT32ifXPpa%2B9&client_secret=97db1236c1a981dc02d44a68d7ded7632928d66227db4ccd2fe87b7a&grant_type=authorization_code&client_id=GpuKouMz1t9l&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn
2013-09-12 08:40:29,875 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 08:40:30,768 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:40:30,804 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 08:40:30,805 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:40:30,806 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 06:40:30 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 08:40:30,807 oic.oauth2:DEBUG resp.txt: {"access_token": "/MrpeXsbSIPJk7DG88Gh9noKUHWj1wmOgjw5fzgeqecHYv9wp2SUzvPns//0h6yv", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIkdwdUtvdU16MXQ5bCJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA0NzIzMCwgImlhdCI6IDEzNzg5NjgwMzAsICJzdWIiOiAiaGFobzAwMzIifQ.nPWjtfVfyvIcspE-kQJJ8HAflaIUiV40Hx_N-pjN5rdnkb_DusUR_9oxcb8YU8AfrUKnAS8uV391crU7LOZ9LnLA5XX6D0NwuoFSbpi7Akz7l-2WURpvMZzi4awapFuXNaBZlrkZvP3qih3Zd4vGwIb_QIQ79UKoN-4im2_kvB9N-6mRImziwQqwaJaEhzLgD1Xe6jchtYcpGDagPt4zJrsSPB75uumS7xrX2eJoI4Qi1HzFbI8PQy-tJfscuOH6P3efTSqYinuu3bgzPUCRDHNZUiELWwtcX46_D8vdgQlAfnE7TZtGHeJqNxm2yD8xXU1JI7ADPZBmPlgEX0OFIQ", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:ffdb8717-2bc8-48e9-aad5-c24417955f3f", "scope": "openid profile", "refresh_token": "/MrpeXsbSIPJk7DG88Gh9pGe8xkFcJikTeRR97RohNKMok88HfdMK/i1q8nwSUJp"}
2013-09-12 08:40:31,898 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:40:32,020 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:40:34,094 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'/MrpeXsbSIPJk7DG88Gh9noKUHWj1wmOgjw5fzgeqecHYv9wp2SUzvPns//0h6yv', 'request': 'openid', 'schema': 'openid'}
2013-09-12 08:40:34,095 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=%2FMrpeXsbSIPJk7DG88Gh9noKUHWj1wmOgjw5fzgeqecHYv9wp2SUzvPns%2F%2F0h6yv H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 08:40:34,100 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:40:34,127 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 08:40:34,129 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:40:34,130 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-12 08:40:34,134 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-12 08:40:34,134 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'/MrpeXsbSIPJk7DG88Gh9noKUHWj1wmOgjw5fzgeqecHYv9wp2SUzvPns//0h6yv', <oic.oic.Client object at 0x103133d90>)
2013-09-12 08:40:34,414 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:40:34,420 root:INFO [static]sending: static/style.css
2013-09-12 08:40:34,421 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:40:34,424 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:40:39,265 root:INFO [static]sending: static/style.css
2013-09-12 08:40:39,268 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:40:39,270 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:40:39,271 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:40:44,107 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 08:40:44,108 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312a710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312a750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10312a790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312a710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312a750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10312a790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICDyn': <oic.oic.Client object at 0x103133d90>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10312a690>, 'PORT': 8666}
2013-09-12 08:40:46,835 rp.openidconnect:INFO client args: [('registration_endpoint', ''), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', 'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:51066d5c-2748-478c-9685-7457be83a7a7'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x1031883d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICStatic']), ('id_token', None), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', 'VJNL62bPdOnn'), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', 'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x1031881d0>), ('client_prefs', {}), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', 'https://localhost:8092/authorization')]
2013-09-12 08:40:46,836 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:51066d5c-2748-478c-9685-7457be83a7a7', 'response_type': 'code'}
2013-09-12 08:40:46,839 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A51066d5c-2748-478c-9685-7457be83a7a7&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 08:40:46,841 rp.openidconnect:DEBUG body: None
2013-09-12 08:40:46,842 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A51066d5c-2748-478c-9685-7457be83a7a7&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 08:40:46,842 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 08:40:46,843 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A51066d5c-2748-478c-9685-7457be83a7a7&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn')]
2013-09-12 08:40:46,881 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10312a6d0>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A51066d5c-2748-478c-9685-7457be83a7a7&code=M4vEd5iItWEuuiGqUhkelI4MuAd8Tk78aH%2FlWvIqmET0SdnRCgi8RvHo2NXwsmgt', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51187', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x103188590>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x103188310>, '_accessed_time': 1378968046.880376, 'service': u'https://localhost:8092/', '_creation_time': 1378967551.791337}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&state=urn%3Auuid%3A51066d5c-2748-478c-9685-7457be83a7a7&code=M4vEd5iItWEuuiGqUhkelI4MuAd8Tk78aH%2FlWvIqmET0SdnRCgi8RvHo2NXwsmgt', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1014e5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:40:46,881 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:51066d5c-2748-478c-9685-7457be83a7a7'], 'code': ['M4vEd5iItWEuuiGqUhkelI4MuAd8Tk78aH/lWvIqmET0SdnRCgi8RvHo2NXwsmgt']}
2013-09-12 08:40:49,154 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:51066d5c-2748-478c-9685-7457be83a7a7'], 'code': ['M4vEd5iItWEuuiGqUhkelI4MuAd8Tk78aH/lWvIqmET0SdnRCgi8RvHo2NXwsmgt']}
2013-09-12 08:40:49,155 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}']}
2013-09-12 08:40:53,255 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10312a6d0>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A51066d5c-2748-478c-9685-7457be83a7a7&code=M4vEd5iItWEuuiGqUhkelI4MuAd8Tk78aH%2FlWvIqmET0SdnRCgi8RvHo2NXwsmgt', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51187', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x103188590>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x103188310>, '_accessed_time': 1378968046.880376, 'service': u'https://localhost:8092/', '_creation_time': 1378967551.791337}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&state=urn%3Auuid%3A51066d5c-2748-478c-9685-7457be83a7a7&code=M4vEd5iItWEuuiGqUhkelI4MuAd8Tk78aH%2FlWvIqmET0SdnRCgi8RvHo2NXwsmgt', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1014e5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:41:49,850 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=M4vEd5iItWEuuiGqUhkelI4MuAd8Tk78aH%2FlWvIqmET0SdnRCgi8RvHo2NXwsmgt&client_secret=1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1&grant_type=authorization_code&client_id=VJNL62bPdOnn&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic
2013-09-12 08:41:49,851 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 08:41:50,488 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:41:50,527 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 08:41:50,529 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:41:50,529 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 06:41:50 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 08:41:50,530 oic.oauth2:DEBUG resp.txt: {"access_token": "M4vEd5iItWEuuiGqUhkelNfd7jpU81UjxE90XaAjuuV5XSRtojwDvIQaeUx/5qPE", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIlZKTkw2MmJQZE9ubiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA0NzMxMCwgImlhdCI6IDEzNzg5NjgxMTAsICJzdWIiOiAiaGFobzAwMzIifQ.q7wUIRe8wZOBOaRWhEkx5XaIlq3WtzFDOPt2j00PLea21MWbHJKoFhFj4pkw3PQBL0I9uIG-9kmga4KTZz5UxpYtJzF9RHvfHjaCy1LrqVQsFw13nMZgBsWrhhjVLzA9lzzUbi9ZHRwkDXxtHse9XDIldN2WPUoOZJPK3I0pt_w_aWfczilGMOShejWK6Lo6uU5lrMhtlQwDi8HsCtE5jftlFPobK8k_i6JzjVsZg6nxuFAGN_HbJYUyJAx_j0quudT1lk3zaV5a9OZKIW9bB4zYIACqmLJtVjZd-z0kGSnuIGZHASpg1DEjiiARTPcUcV71_77mQwZnGPv5jrajyA", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:51066d5c-2748-478c-9685-7457be83a7a7", "scope": "openid profile", "refresh_token": "M4vEd5iItWEuuiGqUhkelETD/MVQsw6/VuDBTNt2IFR+zb8r21dHuue9idmbqVxH"}
2013-09-12 08:42:14,241 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:42:16,394 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:42:32,886 rp.openidconnect:ERROR 
2013-09-12 08:42:32,887 rp:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/__init__.py", line 60, in callback\n    result = self.phaseN(environ, query, server_env, session)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 227, in phaseN\n    tokenresp = self.get_accesstoken(client, authresp)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 191, in get_accesstoken\n    **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oic/__init__.py", line 470, in do_access_token_request\n    authn_method, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 912, in do_access_token_request\n    http_args=http_args, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 857, in request_and_return\n    state, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 774, in parse_response\n    raise err\n', 'BadSignature\n']
2013-09-12 08:42:33,182 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:42:33,183 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:42:33,184 root:INFO [static]sending: static/style.css
2013-09-12 08:42:33,184 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:42:36,947 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:42:36,948 root:INFO [static]sending: static/style.css
2013-09-12 08:42:36,954 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:42:36,955 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:42:43,448 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 08:42:43,449 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312a710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312a750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10312a790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312a710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312a750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10312a790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICStatic': <oic.oic.Client object at 0x103188310>, 'pyoidcOICDyn': <oic.oic.Client object at 0x103133d90>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10312a690>, 'PORT': 8666}
2013-09-12 08:42:43,450 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x103133ed0>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:ebe283ab-5a28-4ec1-94ca-391f7007e01c': <oic.oic.Grant object at 0x10316d8d0>, 'urn:uuid:eac5d491-2bac-44d9-8b0a-b562e3cf1e41': <oic.oic.Grant object at 0x1030aeed0>, 'urn:uuid:b95e78d6-9037-446e-a23c-a25a263a9cee': <oic.oic.Grant object at 0x103174c90>, 'urn:uuid:9d77fc95-0147-4d65-b415-b1d78b1644a8': <oic.oic.Grant object at 0x103184a50>, 'urn:uuid:ffdb8717-2bc8-48e9-aad5-c24417955f3f': <oic.oic.Grant object at 0x103174090>, 'urn:uuid:c634e2be-009c-4393-944b-dd8cf9e6016e': <oic.oic.Grant object at 0x103159fd0>, 'urn:uuid:308b4620-1a54-417c-b233-a5c05208b4d9': <oic.oic.Grant object at 0x103188e10>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:29a63a4f-eb5d-4508-9ac8-94b43886cafd'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'97db1236c1a981dc02d44a68d7ded7632928d66227db4ccd2fe87b7a'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x103133e50>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICDyn']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x101591ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'GpuKouMz1t9l'), ('registration_expires', 1379050351), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x103133e10>), ('client_prefs', {}), ('registration_access_token', u'SB9AvwuMZ3kzD1OCRyIxJ8M9zuucKSE9'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 08:42:43,450 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:29a63a4f-eb5d-4508-9ac8-94b43886cafd', 'response_type': 'code'}
2013-09-12 08:42:43,455 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A29a63a4f-eb5d-4508-9ac8-94b43886cafd&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=GpuKouMz1t9l
2013-09-12 08:42:43,457 rp.openidconnect:DEBUG body: None
2013-09-12 08:42:43,458 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A29a63a4f-eb5d-4508-9ac8-94b43886cafd&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=GpuKouMz1t9l
2013-09-12 08:42:43,458 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 08:42:43,459 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A29a63a4f-eb5d-4508-9ac8-94b43886cafd&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=GpuKouMz1t9l')]
2013-09-12 08:42:43,496 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10312a6d0>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A29a63a4f-eb5d-4508-9ac8-94b43886cafd&code=VKWrv0f3GmIhEM5et2RFPfozd4NF8571eg6tnKZ1mOVEZTtYyhI3Fk63XjPNfGgn', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51197', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x103174110>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x103133d90>, '_accessed_time': 1378968163.496213, 'service': u'https://localhost:8092/', '_creation_time': 1378967551.791337}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3A29a63a4f-eb5d-4508-9ac8-94b43886cafd&code=VKWrv0f3GmIhEM5et2RFPfozd4NF8571eg6tnKZ1mOVEZTtYyhI3Fk63XjPNfGgn', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1014e5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:42:43,497 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:29a63a4f-eb5d-4508-9ac8-94b43886cafd'], 'code': ['VKWrv0f3GmIhEM5et2RFPfozd4NF8571eg6tnKZ1mOVEZTtYyhI3Fk63XjPNfGgn']}
2013-09-12 08:43:13,679 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:29a63a4f-eb5d-4508-9ac8-94b43886cafd'], 'code': ['VKWrv0f3GmIhEM5et2RFPfozd4NF8571eg6tnKZ1mOVEZTtYyhI3Fk63XjPNfGgn']}
2013-09-12 08:43:13,872 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 08:43:22,025 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10312a6d0>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A29a63a4f-eb5d-4508-9ac8-94b43886cafd&code=VKWrv0f3GmIhEM5et2RFPfozd4NF8571eg6tnKZ1mOVEZTtYyhI3Fk63XjPNfGgn', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51197', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x103174110>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x103133d90>, '_accessed_time': 1378968163.496213, 'service': u'https://localhost:8092/', '_creation_time': 1378967551.791337}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3A29a63a4f-eb5d-4508-9ac8-94b43886cafd&code=VKWrv0f3GmIhEM5et2RFPfozd4NF8571eg6tnKZ1mOVEZTtYyhI3Fk63XjPNfGgn', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1014e5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:43:22,183 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:43:22,209 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-12 08:43:36,565 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x103187200>]
2013-09-12 08:43:54,185 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=VKWrv0f3GmIhEM5et2RFPfozd4NF8571eg6tnKZ1mOVEZTtYyhI3Fk63XjPNfGgn&client_secret=97db1236c1a981dc02d44a68d7ded7632928d66227db4ccd2fe87b7a&grant_type=authorization_code&client_id=GpuKouMz1t9l&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn
2013-09-12 08:43:54,185 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 08:44:00,160 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:44:00,194 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 08:44:00,196 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:44:00,197 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 06:44:00 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 08:44:00,198 oic.oauth2:DEBUG resp.txt: {"access_token": "VKWrv0f3GmIhEM5et2RFPeC6KonhNgjmyVJxg+BITSMnlGKqjmF5ONHZnPFliMm1", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIkdwdUtvdU16MXQ5bCJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA0NzQ0MCwgImlhdCI6IDEzNzg5NjgyNDAsICJzdWIiOiAiaGFobzAwMzIifQ.BdnwgvTh2fPWGv7x52HUQzE4q3hZsVRhIGrA_7AFVNA2w2hL4syZI_oQp9sO2L6fgRVPimQM38lw3kUeZigYATu4iL5p6z11JgVzP2nqgQXvhELYc2F_4qU39o6eiwdPsU0aWLPR3QMuL-OO3MHod4c1NmEBhXEGhtzd2fWAFH0hbmWNBX3DizmqO07q-xgzPioux2Rv6miWMzZjBq0oIu0UA-pNQaN2LeL1hoFShcrDBDZ5SSxGp9q792PmGr1w11IX7DkjVHvmsLjrk_bBt2ZvqBALcM2PtfgF8TcMML3RzO6HRxZnU9Qjfx7xiusoXRN0ZznUDryffYYXJofpBA", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:29a63a4f-eb5d-4508-9ac8-94b43886cafd", "scope": "openid profile", "refresh_token": "VKWrv0f3GmIhEM5et2RFPQE4ElYOppneuyV2Qoange2sfpjdMvz+diDBnFhTrCsE"}
2013-09-12 08:44:18,542 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:44:23,001 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:44:46,829 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'VKWrv0f3GmIhEM5et2RFPeC6KonhNgjmyVJxg+BITSMnlGKqjmF5ONHZnPFliMm1', 'request': 'openid', 'schema': 'openid'}
2013-09-12 08:44:46,830 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=VKWrv0f3GmIhEM5et2RFPeC6KonhNgjmyVJxg%2BBITSMnlGKqjmF5ONHZnPFliMm1 H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 08:44:46,836 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:44:46,864 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 08:44:46,865 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:44:46,866 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-12 08:44:46,870 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-12 08:44:46,871 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'VKWrv0f3GmIhEM5et2RFPeC6KonhNgjmyVJxg+BITSMnlGKqjmF5ONHZnPFliMm1', <oic.oic.Client object at 0x103133d90>)
2013-09-12 08:44:47,169 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:44:47,170 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:44:47,171 root:INFO [static]sending: static/style.css
2013-09-12 08:44:47,172 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:44:57,204 root:INFO RP server starting listening on port:8666
2013-09-12 08:44:59,517 root:INFO RP server starting listening on port:8666
2013-09-12 08:45:13,006 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:45:13,011 root:INFO [static]sending: static/style.css
2013-09-12 08:45:13,018 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:45:13,019 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:45:15,254 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 08:45:15,255 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x109e4c750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x109e4c790>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x109e4c7d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x109e4c750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x109e4c790>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x109e4c7d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x109e4c6d0>, 'PORT': 8666}
2013-09-12 08:45:15,276 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:45:15,316 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-12 08:45:15,318 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:45:15,345 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-12 08:45:15,351 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 08:45:15,356 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 08:45:15,357 rp.openidconnect:DEBUG Registering RP
2013-09-12 08:45:15,366 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:45:15,395 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-12 08:45:15,397 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:45:15,402 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378964715&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DjzO8YuHJLnwA&registration_access_token=w6CcwlaK45LmjuGqbPv5PJPQY0JMsaKc&client_id=jzO8YuHJLnwA&client_secret=9f73c5055701163b39e130a798e8346ca00349dba6b7aefcfd27c114&client_secret_expires_at=1379051115
2013-09-12 08:45:15,403 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x109e608d0>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:3a5e8820-0702-456b-9a62-48d2bed49781'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'9f73c5055701163b39e130a798e8346ca00349dba6b7aefcfd27c114'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x109e60810>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICDyn']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x1082b6ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'jzO8YuHJLnwA'), ('registration_expires', 1379051115), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x109e60850>), ('client_prefs', {}), ('registration_access_token', u'w6CcwlaK45LmjuGqbPv5PJPQY0JMsaKc'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 08:45:15,403 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:3a5e8820-0702-456b-9a62-48d2bed49781', 'response_type': 'code'}
2013-09-12 08:45:15,407 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A3a5e8820-0702-456b-9a62-48d2bed49781&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=jzO8YuHJLnwA
2013-09-12 08:45:15,409 rp.openidconnect:DEBUG body: None
2013-09-12 08:45:15,409 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A3a5e8820-0702-456b-9a62-48d2bed49781&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=jzO8YuHJLnwA
2013-09-12 08:45:15,410 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 08:45:15,733 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:45:15,757 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-12 08:45:18,348 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A3a5e8820-0702-456b-9a62-48d2bed49781&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=jzO8YuHJLnwA')]
2013-09-12 08:45:45,275 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x109e4c710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'HTTP_ORIGIN': 'https://localhost:8092', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A3a5e8820-0702-456b-9a62-48d2bed49781&code=wWWV%2BAJ8LWwYfLv91ewvXfgujQSXZcOjoEi%2FhQ2dXFluu7IrUc3pJ1WDKSmjZ1BN', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51244', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x109e60f90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x109e607d0>, '_accessed_time': 1378968345.274564, 'service': u'https://localhost:8092/', '_creation_time': 1378968312.775095}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3A3a5e8820-0702-456b-9a62-48d2bed49781&code=wWWV%2BAJ8LWwYfLv91ewvXfgujQSXZcOjoEi%2FhQ2dXFluu7IrUc3pJ1WDKSmjZ1BN', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10820b270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate'}
2013-09-12 08:45:45,275 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:3a5e8820-0702-456b-9a62-48d2bed49781'], 'code': ['wWWV+AJ8LWwYfLv91ewvXfgujQSXZcOjoEi/hQ2dXFluu7IrUc3pJ1WDKSmjZ1BN']}
2013-09-12 08:45:54,200 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:3a5e8820-0702-456b-9a62-48d2bed49781'], 'code': ['wWWV+AJ8LWwYfLv91ewvXfgujQSXZcOjoEi/hQ2dXFluu7IrUc3pJ1WDKSmjZ1BN']}
2013-09-12 08:45:54,201 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 08:46:03,594 rp.openidconnect:DEBUG callback environ: {'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x109e4c710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'HTTP_ORIGIN': 'https://localhost:8092', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A3a5e8820-0702-456b-9a62-48d2bed49781&code=wWWV%2BAJ8LWwYfLv91ewvXfgujQSXZcOjoEi%2FhQ2dXFluu7IrUc3pJ1WDKSmjZ1BN', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51244', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x109e60f90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x109e607d0>, '_accessed_time': 1378968345.274564, 'service': u'https://localhost:8092/', '_creation_time': 1378968312.775095}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3A3a5e8820-0702-456b-9a62-48d2bed49781&code=wWWV%2BAJ8LWwYfLv91ewvXfgujQSXZcOjoEi%2FhQ2dXFluu7IrUc3pJ1WDKSmjZ1BN', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10820b270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate'}
2013-09-12 08:46:06,193 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x109ddadd0>]
2013-09-12 08:46:10,942 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=wWWV%2BAJ8LWwYfLv91ewvXfgujQSXZcOjoEi%2FhQ2dXFluu7IrUc3pJ1WDKSmjZ1BN&client_secret=9f73c5055701163b39e130a798e8346ca00349dba6b7aefcfd27c114&grant_type=authorization_code&client_id=jzO8YuHJLnwA&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn
2013-09-12 08:46:10,942 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 08:46:11,492 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:46:11,529 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 08:46:11,531 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:46:11,531 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 06:46:11 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 08:46:11,532 oic.oauth2:DEBUG resp.txt: {"access_token": "wWWV+AJ8LWwYfLv91ewvXQXcc4LTnrbpYL5aViBcz7Pyhgl18G3eNWGXkvpxCDKC", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbImp6TzhZdUhKTG53QSJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA0NzU3MSwgImlhdCI6IDEzNzg5NjgzNzEsICJzdWIiOiAiaGFobzAwMzIifQ.StAPhiO8IedpmXnnAH6YxzQ36ud5OgN1XvwGMAbEY1Yue6q77adROn2mRrF9kxyYG3PJ_tBPG9uezPKLUxaNmJdEzDDj68XupDa9C1SJ_btihuZHmYcUbBO85makw6_CflkcX7FvdNM3bZk0lDzNUtqq_EPGuEnoiYQjZAffdykWC_bqC4AC7ar0XcFfttk5XzfO_unuoEnCyJ6FDMtCqVBbgXag7I6RB0aqGXbB1KIt6vyT7jbRWNNxtGmMhZQ1rDRS950H1E4dIpUrh7i6YyoWmqULz1nFkGv_9gS5s88-r5jZOn9d52gjqXehx_tHFj4zzoJO0A4hRAe-C2jFuQ", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:3a5e8820-0702-456b-9a62-48d2bed49781", "scope": "openid profile", "refresh_token": "wWWV+AJ8LWwYfLv91ewvXSvF1xeiNrSdAr83nT75nLhF7P5wbrPp6Hle9+6OOKTp"}
2013-09-12 08:46:14,104 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:46:14,800 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:46:17,735 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'wWWV+AJ8LWwYfLv91ewvXQXcc4LTnrbpYL5aViBcz7Pyhgl18G3eNWGXkvpxCDKC', 'request': 'openid', 'schema': 'openid'}
2013-09-12 08:46:17,737 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=wWWV%2BAJ8LWwYfLv91ewvXQXcc4LTnrbpYL5aViBcz7Pyhgl18G3eNWGXkvpxCDKC H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 08:46:17,741 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:46:17,769 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 08:46:17,771 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:46:17,772 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-12 08:46:17,775 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-12 08:46:17,775 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'wWWV+AJ8LWwYfLv91ewvXQXcc4LTnrbpYL5aViBcz7Pyhgl18G3eNWGXkvpxCDKC', <oic.oic.Client object at 0x109e607d0>)
2013-09-12 08:46:18,062 root:INFO [static]sending: static/style.css
2013-09-12 08:46:18,067 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:46:18,068 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:46:18,069 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:47:35,204 root:INFO RP server starting listening on port:8666
2013-09-12 08:47:44,854 root:INFO [static]sending: static/style.css
2013-09-12 08:47:44,857 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:47:44,864 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:47:44,865 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:47:46,150 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 08:47:46,151 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d068750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d068790>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10d0687d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d068750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d068790>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10d0687d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10d0686d0>, 'PORT': 8666}
2013-09-12 08:48:35,646 rp.openidconnect:INFO client args: [('registration_endpoint', ''), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', 'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:2f821e03-3cb4-4151-9dba-8257330c3b74'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10d0847d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICStatic']), ('id_token', None), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', 'VJNL62bPdOnn'), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', 'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10d084750>), ('client_prefs', {}), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', 'https://localhost:8092/authorization')]
2013-09-12 08:48:35,646 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:2f821e03-3cb4-4151-9dba-8257330c3b74', 'response_type': 'code'}
2013-09-12 08:48:35,650 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A2f821e03-3cb4-4151-9dba-8257330c3b74&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 08:48:35,652 rp.openidconnect:DEBUG body: None
2013-09-12 08:48:35,652 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A2f821e03-3cb4-4151-9dba-8257330c3b74&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 08:48:35,653 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 08:48:36,807 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A2f821e03-3cb4-4151-9dba-8257330c3b74&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn')]
2013-09-12 08:48:36,847 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10d068710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A2f821e03-3cb4-4151-9dba-8257330c3b74&code=e3cyhIqmWDPZLNu0GLaUgGKnzFoyjecMvLwtY2DDSZ0IAZfk9tnAPCTn%2FIIa9lKq', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51262', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10d07c750>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10d0846d0>, '_accessed_time': 1378968516.846813, '_creation_time': 1378968464.605883}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&state=urn%3Auuid%3A2f821e03-3cb4-4151-9dba-8257330c3b74&code=e3cyhIqmWDPZLNu0GLaUgGKnzFoyjecMvLwtY2DDSZ0IAZfk9tnAPCTn%2FIIa9lKq', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10b428270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:48:36,847 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:2f821e03-3cb4-4151-9dba-8257330c3b74'], 'code': ['e3cyhIqmWDPZLNu0GLaUgGKnzFoyjecMvLwtY2DDSZ0IAZfk9tnAPCTn/IIa9lKq']}
2013-09-12 08:48:38,366 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:2f821e03-3cb4-4151-9dba-8257330c3b74'], 'code': ['e3cyhIqmWDPZLNu0GLaUgGKnzFoyjecMvLwtY2DDSZ0IAZfk9tnAPCTn/IIa9lKq']}
2013-09-12 08:48:38,367 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}']}
2013-09-12 08:48:40,989 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10d068710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A2f821e03-3cb4-4151-9dba-8257330c3b74&code=e3cyhIqmWDPZLNu0GLaUgGKnzFoyjecMvLwtY2DDSZ0IAZfk9tnAPCTn%2FIIa9lKq', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51262', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10d07c750>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10d0846d0>, '_accessed_time': 1378968516.846813, '_creation_time': 1378968464.605883}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&state=urn%3Auuid%3A2f821e03-3cb4-4151-9dba-8257330c3b74&code=e3cyhIqmWDPZLNu0GLaUgGKnzFoyjecMvLwtY2DDSZ0IAZfk9tnAPCTn%2FIIa9lKq', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10b428270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:48:56,074 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=e3cyhIqmWDPZLNu0GLaUgGKnzFoyjecMvLwtY2DDSZ0IAZfk9tnAPCTn%2FIIa9lKq&client_secret=1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1&grant_type=authorization_code&client_id=VJNL62bPdOnn&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic
2013-09-12 08:48:56,075 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 08:48:59,394 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:48:59,441 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 08:48:59,443 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:48:59,444 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 06:48:59 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 08:48:59,463 oic.oauth2:DEBUG resp.txt: {"access_token": "e3cyhIqmWDPZLNu0GLaUgMvxb+5oojz32zAd6co5erLKdgdQ6JZr2BLV+KnoDjt+", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIlZKTkw2MmJQZE9ubiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA0NzczOSwgImlhdCI6IDEzNzg5Njg1MzksICJzdWIiOiAiaGFobzAwMzIifQ.kl2OlzNvRn7v2mrbEAx-zKOzGZSivtyQMsNDMbzkjXx2sfyolMA52v6knCanB9Sopabvu-BtkHrAaHdzjSZo2vhDiBx75iRgAgPzkAiBbpBR9VnQJ20ybY9FxdO2AgkgFf5wCErik9Z4MIpWSGh-cw-eQzL37xvYLAymbrHHb-CIT7Iv9cQiWZ3dX-6Y68dLGJTKSoInAGU-zO-WxyKlGAaXUtUIr_F3KjhhNIcrZdH2JrexSKULgQ2VWQpbVAy_H6GFxIilrLqxTtX-Y1zdi4w12Qa4jTRL-IbPV_410cgE8ilKLkcvAIzZjHpVrEhKK1GjNs5rRnE9l5Yw7c_fuw", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:2f821e03-3cb4-4151-9dba-8257330c3b74", "scope": "openid profile", "refresh_token": "e3cyhIqmWDPZLNu0GLaUgJIWdjGnlZgqDCK1ue5XIo28COtQGmfIVld6uU10ApnK"}
2013-09-12 08:49:16,225 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:49:16,714 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:49:17,977 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:49:18,302 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:49:18,692 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:49:19,115 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:49:20,517 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:49:20,949 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:49:21,749 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:49:22,383 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:49:26,169 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:50:45,090 rp.openidconnect:ERROR 
2013-09-12 08:50:45,092 rp:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/__init__.py", line 60, in callback\n    result = self.phaseN(environ, query, server_env, session)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 227, in phaseN\n    tokenresp = self.get_accesstoken(client, authresp)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 191, in get_accesstoken\n    **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oic/__init__.py", line 470, in do_access_token_request\n    authn_method, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 912, in do_access_token_request\n    http_args=http_args, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 857, in request_and_return\n    state, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 774, in parse_response\n    raise err\n', 'BadSignature\n']
2013-09-12 08:50:45,369 root:INFO [static]sending: static/style.css
2013-09-12 08:50:45,374 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:50:45,375 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:50:45,379 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:51:01,708 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:51:01,710 root:INFO [static]sending: static/style.css
2013-09-12 08:51:01,712 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:51:01,714 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:51:03,037 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 08:51:03,038 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d068750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d068790>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10d0687d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d068750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d068790>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10d0687d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICStatic': <oic.oic.Client object at 0x10d0846d0>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10d0686d0>, 'PORT': 8666}
2013-09-12 08:51:05,389 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:51:05,416 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-12 08:51:05,418 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:51:05,426 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-12 08:51:05,431 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 08:51:05,437 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 08:51:05,438 rp.openidconnect:DEBUG Registering RP
2013-09-12 08:51:05,445 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:51:05,473 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-12 08:51:05,475 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:51:05,480 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378965065&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DFtzuMWq8tBGi&registration_access_token=NzeaCzIZfBsuvcFyYznIF4qQDyZCS4TA&client_id=FtzuMWq8tBGi&client_secret=8002a120bf4d0c338483fcb2ade986972ca1aa66cdf68747330b7264&client_secret_expires_at=1379051465
2013-09-12 08:51:05,481 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10d07c650>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:1b2b6b0e-bdcf-4c94-be00-40bba93c1758'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'8002a120bf4d0c338483fcb2ade986972ca1aa66cdf68747330b7264'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10d0f9810>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICDyn']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10b4d3ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'FtzuMWq8tBGi'), ('registration_expires', 1379051465), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10d0f0950>), ('client_prefs', {}), ('registration_access_token', u'NzeaCzIZfBsuvcFyYznIF4qQDyZCS4TA'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 08:51:05,482 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:1b2b6b0e-bdcf-4c94-be00-40bba93c1758', 'response_type': 'code'}
2013-09-12 08:51:05,485 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A1b2b6b0e-bdcf-4c94-be00-40bba93c1758&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=FtzuMWq8tBGi
2013-09-12 08:51:05,487 rp.openidconnect:DEBUG body: None
2013-09-12 08:51:05,487 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A1b2b6b0e-bdcf-4c94-be00-40bba93c1758&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=FtzuMWq8tBGi
2013-09-12 08:51:05,488 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 08:51:05,615 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:51:05,641 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-12 08:51:07,347 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A1b2b6b0e-bdcf-4c94-be00-40bba93c1758&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=FtzuMWq8tBGi')]
2013-09-12 08:51:07,400 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10d068710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A1b2b6b0e-bdcf-4c94-be00-40bba93c1758&code=TFl2cBQg2BW3VTriNuQeIBBXCIoKRfOrPMmP8ZNg2RKpI3EsX47k%2BBuKg90jAARZ', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51292', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10d0849d0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10d07c490>, '_accessed_time': 1378968667.399386, 'service': u'https://localhost:8092/', '_creation_time': 1378968464.605883}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3A1b2b6b0e-bdcf-4c94-be00-40bba93c1758&code=TFl2cBQg2BW3VTriNuQeIBBXCIoKRfOrPMmP8ZNg2RKpI3EsX47k%2BBuKg90jAARZ', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10b428270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:51:07,400 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:1b2b6b0e-bdcf-4c94-be00-40bba93c1758'], 'code': ['TFl2cBQg2BW3VTriNuQeIBBXCIoKRfOrPMmP8ZNg2RKpI3EsX47k+BuKg90jAARZ']}
2013-09-12 08:51:08,618 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:1b2b6b0e-bdcf-4c94-be00-40bba93c1758'], 'code': ['TFl2cBQg2BW3VTriNuQeIBBXCIoKRfOrPMmP8ZNg2RKpI3EsX47k+BuKg90jAARZ']}
2013-09-12 08:51:08,619 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 08:51:10,906 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10d068710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A1b2b6b0e-bdcf-4c94-be00-40bba93c1758&code=TFl2cBQg2BW3VTriNuQeIBBXCIoKRfOrPMmP8ZNg2RKpI3EsX47k%2BBuKg90jAARZ', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51292', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10d0849d0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10d07c490>, '_accessed_time': 1378968667.399386, 'service': u'https://localhost:8092/', '_creation_time': 1378968464.605883}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3A1b2b6b0e-bdcf-4c94-be00-40bba93c1758&code=TFl2cBQg2BW3VTriNuQeIBBXCIoKRfOrPMmP8ZNg2RKpI3EsX47k%2BBuKg90jAARZ', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10b428270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:51:13,000 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10d0fd3f8>]
2013-09-12 08:51:14,133 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=TFl2cBQg2BW3VTriNuQeIBBXCIoKRfOrPMmP8ZNg2RKpI3EsX47k%2BBuKg90jAARZ&client_secret=8002a120bf4d0c338483fcb2ade986972ca1aa66cdf68747330b7264&grant_type=authorization_code&client_id=FtzuMWq8tBGi&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn
2013-09-12 08:51:14,133 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 08:51:14,692 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:51:14,728 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 08:51:14,729 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:51:14,730 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 06:51:14 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 08:51:14,730 oic.oauth2:DEBUG resp.txt: {"access_token": "TFl2cBQg2BW3VTriNuQeIO93o3/LxFsCYwNmmc14+B+U2ju6uU7JfOxsZ2/3Rk3a", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIkZ0enVNV3E4dEJHaSJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA0Nzg3NCwgImlhdCI6IDEzNzg5Njg2NzQsICJzdWIiOiAiaGFobzAwMzIifQ.0GP2eJ6PUc7a7LnChd1QKSbngog74_t5A3TYuHbpcYii8Tolz3Gs9Qq4kvtEBm21wxwHXt0ouEFF_sF8-0t4BdavwZbr8_LgKUcBsKBrsZOXsq9MfoIMYlCMY7LKINAyvLmjpnXWb7dln7GL38kEMf_5J2-f9JKxdQdHJn5vmpJdeaAcAmqjIrxk4XCXwzw2GBKX-CF_tfTsk-aQbKTWjaJsSTg8vk33t8V4LG1o6-zRlOYCE8AlgLPlsrwseeEueyvdllJ7bHQwFQYEmx7y8apVfYwy1H_gUbRCh7vJmG6XnpVGbPB6EwxuKRoT2rZhgaEw06kT_NHayxD4-TlkTw", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:1b2b6b0e-bdcf-4c94-be00-40bba93c1758", "scope": "openid profile", "refresh_token": "TFl2cBQg2BW3VTriNuQeIFskbp/WibM6ZaOrcbbdc6CR+DpJbSys/9Q+FH7RBPS6"}
2013-09-12 08:51:17,500 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:51:18,030 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:51:46,147 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'TFl2cBQg2BW3VTriNuQeIO93o3/LxFsCYwNmmc14+B+U2ju6uU7JfOxsZ2/3Rk3a', 'request': 'openid', 'schema': 'openid'}
2013-09-12 08:51:46,148 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=TFl2cBQg2BW3VTriNuQeIO93o3%2FLxFsCYwNmmc14%2BB%2BU2ju6uU7JfOxsZ2%2F3Rk3a H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 08:51:46,153 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:51:46,180 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 08:51:46,182 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:51:46,183 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-12 08:51:46,186 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-12 08:51:46,187 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'TFl2cBQg2BW3VTriNuQeIO93o3/LxFsCYwNmmc14+B+U2ju6uU7JfOxsZ2/3Rk3a', <oic.oic.Client object at 0x10d07c490>)
2013-09-12 08:51:46,478 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:51:46,481 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:51:46,482 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:51:46,483 root:INFO [static]sending: static/style.css
2013-09-12 08:51:50,800 root:INFO [static]sending: static/style.css
2013-09-12 08:51:50,801 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:51:50,966 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:51:50,967 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:51:52,210 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 08:51:52,211 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d068750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d068790>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10d0687d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d068750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d068790>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10d0687d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICStatic': <oic.oic.Client object at 0x10d0846d0>, 'pyoidcOICDyn': <oic.oic.Client object at 0x10d07c490>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10d0686d0>, 'PORT': 8666}
2013-09-12 08:51:54,617 rp.openidconnect:DEBUG Static client: {'pyoidcOICStatic': <oic.oic.Client object at 0x10d0846d0>, 'pyoidcOICDyn': <oic.oic.Client object at 0x10d07c490>}
2013-09-12 08:51:54,618 rp.openidconnect:INFO client args: [('registration_endpoint', ''), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:2f821e03-3cb4-4151-9dba-8257330c3b74': <oic.oic.Grant object at 0x10d093690>}), ('refresh_session_endpoint', ''), ('token_endpoint', 'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:0c648905-f434-4efa-a582-816ee6c91431'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10d0847d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICStatic']), ('id_token', None), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', 'VJNL62bPdOnn'), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', 'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10d084750>), ('client_prefs', {}), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', 'https://localhost:8092/authorization')]
2013-09-12 08:51:54,618 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:0c648905-f434-4efa-a582-816ee6c91431', 'response_type': 'code'}
2013-09-12 08:51:54,622 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A0c648905-f434-4efa-a582-816ee6c91431&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 08:51:54,624 rp.openidconnect:DEBUG body: None
2013-09-12 08:51:54,624 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A0c648905-f434-4efa-a582-816ee6c91431&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 08:51:54,625 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 08:51:54,979 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A0c648905-f434-4efa-a582-816ee6c91431&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn')]
2013-09-12 08:51:55,016 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10d068710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A0c648905-f434-4efa-a582-816ee6c91431&code=Ud3C3indVFHXO2o6wCYQRhlKrOqqDMrE7mqYCpD15b9lxWgI2YTnyeJaUj%2FYFlwj', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51304', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10d0f9ed0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10d0846d0>, '_accessed_time': 1378968715.015718, 'service': u'https://localhost:8092/', '_creation_time': 1378968464.605883}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&state=urn%3Auuid%3A0c648905-f434-4efa-a582-816ee6c91431&code=Ud3C3indVFHXO2o6wCYQRhlKrOqqDMrE7mqYCpD15b9lxWgI2YTnyeJaUj%2FYFlwj', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10b428270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:51:55,016 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:0c648905-f434-4efa-a582-816ee6c91431'], 'code': ['Ud3C3indVFHXO2o6wCYQRhlKrOqqDMrE7mqYCpD15b9lxWgI2YTnyeJaUj/YFlwj']}
2013-09-12 08:51:55,441 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:0c648905-f434-4efa-a582-816ee6c91431'], 'code': ['Ud3C3indVFHXO2o6wCYQRhlKrOqqDMrE7mqYCpD15b9lxWgI2YTnyeJaUj/YFlwj']}
2013-09-12 08:51:55,441 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}']}
2013-09-12 08:51:57,048 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10d068710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A0c648905-f434-4efa-a582-816ee6c91431&code=Ud3C3indVFHXO2o6wCYQRhlKrOqqDMrE7mqYCpD15b9lxWgI2YTnyeJaUj%2FYFlwj', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51304', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10d0f9ed0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10d0846d0>, '_accessed_time': 1378968715.015718, 'service': u'https://localhost:8092/', '_creation_time': 1378968464.605883}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&state=urn%3Auuid%3A0c648905-f434-4efa-a582-816ee6c91431&code=Ud3C3indVFHXO2o6wCYQRhlKrOqqDMrE7mqYCpD15b9lxWgI2YTnyeJaUj%2FYFlwj', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10b428270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:51:59,255 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=Ud3C3indVFHXO2o6wCYQRhlKrOqqDMrE7mqYCpD15b9lxWgI2YTnyeJaUj%2FYFlwj&client_secret=1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1&grant_type=authorization_code&client_id=VJNL62bPdOnn&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic
2013-09-12 08:51:59,256 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 08:51:59,750 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:51:59,784 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 08:51:59,786 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:51:59,787 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 06:51:59 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 08:51:59,787 oic.oauth2:DEBUG resp.txt: {"access_token": "Ud3C3indVFHXO2o6wCYQRo5CbRkklg0rDz9+CYRdzCfq2r/qEGnq2muxj9UiQxII", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIlZKTkw2MmJQZE9ubiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA0NzkxOSwgImlhdCI6IDEzNzg5Njg3MTksICJzdWIiOiAiaGFobzAwMzIifQ.xyoNUsE0ChofQT6-F0WYfiUCmdEs7eq-5dV-kAByzsaoR1w658VwAOMFSfBmek53UUWI72ZUrYcHMjYKif_gf69UV77KCqgetg4_u9N2X93JaCKP_vfjVQILDMTa-FEi5z1cQn6C1FGk1A5QBXens_hNl2Uk1BdpTmzP-kqmi9fLm0MS9jFesu7yY5K6oLGndXkkFIpusrNMYMIGz91GppFjplq8Qs0VEu0PKKn_uGeB8gbfm2AH1PFwTuHGFB9ObvbD8gcCkfUNeJ88ISY5HzsV8pASI_dsbgCGmN20S44purcaxEe9xXJCFbPnb5kqsgSWAGYEMMhvUoDm1ay2mA", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:0c648905-f434-4efa-a582-816ee6c91431", "scope": "openid profile", "refresh_token": "Ud3C3indVFHXO2o6wCYQRomXA4KxcehF10QSACEHKs+2ELYm8Ga0YgE2xxg/CVoS"}
2013-09-12 08:52:01,944 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:52:02,376 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:57:21,723 rp.openidconnect:ERROR 
2013-09-12 08:57:21,724 rp:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/__init__.py", line 60, in callback\n    result = self.phaseN(environ, query, server_env, session)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 227, in phaseN\n    tokenresp = self.get_accesstoken(client, authresp)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 191, in get_accesstoken\n    **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oic/__init__.py", line 470, in do_access_token_request\n    authn_method, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 912, in do_access_token_request\n    http_args=http_args, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 857, in request_and_return\n    state, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 774, in parse_response\n    raise err\n', 'BadSignature\n']
2013-09-12 08:57:22,362 root:INFO [static]sending: static/style.css
2013-09-12 08:57:22,363 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:57:22,364 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:57:22,365 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:57:25,853 root:INFO [static]sending: static/style.css
2013-09-12 08:57:25,856 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:57:25,857 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:57:25,861 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:57:26,960 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 08:57:26,961 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d068750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d068790>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10d0687d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d068750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d068790>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10d0687d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICStatic': <oic.oic.Client object at 0x10d0846d0>, 'pyoidcOICDyn': <oic.oic.Client object at 0x10d07c490>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10d0686d0>, 'PORT': 8666}
2013-09-12 08:57:29,789 rp.openidconnect:DEBUG Static client: {'pyoidcOICStatic': <oic.oic.Client object at 0x10d0846d0>, 'pyoidcOICDyn': <oic.oic.Client object at 0x10d07c490>}
2013-09-12 08:57:29,790 rp.openidconnect:INFO client args: [('registration_endpoint', ''), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:0c648905-f434-4efa-a582-816ee6c91431': <oic.oic.Grant object at 0x10d1031d0>, 'urn:uuid:2f821e03-3cb4-4151-9dba-8257330c3b74': <oic.oic.Grant object at 0x10d093690>}), ('refresh_session_endpoint', ''), ('token_endpoint', 'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:2213e5e9-3eab-4dcb-8d04-9fb637d05134'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10d0847d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICStatic']), ('id_token', None), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', 'VJNL62bPdOnn'), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', 'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10d084750>), ('client_prefs', {}), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', 'https://localhost:8092/authorization')]
2013-09-12 08:57:29,790 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:2213e5e9-3eab-4dcb-8d04-9fb637d05134', 'response_type': 'code'}
2013-09-12 08:57:29,793 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A2213e5e9-3eab-4dcb-8d04-9fb637d05134&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 08:57:29,795 rp.openidconnect:DEBUG body: None
2013-09-12 08:57:29,796 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A2213e5e9-3eab-4dcb-8d04-9fb637d05134&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 08:57:29,796 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 08:57:30,110 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A2213e5e9-3eab-4dcb-8d04-9fb637d05134&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn')]
2013-09-12 08:57:30,162 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10d068710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A2213e5e9-3eab-4dcb-8d04-9fb637d05134&code=jxaU4DzF0D6012nNaSG%2FNmDrwvM8bx%2B%2BvxQkrDEaJl69shg882CDc%2FIMnor3xBoz', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51341', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10d103d10>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10d0846d0>, '_accessed_time': 1378969050.161295, 'service': u'https://localhost:8092/', '_creation_time': 1378968464.605883}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&state=urn%3Auuid%3A2213e5e9-3eab-4dcb-8d04-9fb637d05134&code=jxaU4DzF0D6012nNaSG%2FNmDrwvM8bx%2B%2BvxQkrDEaJl69shg882CDc%2FIMnor3xBoz', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10b428270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:57:30,162 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:2213e5e9-3eab-4dcb-8d04-9fb637d05134'], 'code': ['jxaU4DzF0D6012nNaSG/NmDrwvM8bx++vxQkrDEaJl69shg882CDc/IMnor3xBoz']}
2013-09-12 08:57:31,692 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:2213e5e9-3eab-4dcb-8d04-9fb637d05134'], 'code': ['jxaU4DzF0D6012nNaSG/NmDrwvM8bx++vxQkrDEaJl69shg882CDc/IMnor3xBoz']}
2013-09-12 08:57:31,693 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}']}
2013-09-12 08:57:35,713 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10d068710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A2213e5e9-3eab-4dcb-8d04-9fb637d05134&code=jxaU4DzF0D6012nNaSG%2FNmDrwvM8bx%2B%2BvxQkrDEaJl69shg882CDc%2FIMnor3xBoz', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51341', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10d103d10>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10d0846d0>, '_accessed_time': 1378969050.161295, 'service': u'https://localhost:8092/', '_creation_time': 1378968464.605883}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&state=urn%3Auuid%3A2213e5e9-3eab-4dcb-8d04-9fb637d05134&code=jxaU4DzF0D6012nNaSG%2FNmDrwvM8bx%2B%2BvxQkrDEaJl69shg882CDc%2FIMnor3xBoz', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10b428270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:57:41,359 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=jxaU4DzF0D6012nNaSG%2FNmDrwvM8bx%2B%2BvxQkrDEaJl69shg882CDc%2FIMnor3xBoz&client_secret=1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1&grant_type=authorization_code&client_id=VJNL62bPdOnn&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic
2013-09-12 08:57:41,360 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 08:57:41,973 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:57:42,014 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 08:57:42,016 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:57:42,016 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 06:57:42 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 08:57:42,017 oic.oauth2:DEBUG resp.txt: {"access_token": "jxaU4DzF0D6012nNaSG/Ns5SXR28gEdJf92FDI+ewAU7MHDB3Rf9mnaLE3BjCkTC", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIlZKTkw2MmJQZE9ubiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA0ODI2MiwgImlhdCI6IDEzNzg5NjkwNjIsICJzdWIiOiAiaGFobzAwMzIifQ.Oqa5YNqYHptod1mqwFTHwct1Vgj14ZXUwLiF3TvbT5JKzn4PvwHi6is5avkE0BhLery30GkL7YLlxAXNkJWyrpsp3wmRe2hXw6bACX11hvog78w7GtiIb3w8PxG5HuU7CFhd-Wx2vteV7JIK0DhbcGN4iZRIx7cg_coBj7nQbSeIHV49nVf7un0GC5Z5xfLnq64D0_b3VcYStp3XDGoprNBtr0cztFRKCYPNkCqwXwT2UUUkI-6e1JWz2bngAGg5n1McAiGyuog9-3kRv5RsCXr-ohlNWS8YfyMcZguDkuM0xJ0iazco-dwN5XKRvTCDtsID7XEA-abWP0wEPpzWig", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:2213e5e9-3eab-4dcb-8d04-9fb637d05134", "scope": "openid profile", "refresh_token": "jxaU4DzF0D6012nNaSG/NvfOh4n4jW9bdwdzD9+4sF8SIEI4YA5Nugl/E85LzAWM"}
2013-09-12 08:57:45,374 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:57:48,060 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:58:39,244 rp.openidconnect:ERROR 
2013-09-12 08:58:39,245 rp:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/__init__.py", line 60, in callback\n    result = self.phaseN(environ, query, server_env, session)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 227, in phaseN\n    tokenresp = self.get_accesstoken(client, authresp)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 191, in get_accesstoken\n    **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oic/__init__.py", line 470, in do_access_token_request\n    authn_method, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 912, in do_access_token_request\n    http_args=http_args, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 857, in request_and_return\n    state, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 774, in parse_response\n    raise err\n', 'BadSignature\n']
2013-09-12 08:58:39,534 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:58:39,537 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:58:39,538 root:INFO [static]sending: static/style.css
2013-09-12 08:58:39,540 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:58:44,792 root:INFO [static]sending: static/style.css
2013-09-12 08:58:44,797 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 08:58:44,796 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 08:58:44,798 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 08:58:46,100 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 08:58:46,101 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d068750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d068790>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10d0687d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d068750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d068790>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10d0687d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICStatic': <oic.oic.Client object at 0x10d0846d0>, 'pyoidcOICDyn': <oic.oic.Client object at 0x10d07c490>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10d0686d0>, 'PORT': 8666}
2013-09-12 08:58:48,043 rp.openidconnect:DEBUG Static client: {'pyoidcOICStatic': <oic.oic.Client object at 0x10d0846d0>, 'pyoidcOICDyn': <oic.oic.Client object at 0x10d07c490>}
2013-09-12 08:58:48,044 rp.openidconnect:INFO client args: [('registration_endpoint', ''), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:2213e5e9-3eab-4dcb-8d04-9fb637d05134': <oic.oic.Grant object at 0x10d1039d0>, 'urn:uuid:0c648905-f434-4efa-a582-816ee6c91431': <oic.oic.Grant object at 0x10d1031d0>, 'urn:uuid:2f821e03-3cb4-4151-9dba-8257330c3b74': <oic.oic.Grant object at 0x10d093690>}), ('refresh_session_endpoint', ''), ('token_endpoint', 'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:1a9229c2-66bd-46ef-98db-629cef874f79'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10d0847d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICStatic']), ('id_token', None), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', 'VJNL62bPdOnn'), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', 'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10d084750>), ('client_prefs', {}), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', 'https://localhost:8092/authorization')]
2013-09-12 08:58:48,044 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:1a9229c2-66bd-46ef-98db-629cef874f79', 'response_type': 'code'}
2013-09-12 08:58:48,048 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A1a9229c2-66bd-46ef-98db-629cef874f79&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 08:58:48,050 rp.openidconnect:DEBUG body: None
2013-09-12 08:58:48,050 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A1a9229c2-66bd-46ef-98db-629cef874f79&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 08:58:48,051 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 08:58:49,593 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A1a9229c2-66bd-46ef-98db-629cef874f79&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn')]
2013-09-12 08:58:49,630 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10d068710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A1a9229c2-66bd-46ef-98db-629cef874f79&code=rSvb2Dn%2ByPWRSRR0lMYKNKs3f%2By0gyu4ERxBLCvid2JU5yElwdW0q38%2F4NjbTZA6', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51351', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10d103850>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10d0846d0>, '_accessed_time': 1378969129.629353, 'service': u'https://localhost:8092/', '_creation_time': 1378968464.605883}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&state=urn%3Auuid%3A1a9229c2-66bd-46ef-98db-629cef874f79&code=rSvb2Dn%2ByPWRSRR0lMYKNKs3f%2By0gyu4ERxBLCvid2JU5yElwdW0q38%2F4NjbTZA6', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10b428270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:58:49,630 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:1a9229c2-66bd-46ef-98db-629cef874f79'], 'code': ['rSvb2Dn+yPWRSRR0lMYKNKs3f+y0gyu4ERxBLCvid2JU5yElwdW0q38/4NjbTZA6']}
2013-09-12 08:58:50,669 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:1a9229c2-66bd-46ef-98db-629cef874f79'], 'code': ['rSvb2Dn+yPWRSRR0lMYKNKs3f+y0gyu4ERxBLCvid2JU5yElwdW0q38/4NjbTZA6']}
2013-09-12 08:58:50,670 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}']}
2013-09-12 08:58:55,536 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10d068710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A1a9229c2-66bd-46ef-98db-629cef874f79&code=rSvb2Dn%2ByPWRSRR0lMYKNKs3f%2By0gyu4ERxBLCvid2JU5yElwdW0q38%2F4NjbTZA6', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51351', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10d103850>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10d0846d0>, '_accessed_time': 1378969129.629353, 'service': u'https://localhost:8092/', '_creation_time': 1378968464.605883}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&state=urn%3Auuid%3A1a9229c2-66bd-46ef-98db-629cef874f79&code=rSvb2Dn%2ByPWRSRR0lMYKNKs3f%2By0gyu4ERxBLCvid2JU5yElwdW0q38%2F4NjbTZA6', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10b428270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 08:59:00,009 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=rSvb2Dn%2ByPWRSRR0lMYKNKs3f%2By0gyu4ERxBLCvid2JU5yElwdW0q38%2F4NjbTZA6&client_secret=1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1&grant_type=authorization_code&client_id=VJNL62bPdOnn&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic
2013-09-12 08:59:00,010 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 08:59:00,682 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 08:59:00,718 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 08:59:00,720 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 08:59:00,720 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 06:59:00 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 08:59:00,721 oic.oauth2:DEBUG resp.txt: {"access_token": "rSvb2Dn+yPWRSRR0lMYKNHJenbdgW0zdnolVBiOrJiySMDOU1YC8jU+B1rsfrZsl", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIlZKTkw2MmJQZE9ubiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA0ODM0MCwgImlhdCI6IDEzNzg5NjkxNDAsICJzdWIiOiAiaGFobzAwMzIifQ.mZkqJGO5I5ONXn-b9co73MQKFg5_LriaKioUn-0Mp6Ro3RGRadnJTIvj3e9UlVo5DEQz8h3irbSU0ki6VOajLeMvPff5vqU6aJtTFtYxKURreNGoxQJcZoAO3KSpvCKHokbGmZv1QrTzs6w5dQqNE8jqmzRYNX7Ps7AAGs9qgj4Vu-PdOqJ8qSouls_YHiTTPrB4ptVeTI4GeXpuBXL72RCufXBJL3JYagcIXz2KuD24fxpOd5zQElQknqjDAkQv_yKL24u25wIxkt54SoFtxK7wBp5q298mHNiPQFq-BSJmL7VTrhdhz8NCexGwTyjFA-nb-00nj6g1raFFDIaMyQ", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:1a9229c2-66bd-46ef-98db-629cef874f79", "scope": "openid profile", "refresh_token": "rSvb2Dn+yPWRSRR0lMYKNP/FxYhYA/aZ/Zi24fPhEYRpQc63gnPx5vD9vncr/3cw"}
2013-09-12 08:59:06,414 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 08:59:11,075 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 09:01:10,236 rp.openidconnect:ERROR 
2013-09-12 09:01:10,237 rp:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/__init__.py", line 60, in callback\n    result = self.phaseN(environ, query, server_env, session)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 227, in phaseN\n    tokenresp = self.get_accesstoken(client, authresp)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 191, in get_accesstoken\n    **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oic/__init__.py", line 470, in do_access_token_request\n    authn_method, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 912, in do_access_token_request\n    http_args=http_args, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 857, in request_and_return\n    state, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 774, in parse_response\n    raise err\n', 'BadSignature\n']
2013-09-12 09:01:10,521 root:INFO [static]sending: static/style.css
2013-09-12 09:01:10,522 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 09:01:10,524 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 09:01:10,527 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 09:01:34,641 root:INFO [static]sending: static/style.css
2013-09-12 09:01:34,644 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 09:01:34,647 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 09:01:34,647 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 09:01:36,908 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 09:01:36,909 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d068750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d068790>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10d0687d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d068750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d068790>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10d0687d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICStatic': <oic.oic.Client object at 0x10d0846d0>, 'pyoidcOICDyn': <oic.oic.Client object at 0x10d07c490>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10d0686d0>, 'PORT': 8666}
2013-09-12 09:01:38,843 rp.openidconnect:DEBUG Static client: {'pyoidcOICStatic': <oic.oic.Client object at 0x10d0846d0>, 'pyoidcOICDyn': <oic.oic.Client object at 0x10d07c490>}
2013-09-12 09:01:38,844 rp.openidconnect:INFO client args: [('registration_endpoint', ''), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:1a9229c2-66bd-46ef-98db-629cef874f79': <oic.oic.Grant object at 0x10d0f9710>, 'urn:uuid:2213e5e9-3eab-4dcb-8d04-9fb637d05134': <oic.oic.Grant object at 0x10d1039d0>, 'urn:uuid:0c648905-f434-4efa-a582-816ee6c91431': <oic.oic.Grant object at 0x10d1031d0>, 'urn:uuid:2f821e03-3cb4-4151-9dba-8257330c3b74': <oic.oic.Grant object at 0x10d093690>}), ('refresh_session_endpoint', ''), ('token_endpoint', 'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:22eaf60a-f1c6-42f8-a906-f326c75bb831'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10d0847d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICStatic']), ('id_token', None), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', 'VJNL62bPdOnn'), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', 'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10d084750>), ('client_prefs', {}), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', 'https://localhost:8092/authorization')]
2013-09-12 09:01:38,844 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:22eaf60a-f1c6-42f8-a906-f326c75bb831', 'response_type': 'code'}
2013-09-12 09:01:38,848 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A22eaf60a-f1c6-42f8-a906-f326c75bb831&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 09:01:38,850 rp.openidconnect:DEBUG body: None
2013-09-12 09:01:38,851 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A22eaf60a-f1c6-42f8-a906-f326c75bb831&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 09:01:38,851 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 09:01:39,962 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A22eaf60a-f1c6-42f8-a906-f326c75bb831&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn')]
2013-09-12 09:01:40,015 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10d068710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A22eaf60a-f1c6-42f8-a906-f326c75bb831&code=D%2Bb8JbIGnLYq%2BM4hu8lXD4c3J3BA%2BMj0j2ATQ%2FZA9mU5aiT%2BG0F5TRfos8vwWNez', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51387', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10d07c110>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10d0846d0>, '_accessed_time': 1378969300.014858, 'service': u'https://localhost:8092/', '_creation_time': 1378968464.605883}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&state=urn%3Auuid%3A22eaf60a-f1c6-42f8-a906-f326c75bb831&code=D%2Bb8JbIGnLYq%2BM4hu8lXD4c3J3BA%2BMj0j2ATQ%2FZA9mU5aiT%2BG0F5TRfos8vwWNez', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10b428270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 09:01:40,016 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:22eaf60a-f1c6-42f8-a906-f326c75bb831'], 'code': ['D+b8JbIGnLYq+M4hu8lXD4c3J3BA+Mj0j2ATQ/ZA9mU5aiT+G0F5TRfos8vwWNez']}
2013-09-12 09:01:41,574 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:22eaf60a-f1c6-42f8-a906-f326c75bb831'], 'code': ['D+b8JbIGnLYq+M4hu8lXD4c3J3BA+Mj0j2ATQ/ZA9mU5aiT+G0F5TRfos8vwWNez']}
2013-09-12 09:01:41,575 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}']}
2013-09-12 09:01:44,432 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10d068710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A22eaf60a-f1c6-42f8-a906-f326c75bb831&code=D%2Bb8JbIGnLYq%2BM4hu8lXD4c3J3BA%2BMj0j2ATQ%2FZA9mU5aiT%2BG0F5TRfos8vwWNez', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51387', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10d07c110>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10d0846d0>, '_accessed_time': 1378969300.014858, 'service': u'https://localhost:8092/', '_creation_time': 1378968464.605883}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&state=urn%3Auuid%3A22eaf60a-f1c6-42f8-a906-f326c75bb831&code=D%2Bb8JbIGnLYq%2BM4hu8lXD4c3J3BA%2BMj0j2ATQ%2FZA9mU5aiT%2BG0F5TRfos8vwWNez', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10b428270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 09:02:23,870 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=D%2Bb8JbIGnLYq%2BM4hu8lXD4c3J3BA%2BMj0j2ATQ%2FZA9mU5aiT%2BG0F5TRfos8vwWNez&client_secret=1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1&grant_type=authorization_code&client_id=VJNL62bPdOnn&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic
2013-09-12 09:02:23,871 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 09:02:23,943 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 09:02:23,978 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 09:02:23,980 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 09:02:23,981 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 07:02:23 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 09:02:23,981 oic.oauth2:DEBUG resp.txt: {"access_token": "D+b8JbIGnLYq+M4hu8lXD3aS+ZT1O82jXZ6RT42ufKqLaJK+typDqTL4vBP1NKZv", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIlZKTkw2MmJQZE9ubiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA0ODU0MywgImlhdCI6IDEzNzg5NjkzNDMsICJzdWIiOiAiaGFobzAwMzIifQ.ft5UwNmA79lMRGj5y_i4YvkMbvHzQbjBbEkZFAB_5I06ye_ijAhGlfGuLu94qNGnZJBak4h7_Ce9MV7vY37bWYtuU2dQWrDuvYYIiF39YexrYzuUuDY4ncw-yZihWY6uryktbXDeWmgNJfit13T1MSFRjyHJBKFUKAdTuB2DvEeH6VAUuHOGyTHr3Wt31vH6-zIEz3GXNYqMktmKpbs0Y_2MN21T5IAAy_dXn7Le0_IfUqU9kESAbaW_Jn2Fub9s35Dnd4kgpw7lN4fsJ4-3X-8TxFTjsG1r91mct1f68JVRiuDkG1onMd3-ZMk2bD9pb4DJh1zpUtWLRR-AX8gMew", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:22eaf60a-f1c6-42f8-a906-f326c75bb831", "scope": "openid profile", "refresh_token": "D+b8JbIGnLYq+M4hu8lXDyUdp6ewNYq53IgXHWBbh/Swz1XY0kb4Qc0WD46YDBX3"}
2013-09-12 09:02:25,315 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 09:02:25,428 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 09:02:27,186 rp.openidconnect:ERROR 
2013-09-12 09:02:27,187 rp:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/__init__.py", line 60, in callback\n    result = self.phaseN(environ, query, server_env, session)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 227, in phaseN\n    tokenresp = self.get_accesstoken(client, authresp)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 191, in get_accesstoken\n    **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oic/__init__.py", line 470, in do_access_token_request\n    authn_method, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 912, in do_access_token_request\n    http_args=http_args, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 857, in request_and_return\n    state, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 774, in parse_response\n    raise err\n', 'BadSignature\n']
2013-09-12 09:02:27,501 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 09:02:27,502 root:INFO [static]sending: static/style.css
2013-09-12 09:02:27,507 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 09:02:27,508 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 09:02:31,516 root:INFO [static]sending: static/style.css
2013-09-12 09:02:31,519 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 09:02:31,522 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 09:02:31,526 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 09:02:33,242 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 09:02:33,242 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d068750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d068790>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10d0687d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d068750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d068790>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10d0687d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICStatic': <oic.oic.Client object at 0x10d0846d0>, 'pyoidcOICDyn': <oic.oic.Client object at 0x10d07c490>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10d0686d0>, 'PORT': 8666}
2013-09-12 09:02:33,243 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10d07c650>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:1b2b6b0e-bdcf-4c94-be00-40bba93c1758': <oic.oic.Grant object at 0x10d0f0b90>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:c9eab9ab-f80f-4a9a-92cc-8c7b06a15f11'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'8002a120bf4d0c338483fcb2ade986972ca1aa66cdf68747330b7264'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10d0f9810>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICDyn']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10b4d3ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'FtzuMWq8tBGi'), ('registration_expires', 1379051465), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10d0f0950>), ('client_prefs', {}), ('registration_access_token', u'NzeaCzIZfBsuvcFyYznIF4qQDyZCS4TA'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 09:02:33,244 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:c9eab9ab-f80f-4a9a-92cc-8c7b06a15f11', 'response_type': 'code'}
2013-09-12 09:02:33,248 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Ac9eab9ab-f80f-4a9a-92cc-8c7b06a15f11&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=FtzuMWq8tBGi
2013-09-12 09:02:33,250 rp.openidconnect:DEBUG body: None
2013-09-12 09:02:33,250 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ac9eab9ab-f80f-4a9a-92cc-8c7b06a15f11&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=FtzuMWq8tBGi
2013-09-12 09:02:33,251 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 09:02:33,408 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 09:02:33,434 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-12 09:02:36,526 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ac9eab9ab-f80f-4a9a-92cc-8c7b06a15f11&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=FtzuMWq8tBGi')]
2013-09-12 09:02:36,563 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10d068710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ac9eab9ab-f80f-4a9a-92cc-8c7b06a15f11&code=9gkElt7dd56WrHRl0DJRze7rEu694zISyJbUXWQIqFsAPK2BDi5hlU2RmGLk8W4M', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51418', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10d0f9090>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10d07c490>, '_accessed_time': 1378969356.562574, 'service': u'https://localhost:8092/', '_creation_time': 1378968464.605883}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3Ac9eab9ab-f80f-4a9a-92cc-8c7b06a15f11&code=9gkElt7dd56WrHRl0DJRze7rEu694zISyJbUXWQIqFsAPK2BDi5hlU2RmGLk8W4M', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10b428270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 09:02:36,563 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:c9eab9ab-f80f-4a9a-92cc-8c7b06a15f11'], 'code': ['9gkElt7dd56WrHRl0DJRze7rEu694zISyJbUXWQIqFsAPK2BDi5hlU2RmGLk8W4M']}
2013-09-12 09:02:39,429 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:c9eab9ab-f80f-4a9a-92cc-8c7b06a15f11'], 'code': ['9gkElt7dd56WrHRl0DJRze7rEu694zISyJbUXWQIqFsAPK2BDi5hlU2RmGLk8W4M']}
2013-09-12 09:02:39,430 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 09:02:42,154 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10d068710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ac9eab9ab-f80f-4a9a-92cc-8c7b06a15f11&code=9gkElt7dd56WrHRl0DJRze7rEu694zISyJbUXWQIqFsAPK2BDi5hlU2RmGLk8W4M', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51418', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10d0f9090>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10d07c490>, '_accessed_time': 1378969356.562574, 'service': u'https://localhost:8092/', '_creation_time': 1378968464.605883}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3Ac9eab9ab-f80f-4a9a-92cc-8c7b06a15f11&code=9gkElt7dd56WrHRl0DJRze7rEu694zISyJbUXWQIqFsAPK2BDi5hlU2RmGLk8W4M', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10b428270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 09:02:45,169 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10d0fd6c8>]
2013-09-12 09:02:48,151 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=9gkElt7dd56WrHRl0DJRze7rEu694zISyJbUXWQIqFsAPK2BDi5hlU2RmGLk8W4M&client_secret=8002a120bf4d0c338483fcb2ade986972ca1aa66cdf68747330b7264&grant_type=authorization_code&client_id=FtzuMWq8tBGi&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn
2013-09-12 09:02:48,151 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 09:02:48,787 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 09:02:48,823 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 09:02:48,825 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 09:02:48,826 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 07:02:48 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 09:02:48,826 oic.oauth2:DEBUG resp.txt: {"access_token": "9gkElt7dd56WrHRl0DJRzReltenmWnSKVNCMBi63jhgSmvxoqRUC8mJpxEEBTjfc", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIkZ0enVNV3E4dEJHaSJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA0ODU2OCwgImlhdCI6IDEzNzg5NjkzNjgsICJzdWIiOiAiaGFobzAwMzIifQ.Nt5uAC9vYWA7KyNEy4HoqrYduyOK_r5udZR1yCtl6slScG7a83v_DG7dUkz-Uc4lyPNeMv3ZSPCEgAZyyUmgufTIn5vocysNgipxhAmOACKcGmw0xgwxThi0qSoAeucyXECHXz1PgvgY_pwtm4AHS3leRYY1jfTqbH1CMypon3nFGAxp85ROInUaIIQKA3PFkgOywH6uauX8vJCSvoqBPTFyodCcmiMABvF6cglaieSnEO0Eef7VoEqLFdd5iggDaJ11DjMFvUpBrFzCPViCC-jBmNhgGAR7fjEnX3c8U2PIqx3dDW7tyNaiSD8Cc14rv8VaqpwEzjDa8ebSgK25RA", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:c9eab9ab-f80f-4a9a-92cc-8c7b06a15f11", "scope": "openid profile", "refresh_token": "9gkElt7dd56WrHRl0DJRzWwblCrbq4O3eWA/xnV+jmpSTmCb+3magCp7LwRXIeiM"}
2013-09-12 09:02:53,968 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 09:02:55,304 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 09:03:09,847 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'9gkElt7dd56WrHRl0DJRzReltenmWnSKVNCMBi63jhgSmvxoqRUC8mJpxEEBTjfc', 'request': 'openid', 'schema': 'openid'}
2013-09-12 09:03:09,848 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=9gkElt7dd56WrHRl0DJRzReltenmWnSKVNCMBi63jhgSmvxoqRUC8mJpxEEBTjfc H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 09:03:09,853 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 09:03:09,880 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 09:03:09,882 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 09:03:09,883 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-12 09:03:09,886 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-12 09:03:09,886 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'9gkElt7dd56WrHRl0DJRzReltenmWnSKVNCMBi63jhgSmvxoqRUC8mJpxEEBTjfc', <oic.oic.Client object at 0x10d07c490>)
2013-09-12 09:03:10,175 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 09:03:10,177 root:INFO [static]sending: static/style.css
2013-09-12 09:03:10,180 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 09:03:10,182 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 09:03:13,602 root:INFO [static]sending: static/style.css
2013-09-12 09:03:13,605 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 09:03:13,605 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 09:03:13,606 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 09:03:15,402 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 09:03:15,403 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d068750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d068790>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10d0687d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d068750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d068790>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10d0687d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICStatic': <oic.oic.Client object at 0x10d0846d0>, 'pyoidcOICDyn': <oic.oic.Client object at 0x10d07c490>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10d0686d0>, 'PORT': 8666}
2013-09-12 09:03:15,404 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10d07c650>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:c9eab9ab-f80f-4a9a-92cc-8c7b06a15f11': <oic.oic.Grant object at 0x10d0f9b10>, 'urn:uuid:1b2b6b0e-bdcf-4c94-be00-40bba93c1758': <oic.oic.Grant object at 0x10d0f0b90>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:7c05b247-8bea-484e-a118-df4c565b780a'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'8002a120bf4d0c338483fcb2ade986972ca1aa66cdf68747330b7264'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10d0f9810>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICDyn']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10b4d3ad0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'FtzuMWq8tBGi'), ('registration_expires', 1379051465), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10d0f0950>), ('client_prefs', {}), ('registration_access_token', u'NzeaCzIZfBsuvcFyYznIF4qQDyZCS4TA'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 09:03:15,404 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:7c05b247-8bea-484e-a118-df4c565b780a', 'response_type': 'code'}
2013-09-12 09:03:15,408 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A7c05b247-8bea-484e-a118-df4c565b780a&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=FtzuMWq8tBGi
2013-09-12 09:03:15,410 rp.openidconnect:DEBUG body: None
2013-09-12 09:03:15,410 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A7c05b247-8bea-484e-a118-df4c565b780a&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=FtzuMWq8tBGi
2013-09-12 09:03:15,411 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 09:03:18,078 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A7c05b247-8bea-484e-a118-df4c565b780a&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=FtzuMWq8tBGi')]
2013-09-12 09:03:18,115 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10d068710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A7c05b247-8bea-484e-a118-df4c565b780a&code=jKTEgEem9N5qbunz3giVWyldKmtZYOpY8tUmAt9z05YGNRkkuNGbOUCKyH%2BGvHLM', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51437', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10d07c250>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10d07c490>, '_accessed_time': 1378969398.114737, 'service': u'https://localhost:8092/', '_creation_time': 1378968464.605883}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3A7c05b247-8bea-484e-a118-df4c565b780a&code=jKTEgEem9N5qbunz3giVWyldKmtZYOpY8tUmAt9z05YGNRkkuNGbOUCKyH%2BGvHLM', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10b428270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 09:03:18,116 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:7c05b247-8bea-484e-a118-df4c565b780a'], 'code': ['jKTEgEem9N5qbunz3giVWyldKmtZYOpY8tUmAt9z05YGNRkkuNGbOUCKyH+GvHLM']}
2013-09-12 09:03:21,766 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:7c05b247-8bea-484e-a118-df4c565b780a'], 'code': ['jKTEgEem9N5qbunz3giVWyldKmtZYOpY8tUmAt9z05YGNRkkuNGbOUCKyH+GvHLM']}
2013-09-12 09:03:22,078 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 09:03:25,512 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10d068710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A7c05b247-8bea-484e-a118-df4c565b780a&code=jKTEgEem9N5qbunz3giVWyldKmtZYOpY8tUmAt9z05YGNRkkuNGbOUCKyH%2BGvHLM', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51437', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10d07c250>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10d07c490>, '_accessed_time': 1378969398.114737, 'service': u'https://localhost:8092/', '_creation_time': 1378968464.605883}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3A7c05b247-8bea-484e-a118-df4c565b780a&code=jKTEgEem9N5qbunz3giVWyldKmtZYOpY8tUmAt9z05YGNRkkuNGbOUCKyH%2BGvHLM', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10b428270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 09:06:25,272 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10d0fd6c8>]
2013-09-12 09:06:26,128 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=jKTEgEem9N5qbunz3giVWyldKmtZYOpY8tUmAt9z05YGNRkkuNGbOUCKyH%2BGvHLM&client_secret=8002a120bf4d0c338483fcb2ade986972ca1aa66cdf68747330b7264&grant_type=authorization_code&client_id=FtzuMWq8tBGi&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn
2013-09-12 09:06:26,128 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 09:06:26,357 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 09:06:26,391 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 09:06:26,393 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 09:06:26,393 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 07:06:26 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 09:06:26,394 oic.oauth2:DEBUG resp.txt: {"access_token": "jKTEgEem9N5qbunz3giVWzp3dW9szxKKqhe0Q7DD8Sa+bNQkf+nfE79t0sxf2J7E", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIkZ0enVNV3E4dEJHaSJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA0ODc4NiwgImlhdCI6IDEzNzg5Njk1ODYsICJzdWIiOiAiaGFobzAwMzIifQ.ZA-_DvD3aaF1CYhZUX6g8ubGEE5NL6UQV_M1U1zQDRRcpLXycB7L1d4JpPW-U087TL0D69fHBpMp0s3nXJ6uZa5qQdM6Bwy2l6ROMwz_0DGLbuj0qprQosfW9Zq13HxPTHBy_0t9EyprEzezFUVnTSb8JIBtO4Vzf17dDpmb5GGUIW65jRHm-MHitOfltEATL0tOhMWQ1h1MI0ErmDCI-SMPgYozopdIm8NdEPs4-oi5cHIqMPJvp9sH8GuCl_hvd95SV0yzTEU3nL-NGevVaAhDiJutiL_RF3eNb9ehm1XIE5oPcvrvV9B09V6xwlisgXaqfxYyLyyd1G5XSsCtvA", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:7c05b247-8bea-484e-a118-df4c565b780a", "scope": "openid profile", "refresh_token": "jKTEgEem9N5qbunz3giVW6GP3In58uPe/RFeeaC/ambn0pjvsL8r4yKi9axiSle9"}
2013-09-12 09:06:28,397 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 09:06:28,523 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 09:06:30,998 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'jKTEgEem9N5qbunz3giVWzp3dW9szxKKqhe0Q7DD8Sa+bNQkf+nfE79t0sxf2J7E', 'request': 'openid', 'schema': 'openid'}
2013-09-12 09:06:30,999 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=jKTEgEem9N5qbunz3giVWzp3dW9szxKKqhe0Q7DD8Sa%2BbNQkf%2BnfE79t0sxf2J7E H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 09:06:31,004 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 09:06:31,032 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 09:06:31,034 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 09:06:31,035 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-12 09:06:31,038 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-12 09:06:31,039 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'jKTEgEem9N5qbunz3giVWzp3dW9szxKKqhe0Q7DD8Sa+bNQkf+nfE79t0sxf2J7E', <oic.oic.Client object at 0x10d07c490>)
2013-09-12 09:06:31,348 root:INFO [static]sending: static/style.css
2013-09-12 09:06:31,348 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 09:06:31,349 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 09:06:31,355 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 09:06:35,023 root:INFO [static]sending: static/style.css
2013-09-12 09:06:35,026 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 09:06:35,031 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 09:06:35,032 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 09:06:36,567 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 09:06:36,567 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d068750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d068790>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10d0687d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d068750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d068790>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10d0687d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICStatic': <oic.oic.Client object at 0x10d0846d0>, 'pyoidcOICDyn': <oic.oic.Client object at 0x10d07c490>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10d0686d0>, 'PORT': 8666}
2013-09-12 09:06:39,491 rp.openidconnect:DEBUG Static client: {'pyoidcOICStatic': <oic.oic.Client object at 0x10d0846d0>, 'pyoidcOICDyn': <oic.oic.Client object at 0x10d07c490>}
2013-09-12 09:06:39,492 rp.openidconnect:INFO client args: [('registration_endpoint', ''), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:1a9229c2-66bd-46ef-98db-629cef874f79': <oic.oic.Grant object at 0x10d0f9710>, 'urn:uuid:22eaf60a-f1c6-42f8-a906-f326c75bb831': <oic.oic.Grant object at 0x10d10a650>, 'urn:uuid:2213e5e9-3eab-4dcb-8d04-9fb637d05134': <oic.oic.Grant object at 0x10d1039d0>, 'urn:uuid:0c648905-f434-4efa-a582-816ee6c91431': <oic.oic.Grant object at 0x10d1031d0>, 'urn:uuid:2f821e03-3cb4-4151-9dba-8257330c3b74': <oic.oic.Grant object at 0x10d093690>}), ('refresh_session_endpoint', ''), ('token_endpoint', 'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:e6157be6-6a6a-4e1a-be18-87e5af51068f'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10d0847d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICStatic']), ('id_token', None), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', 'VJNL62bPdOnn'), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', 'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10d084750>), ('client_prefs', {}), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', 'https://localhost:8092/authorization')]
2013-09-12 09:06:39,492 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:e6157be6-6a6a-4e1a-be18-87e5af51068f', 'response_type': 'code'}
2013-09-12 09:06:39,496 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Ae6157be6-6a6a-4e1a-be18-87e5af51068f&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 09:06:39,497 rp.openidconnect:DEBUG body: None
2013-09-12 09:06:39,498 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ae6157be6-6a6a-4e1a-be18-87e5af51068f&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 09:06:39,498 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 09:10:56,417 root:INFO RP server starting listening on port:8666
2013-09-12 09:11:08,324 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 09:11:08,325 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f045750>, 'key_issuer': 'https://localhost:8092', 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f045790>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10f0457d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f045750>, 'key_issuer': 'https://localhost:8092', 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f045790>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10f0457d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10f0456d0>, 'PORT': 8666}
2013-09-12 09:11:12,034 rp.openidconnect:INFO client args: [('registration_endpoint', ''), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', 'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:70194175-92c5-4065-bca2-ec68053266d0'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10f058e10>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICStatic']), ('id_token', None), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', 'VJNL62bPdOnn'), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', 'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10f058d90>), ('client_prefs', {}), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', 'https://localhost:8092/authorization')]
2013-09-12 09:11:12,035 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:70194175-92c5-4065-bca2-ec68053266d0', 'response_type': 'code'}
2013-09-12 09:11:12,038 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A70194175-92c5-4065-bca2-ec68053266d0&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 09:11:12,040 rp.openidconnect:DEBUG body: None
2013-09-12 09:11:12,040 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A70194175-92c5-4065-bca2-ec68053266d0&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 09:11:12,041 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 09:11:12,476 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A70194175-92c5-4065-bca2-ec68053266d0&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn')]
2013-09-12 09:11:12,540 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10f045710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A70194175-92c5-4065-bca2-ec68053266d0&code=YOqd59O%2B7oiUqLiWhCUj2CylzooByAF53BgR0UMvJvf6d%2Bx6M12jgVpDZ21xuSTe', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51540', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10f058f50>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10f058d50>, '_accessed_time': 1378969872.539304, '_creation_time': 1378969868.323406}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&state=urn%3Auuid%3A70194175-92c5-4065-bca2-ec68053266d0&code=YOqd59O%2B7oiUqLiWhCUj2CylzooByAF53BgR0UMvJvf6d%2Bx6M12jgVpDZ21xuSTe', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10d3c3270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate'}
2013-09-12 09:11:12,540 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:70194175-92c5-4065-bca2-ec68053266d0'], 'code': ['YOqd59O+7oiUqLiWhCUj2CylzooByAF53BgR0UMvJvf6d+x6M12jgVpDZ21xuSTe']}
2013-09-12 09:11:13,310 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:70194175-92c5-4065-bca2-ec68053266d0'], 'code': ['YOqd59O+7oiUqLiWhCUj2CylzooByAF53BgR0UMvJvf6d+x6M12jgVpDZ21xuSTe']}
2013-09-12 09:11:13,310 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}']}
2013-09-12 09:11:15,564 rp.openidconnect:DEBUG callback environ: {'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10f045710>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A70194175-92c5-4065-bca2-ec68053266d0&code=YOqd59O%2B7oiUqLiWhCUj2CylzooByAF53BgR0UMvJvf6d%2Bx6M12jgVpDZ21xuSTe', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51540', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10f058f50>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10f058d50>, '_accessed_time': 1378969872.539304, '_creation_time': 1378969868.323406}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&state=urn%3Auuid%3A70194175-92c5-4065-bca2-ec68053266d0&code=YOqd59O%2B7oiUqLiWhCUj2CylzooByAF53BgR0UMvJvf6d%2Bx6M12jgVpDZ21xuSTe', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10d3c3270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate'}
2013-09-12 09:12:16,437 root:INFO RP server starting listening on port:8666
2013-09-12 09:12:29,684 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 09:12:29,685 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10aeb6750>, 'key_issuer': 'https://localhost:8092', 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10aeb6790>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10aeb67d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10aeb6750>, 'key_issuer': 'https://localhost:8092', 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10aeb6790>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10aeb67d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10aeb66d0>, 'PORT': 8666}
2013-09-12 09:12:37,496 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 09:12:37,536 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-12 09:12:37,538 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 09:12:37,565 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-12 09:12:37,572 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 09:12:37,721 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 09:12:37,747 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-12 09:13:07,302 root:INFO RP server starting listening on port:8666
2013-09-12 09:13:10,596 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 09:13:10,597 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1049cb750>, 'key_issuer': 'https://localhost:8092', 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1049cb790>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x1049cb7d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1049cb750>, 'key_issuer': 'https://localhost:8092', 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1049cb790>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x1049cb7d0>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x1049cb6d0>, 'PORT': 8666}
2013-09-12 09:13:38,540 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 09:13:38,579 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-12 09:13:38,580 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 09:15:17,116 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-12 09:15:17,122 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 09:15:17,702 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 09:15:17,727 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-12 09:16:53,023 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 09:20:50,136 root:INFO RP server starting listening on port:8666
2013-09-12 09:20:54,585 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 09:20:54,586 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': [{'use': 'enc', 'e': 'AQAB', 'kty': 'RSA', 'n': '1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw'}, {'use': 'sig', 'e': 'AQAB', 'kty': 'RSA', 'n': '1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw'}], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x108999710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x108999750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x108999790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': [{'use': 'enc', 'e': 'AQAB', 'kty': 'RSA', 'n': '1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw'}, {'use': 'sig', 'e': 'AQAB', 'kty': 'RSA', 'n': '1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw'}], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x108999710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x108999750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x108999790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x108999690>, 'PORT': 8666}
2013-09-12 09:20:57,076 rp.openidconnect:INFO client args: [('registration_endpoint', ''), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', 'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:fbf5576e-9f80-48b0-abac-01787f811f43'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x1089aedd0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICStatic']), ('id_token', None), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', 'VJNL62bPdOnn'), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', 'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x1089aed50>), ('client_prefs', {}), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', 'https://localhost:8092/authorization')]
2013-09-12 09:20:57,076 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:fbf5576e-9f80-48b0-abac-01787f811f43', 'response_type': 'code'}
2013-09-12 09:20:57,080 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Afbf5576e-9f80-48b0-abac-01787f811f43&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 09:20:57,082 rp.openidconnect:DEBUG body: None
2013-09-12 09:20:57,082 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Afbf5576e-9f80-48b0-abac-01787f811f43&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 09:20:57,083 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 09:20:57,676 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Afbf5576e-9f80-48b0-abac-01787f811f43&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn')]
2013-09-12 09:20:57,743 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x1089996d0>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Afbf5576e-9f80-48b0-abac-01787f811f43&code=P%2Bm8noUkTF4KTDI89%2FBxnCm7pSdDn%2BXUxudK0gmlhg6q8xUCmUvEnOw4FRoo1ZmR', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51602', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1089a4c90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x1089aed10>, '_accessed_time': 1378970457.742587, '_creation_time': 1378970454.584744}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&state=urn%3Auuid%3Afbf5576e-9f80-48b0-abac-01787f811f43&code=P%2Bm8noUkTF4KTDI89%2FBxnCm7pSdDn%2BXUxudK0gmlhg6q8xUCmUvEnOw4FRoo1ZmR', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x106d15270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 09:20:57,743 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:fbf5576e-9f80-48b0-abac-01787f811f43'], 'code': ['P+m8noUkTF4KTDI89/BxnCm7pSdDn+XUxudK0gmlhg6q8xUCmUvEnOw4FRoo1ZmR']}
2013-09-12 09:20:58,772 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:fbf5576e-9f80-48b0-abac-01787f811f43'], 'code': ['P+m8noUkTF4KTDI89/BxnCm7pSdDn+XUxudK0gmlhg6q8xUCmUvEnOw4FRoo1ZmR']}
2013-09-12 09:20:58,773 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}']}
2013-09-12 09:21:00,765 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x1089996d0>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Afbf5576e-9f80-48b0-abac-01787f811f43&code=P%2Bm8noUkTF4KTDI89%2FBxnCm7pSdDn%2BXUxudK0gmlhg6q8xUCmUvEnOw4FRoo1ZmR', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51602', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1089a4c90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x1089aed10>, '_accessed_time': 1378970457.742587, '_creation_time': 1378970454.584744}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&state=urn%3Auuid%3Afbf5576e-9f80-48b0-abac-01787f811f43&code=P%2Bm8noUkTF4KTDI89%2FBxnCm7pSdDn%2BXUxudK0gmlhg6q8xUCmUvEnOw4FRoo1ZmR', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x106d15270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 09:21:03,623 rp.openidconnect:ERROR 'key_issuer'
2013-09-12 09:21:03,625 rp:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/__init__.py", line 60, in callback\n    result = self.phaseN(environ, query, server_env, session)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 231, in phaseN\n    tokenresp = self.get_accesstoken(client, authresp)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 184, in get_accesstoken\n    kwargs = {"key": self.extra["key_issuer"]}\n', "KeyError: 'key_issuer'\n"]
2013-09-12 09:21:03,899 root:INFO [static]sending: static/style.css
2013-09-12 09:21:03,905 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 09:21:03,906 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 09:21:03,909 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 09:21:11,207 root:INFO [static]sending: static/style.css
2013-09-12 09:21:11,208 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 09:21:11,211 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 09:21:11,216 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 09:21:12,388 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 09:21:12,388 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': [{'use': 'enc', 'e': 'AQAB', 'kty': 'RSA', 'n': '1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw'}, {'use': 'sig', 'e': 'AQAB', 'kty': 'RSA', 'n': '1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw'}], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x108999710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x108999750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x108999790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': [{'use': 'enc', 'e': 'AQAB', 'kty': 'RSA', 'n': '1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw'}, {'use': 'sig', 'e': 'AQAB', 'kty': 'RSA', 'n': '1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw'}], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x108999710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x108999750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x108999790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICStatic': <oic.oic.Client object at 0x1089aed10>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x108999690>, 'PORT': 8666}
2013-09-12 09:21:14,206 rp.openidconnect:DEBUG Static client: {'pyoidcOICStatic': <oic.oic.Client object at 0x1089aed10>}
2013-09-12 09:21:14,207 rp.openidconnect:INFO client args: [('registration_endpoint', ''), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:fbf5576e-9f80-48b0-abac-01787f811f43': <oic.oic.Grant object at 0x1088c8c10>}), ('refresh_session_endpoint', ''), ('token_endpoint', 'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:f9fd82a6-ff3b-4c3f-89ec-c43335e6765d'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x1089aedd0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICStatic']), ('id_token', None), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', 'VJNL62bPdOnn'), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', 'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x1089aed50>), ('client_prefs', {}), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', 'https://localhost:8092/authorization')]
2013-09-12 09:21:14,207 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:f9fd82a6-ff3b-4c3f-89ec-c43335e6765d', 'response_type': 'code'}
2013-09-12 09:21:14,211 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Af9fd82a6-ff3b-4c3f-89ec-c43335e6765d&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 09:21:14,213 rp.openidconnect:DEBUG body: None
2013-09-12 09:21:14,214 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Af9fd82a6-ff3b-4c3f-89ec-c43335e6765d&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 09:21:14,214 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 09:21:14,735 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Af9fd82a6-ff3b-4c3f-89ec-c43335e6765d&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn')]
2013-09-12 09:21:14,771 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x1089996d0>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Af9fd82a6-ff3b-4c3f-89ec-c43335e6765d&code=riTl%2BxGcd8MTcMIAOTz3XN%2FCkbaJlAbgH1olbaKOm1wKfb5QWjreAwD5x5evEwDi', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51609', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1088d7490>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x1089aed10>, '_accessed_time': 1378970474.771202, '_creation_time': 1378970454.584744}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&state=urn%3Auuid%3Af9fd82a6-ff3b-4c3f-89ec-c43335e6765d&code=riTl%2BxGcd8MTcMIAOTz3XN%2FCkbaJlAbgH1olbaKOm1wKfb5QWjreAwD5x5evEwDi', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x106d15270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 09:21:14,772 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:f9fd82a6-ff3b-4c3f-89ec-c43335e6765d'], 'code': ['riTl+xGcd8MTcMIAOTz3XN/CkbaJlAbgH1olbaKOm1wKfb5QWjreAwD5x5evEwDi']}
2013-09-12 09:21:16,035 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:f9fd82a6-ff3b-4c3f-89ec-c43335e6765d'], 'code': ['riTl+xGcd8MTcMIAOTz3XN/CkbaJlAbgH1olbaKOm1wKfb5QWjreAwD5x5evEwDi']}
2013-09-12 09:21:16,036 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}']}
2013-09-12 09:21:18,020 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x1089996d0>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Af9fd82a6-ff3b-4c3f-89ec-c43335e6765d&code=riTl%2BxGcd8MTcMIAOTz3XN%2FCkbaJlAbgH1olbaKOm1wKfb5QWjreAwD5x5evEwDi', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51609', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1088d7490>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x1089aed10>, '_accessed_time': 1378970474.771202, '_creation_time': 1378970454.584744}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&state=urn%3Auuid%3Af9fd82a6-ff3b-4c3f-89ec-c43335e6765d&code=riTl%2BxGcd8MTcMIAOTz3XN%2FCkbaJlAbgH1olbaKOm1wKfb5QWjreAwD5x5evEwDi', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x106d15270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 09:23:40,452 root:INFO RP server starting listening on port:8666
2013-09-12 09:23:49,982 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x104c246d0>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Af9fd82a6-ff3b-4c3f-89ec-c43335e6765d&code=riTl%2BxGcd8MTcMIAOTz3XN%2FCkbaJlAbgH1olbaKOm1wKfb5QWjreAwD5x5evEwDi', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51632', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x104c2db10>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378970629.98136, '_creation_time': 1378970629.98136}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&state=urn%3Auuid%3Af9fd82a6-ff3b-4c3f-89ec-c43335e6765d&code=riTl%2BxGcd8MTcMIAOTz3XN%2FCkbaJlAbgH1olbaKOm1wKfb5QWjreAwD5x5evEwDi', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x102fa2270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate'}
2013-09-12 09:23:49,983 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:f9fd82a6-ff3b-4c3f-89ec-c43335e6765d'], 'code': ['riTl+xGcd8MTcMIAOTz3XN/CkbaJlAbgH1olbaKOm1wKfb5QWjreAwD5x5evEwDi']}
2013-09-12 09:23:58,507 root:INFO RP server starting listening on port:8666
2013-09-12 09:24:02,283 root:INFO [static]sending: static/style.css
2013-09-12 09:24:02,288 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 09:24:02,290 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 09:24:02,295 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 09:24:03,895 root:INFO [static]sending: static/style.css
2013-09-12 09:24:03,899 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 09:24:03,900 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 09:24:03,900 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 09:24:04,938 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 09:24:04,939 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': [{'use': 'enc', 'e': 'AQAB', 'kty': 'RSA', 'n': '1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw'}, {'use': 'sig', 'e': 'AQAB', 'kty': 'RSA', 'n': '1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw'}], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1102ad710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1102ad750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x1102ad790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': [{'use': 'enc', 'e': 'AQAB', 'kty': 'RSA', 'n': '1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw'}, {'use': 'sig', 'e': 'AQAB', 'kty': 'RSA', 'n': '1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw'}], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1102ad710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1102ad750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x1102ad790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x1102ad690>, 'PORT': 8666}
2013-09-12 09:28:28,455 root:INFO RP server starting listening on port:8666
2013-09-12 09:28:33,159 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 09:28:33,160 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': [{'use': 'enc', 'e': 'AQAB', 'kty': 'RSA', 'n': '1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw'}, {'use': 'sig', 'e': 'AQAB', 'kty': 'RSA', 'n': '1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw'}], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b95c710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b95c750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10b95c790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': [{'use': 'enc', 'e': 'AQAB', 'kty': 'RSA', 'n': '1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw'}, {'use': 'sig', 'e': 'AQAB', 'kty': 'RSA', 'n': '1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw'}], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b95c710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b95c750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10b95c790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10b95c690>, 'PORT': 8666}
2013-09-12 09:29:14,214 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 09:29:14,253 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-12 09:29:14,255 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 09:29:30,171 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-12 09:29:30,177 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 09:30:21,256 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 09:30:21,260 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 09:30:21,265 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 09:30:21,266 root:INFO [static]sending: static/style.css
2013-09-12 09:32:27,923 root:INFO RP server starting listening on port:8666
2013-09-12 09:32:32,536 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 09:32:32,537 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x106da6710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x106da6750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x106da6790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x106da6710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x106da6750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x106da6790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x106da6690>, 'PORT': 8666}
2013-09-12 09:33:09,926 rp.openidconnect:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 122, in begin\n    client = self.static(server_env, callback)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 94, in static\n    client.keyjar.add(self.extra[keys][0],self.extra[keys][1])\n', "NameError: global name 'keys' is not defined\n"]
2013-09-12 09:33:15,380 root:INFO [static]sending: static/style.css
2013-09-12 09:33:15,382 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 09:33:15,385 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 09:33:15,386 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 09:33:49,335 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 09:33:49,336 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 09:33:49,339 root:INFO [static]sending: static/style.css
2013-09-12 09:33:49,485 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 09:33:50,564 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 09:33:50,565 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x106da6710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x106da6750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x106da6790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x106da6710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x106da6750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x106da6790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x106da6690>, 'PORT': 8666}
2013-09-12 09:34:20,522 root:INFO RP server starting listening on port:8666
2013-09-12 09:34:22,443 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 09:34:22,444 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x106ca4710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x106ca4750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x106ca4790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x106ca4710>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x106ca4750>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': '9oTfNhtLtBtv', 'client_secret': '5241cefe992b431babf672afade07ae2e88a6d09dc71c9b3323fa70f', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x106ca4790>, 'scope': ['openid'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x106ca4690>, 'PORT': 8666}
2013-09-12 09:34:40,053 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 09:34:40,078 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-12 09:34:57,799 rp.openidconnect:INFO client args: [('registration_endpoint', ''), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', 'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:5bac39eb-584b-4c75-a35f-0599c1a21b1a'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x106cb4e10>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICStatic']), ('id_token', None), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', 'VJNL62bPdOnn'), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', 'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x106cb4d10>), ('client_prefs', {}), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', 'https://localhost:8092/authorization')]
2013-09-12 09:34:57,799 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:5bac39eb-584b-4c75-a35f-0599c1a21b1a', 'response_type': 'code'}
2013-09-12 09:34:57,803 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A5bac39eb-584b-4c75-a35f-0599c1a21b1a&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 09:34:57,805 rp.openidconnect:DEBUG body: None
2013-09-12 09:34:57,806 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A5bac39eb-584b-4c75-a35f-0599c1a21b1a&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 09:34:57,806 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 09:34:59,591 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A5bac39eb-584b-4c75-a35f-0599c1a21b1a&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn')]
2013-09-12 09:34:59,644 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x106ca46d0>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A5bac39eb-584b-4c75-a35f-0599c1a21b1a&code=%2FpSdI9iJKYWza62UoQB1OInQW05Gufg0x991mLU%2BeJy6vF%2F2G5vL4yhIgwULicKS', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '52245', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x106caf450>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x106cb4d50>, '_accessed_time': 1378971299.643566, '_creation_time': 1378971262.442473}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&state=urn%3Auuid%3A5bac39eb-584b-4c75-a35f-0599c1a21b1a&code=%2FpSdI9iJKYWza62UoQB1OInQW05Gufg0x991mLU%2BeJy6vF%2F2G5vL4yhIgwULicKS', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x105023270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate'}
2013-09-12 09:34:59,644 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:5bac39eb-584b-4c75-a35f-0599c1a21b1a'], 'code': ['/pSdI9iJKYWza62UoQB1OInQW05Gufg0x991mLU+eJy6vF/2G5vL4yhIgwULicKS']}
2013-09-12 09:35:00,640 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:5bac39eb-584b-4c75-a35f-0599c1a21b1a'], 'code': ['/pSdI9iJKYWza62UoQB1OInQW05Gufg0x991mLU+eJy6vF/2G5vL4yhIgwULicKS']}
2013-09-12 09:35:00,641 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}'], 'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 09:35:03,018 rp.openidconnect:DEBUG callback environ: {'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x106ca46d0>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A5bac39eb-584b-4c75-a35f-0599c1a21b1a&code=%2FpSdI9iJKYWza62UoQB1OInQW05Gufg0x991mLU%2BeJy6vF%2F2G5vL4yhIgwULicKS', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '52245', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x106caf450>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x106cb4d50>, '_accessed_time': 1378971299.643566, '_creation_time': 1378971262.442473}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&state=urn%3Auuid%3A5bac39eb-584b-4c75-a35f-0599c1a21b1a&code=%2FpSdI9iJKYWza62UoQB1OInQW05Gufg0x991mLU%2BeJy6vF%2F2G5vL4yhIgwULicKS', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x105023270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate'}
2013-09-12 09:35:05,505 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=%2FpSdI9iJKYWza62UoQB1OInQW05Gufg0x991mLU%2BeJy6vF%2F2G5vL4yhIgwULicKS&client_secret=1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1&grant_type=authorization_code&client_id=VJNL62bPdOnn&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic
2013-09-12 09:35:05,506 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 09:35:06,010 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 09:35:06,061 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 09:35:06,063 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 09:35:06,063 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 07:35:06 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 09:35:06,064 oic.oauth2:DEBUG resp.txt: {"access_token": "/pSdI9iJKYWza62UoQB1OLvNXtuf/f3GuoRhT96v2rq60AovpJcYiMXEmgzPTBZQ", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIlZKTkw2MmJQZE9ubiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA1MDUwNiwgImlhdCI6IDEzNzg5NzEzMDYsICJzdWIiOiAiaGFobzAwMzIifQ.c4aHZVy1Zhfa5vEIeU6HYaoS6JPhzTvcGc-c0_8dajIrJSKixNoR4MaHn9NxLd9R7XbQrc-RDItTsq9W2OjuiSiMhC70eL65YsVVaRDVbwdG5AOnOCcrdLdRtCrfJiI5elLVgJ-BKGCMhTFB1UYqNtvFZVkBjKGCRYhjxxFHHBxGrpYdPtxrr_oKUmZiYzcBYXkIszqGcqfVGfCR-tJMe5yVFTPfSyvmLeSVstA02qTFnSvPr-OONofm8qN6525Nrt30U77kRqsR-gQUK1ZUwdO8fNMFunV1WA52prqsUYRPer-ftVoLM572Yxbr_OehBvCTzv7Ryrb2wyIVcCgiog", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:5bac39eb-584b-4c75-a35f-0599c1a21b1a", "scope": "openid profile", "refresh_token": "/pSdI9iJKYWza62UoQB1ONofbPX+cWFfRemXYMZ2rneFeB4wYYqqmGMFv6EXOq48"}
2013-09-12 09:35:08,651 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 09:35:12,362 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'/pSdI9iJKYWza62UoQB1OLvNXtuf/f3GuoRhT96v2rq60AovpJcYiMXEmgzPTBZQ', 'request': 'openid', 'schema': 'openid'}
2013-09-12 09:35:12,363 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=%2FpSdI9iJKYWza62UoQB1OLvNXtuf%2Ff3GuoRhT96v2rq60AovpJcYiMXEmgzPTBZQ H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 09:35:12,368 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 09:35:12,396 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 09:35:12,397 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 09:35:12,398 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-12 09:35:12,402 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-12 09:35:12,402 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'/pSdI9iJKYWza62UoQB1OLvNXtuf/f3GuoRhT96v2rq60AovpJcYiMXEmgzPTBZQ', <oic.oic.Client object at 0x106cb4d50>)
2013-09-12 09:35:12,680 root:INFO [static]sending: static/style.css
2013-09-12 09:35:12,683 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 09:35:12,684 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 09:35:12,690 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 09:43:40,047 root:INFO RP server starting listening on port:8666
2013-09-12 09:43:43,032 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 09:43:43,033 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 09:43:43,034 root:INFO [static]sending: static/style.css
2013-09-12 09:43:43,038 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 09:44:48,993 root:INFO RP server starting listening on port:8666
2013-09-12 09:45:00,151 rp.oauth2:INFO [OAuth2] callback url: https://localhost:8092/authorization?scope=openid&state=dFpMuoHlWzSvHZgw&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth&response_type=code&client_id=u1fD2wvxhw0S
2013-09-12 09:47:55,961 rp.oauth2:INFO [OAuth2] callback url: https://localhost:8092/authorization?scope=openid&state=t1DDkJO3WdhLsZ5n&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth&response_type=code&client_id=u1fD2wvxhw0S
2013-09-12 09:48:46,391 rp.oauth2:INFO [OAuth2] callback url: https://localhost:8092/authorization?scope=openid&state=M3kooHtYU2690uc8&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth&response_type=code&client_id=u1fD2wvxhw0S
2013-09-12 09:49:02,835 rp:DEBUG [do_pyoidcOAuth2] environ: {'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x105b0a950>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOAuth', 'HTTP_ORIGIN': 'https://localhost:8092', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid&state=M3kooHtYU2690uc8&code=7BVttodVIGNV0QAs195WCRKTdIQjPogAyJuS3oF8aDtgzRkVXKLXyaxoBAMy8mcq', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '52346', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x105a643d0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378972142.835262, '_creation_time': 1378971892.034137}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOAuth?scope=openid&state=M3kooHtYU2690uc8&code=7BVttodVIGNV0QAs195WCRKTdIQjPogAyJuS3oF8aDtgzRkVXKLXyaxoBAMy8mcq', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x103f31270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate'}
2013-09-12 09:49:02,836 rp:DEBUG [do_pyoidcOAuth2] query: {'scope': ['openid'], 'state': ['M3kooHtYU2690uc8'], 'code': ['7BVttodVIGNV0QAs195WCRKTdIQjPogAyJuS3oF8aDtgzRkVXKLXyaxoBAMy8mcq']}
2013-09-12 09:49:28,663 rp:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/__init__.py", line 60, in callback\n    result = self.phaseN(environ, query, server_env, session)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/oauth2/__init__.py", line 58, in phaseN\n    callback = server_env["base_url"] + self.social_endpoint\n', "AttributeError: 'pyoidcOAuth2' object has no attribute 'social_endpoint'\n"]
2013-09-12 09:49:28,919 root:INFO [static]sending: static/style.css
2013-09-12 09:49:28,920 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 09:49:28,923 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 09:49:28,924 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 09:49:32,445 root:INFO [static]sending: static/style.css
2013-09-12 09:49:32,451 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 09:49:32,453 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 09:49:32,453 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 09:49:38,539 rp.oauth2:INFO [OAuth2] callback url: https://localhost:8092/authorization?scope=openid&state=53nVhRiGnpA2Wq6J&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth&response_type=code&client_id=u1fD2wvxhw0S
2013-09-12 09:49:38,575 rp:DEBUG [do_pyoidcOAuth2] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x105b0a950>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOAuth', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid&state=53nVhRiGnpA2Wq6J&code=nCfjZKae5XmXFnKghwYwL7ztbKSVXMXpdXXrMy7e%2BLWgZpGREzEffEm1a%2Bl3xLvA', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '52350', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x105a751d0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378972178.5746, '_creation_time': 1378971892.034137}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOAuth?scope=openid&state=53nVhRiGnpA2Wq6J&code=nCfjZKae5XmXFnKghwYwL7ztbKSVXMXpdXXrMy7e%2BLWgZpGREzEffEm1a%2Bl3xLvA', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x103f31270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 09:49:38,575 rp:DEBUG [do_pyoidcOAuth2] query: {'scope': ['openid'], 'state': ['53nVhRiGnpA2Wq6J'], 'code': ['nCfjZKae5XmXFnKghwYwL7ztbKSVXMXpdXXrMy7e+LWgZpGREzEffEm1a+l3xLvA']}
2013-09-12 09:50:16,488 root:INFO RP server starting listening on port:8666
2013-09-12 09:50:21,517 rp.oauth2:INFO [OAuth2] callback url: https://localhost:8092/authorization?scope=openid&state=sVwMnsH99rnI5P3O&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth&response_type=code&client_id=u1fD2wvxhw0S
2013-09-12 09:50:21,554 rp:DEBUG [do_pyoidcOAuth2] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x1119be950>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOAuth', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid&state=sVwMnsH99rnI5P3O&code=4vVtiUWObZj%2B7Yyz13zAvEe7VKuvh3Im6qsx8gQkfaOtLws68xo1cK%2BHxMxy42TW', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '52362', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1119c9690>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378972221.553553, '_creation_time': 1378972219.008018}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOAuth?scope=openid&state=sVwMnsH99rnI5P3O&code=4vVtiUWObZj%2B7Yyz13zAvEe7VKuvh3Im6qsx8gQkfaOtLws68xo1cK%2BHxMxy42TW', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10fde5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 09:50:21,554 rp:DEBUG [do_pyoidcOAuth2] query: {'scope': ['openid'], 'state': ['sVwMnsH99rnI5P3O'], 'code': ['4vVtiUWObZj+7Yyz13zAvEe7VKuvh3Im6qsx8gQkfaOtLws68xo1cK+HxMxy42TW']}
2013-09-12 09:50:27,549 rp:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/__init__.py", line 60, in callback\n    result = self.phaseN(environ, query, server_env, session)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/oauth2/__init__.py", line 62, in phaseN\n    response = client.parse_response(AuthorizationResponse, info, "dict")\n', "NameError: global name 'info' is not defined\n"]
2013-09-12 09:50:27,832 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 09:50:27,833 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 09:50:27,833 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 09:50:27,834 root:INFO [static]sending: static/style.css
2013-09-12 09:50:31,824 root:INFO [static]sending: static/style.css
2013-09-12 09:50:31,825 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 09:50:31,830 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 09:50:31,831 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 09:50:39,950 rp.oauth2:INFO [OAuth2] callback url: https://localhost:8092/authorization?scope=openid&state=Y0PQZ49D3bwQMQjP&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth&response_type=code&client_id=u1fD2wvxhw0S
2013-09-12 09:50:44,924 root:INFO RP server starting listening on port:8666
2013-09-12 09:50:49,509 rp.oauth2:INFO [OAuth2] callback url: https://localhost:8092/authorization?scope=openid&state=fdsyKPNBPSpAanO2&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth&response_type=code&client_id=u1fD2wvxhw0S
2013-09-12 09:50:49,544 rp:DEBUG [do_pyoidcOAuth2] environ: {'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10fb66990>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOAuth', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid&state=fdsyKPNBPSpAanO2&code=olh22KDCOU8kfKq0B5643OZHAzQ7mNY64gPlaxh2xvnjL2Y3bAP1QgYuMdCWGj5i', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '52375', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10fb726d0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378972249.543754, '_creation_time': 1378972246.675587}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOAuth?scope=openid&state=fdsyKPNBPSpAanO2&code=olh22KDCOU8kfKq0B5643OZHAzQ7mNY64gPlaxh2xvnjL2Y3bAP1QgYuMdCWGj5i', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10df90270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate'}
2013-09-12 09:50:49,545 rp:DEBUG [do_pyoidcOAuth2] query: {'scope': ['openid'], 'state': ['fdsyKPNBPSpAanO2'], 'code': ['olh22KDCOU8kfKq0B5643OZHAzQ7mNY64gPlaxh2xvnjL2Y3bAP1QgYuMdCWGj5i']}
2013-09-12 09:51:41,019 root:INFO RP server starting listening on port:8666
2013-09-12 09:51:44,497 rp.oauth2:INFO [OAuth2] callback url: https://localhost:8092/authorization?scope=openid&state=zq2j87pdMunsOfxR&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth&response_type=code&client_id=u1fD2wvxhw0S
2013-09-12 09:51:44,535 rp:DEBUG [do_pyoidcOAuth2] environ: {'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10a6af950>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOAuth', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid&state=zq2j87pdMunsOfxR&code=0z%2B0XXkSU%2B%2FHk9HLHguM5jWxKdUVTPUBKvKEN7W4ErAndpu66NaumHO7RF%2BwK%2B6G', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '52386', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10a6c0f50>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378972304.534636, '_creation_time': 1378972301.969877}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOAuth?scope=openid&state=zq2j87pdMunsOfxR&code=0z%2B0XXkSU%2B%2FHk9HLHguM5jWxKdUVTPUBKvKEN7W4ErAndpu66NaumHO7RF%2BwK%2B6G', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x108ad6270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate'}
2013-09-12 09:51:44,535 rp:DEBUG [do_pyoidcOAuth2] query: {'scope': ['openid'], 'state': ['zq2j87pdMunsOfxR'], 'code': ['0z+0XXkSU+/Hk9HLHguM5jWxKdUVTPUBKvKEN7W4ErAndpu66NaumHO7RF+wK+6G']}
2013-09-12 09:51:56,621 rp.oauth2:INFO Response: scope=openid&state=zq2j87pdMunsOfxR&code=0z%2B0XXkSU%2B%2FHk9HLHguM5jWxKdUVTPUBKvKEN7W4ErAndpu66NaumHO7RF%2BwK%2B6G
2013-09-12 09:51:59,240 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=0z%2B0XXkSU%2B%2FHk9HLHguM5jWxKdUVTPUBKvKEN7W4ErAndpu66NaumHO7RF%2BwK%2B6G&client_secret=1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560&grant_type=authorization_code&client_id=u1fD2wvxhw0S&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth
2013-09-12 09:51:59,240 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oauth2.message.AccessTokenResponse'>
2013-09-12 09:52:00,422 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 09:52:00,470 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 09:52:00,472 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 09:52:00,473 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 07:52:00 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 09:52:00,492 oic.oauth2:DEBUG resp.txt: {"access_token": "0z+0XXkSU+/Hk9HLHguM5qUXPzD0b89iIuyUThpm+VeCoroDf7K8ycXxWQC7BbWg", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbInUxZkQyd3Z4aHcwUyJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA1MTUyMCwgImlhdCI6IDEzNzg5NzIzMjAsICJzdWIiOiAiaGFobzAwMzIifQ.KML0vbvGFtJdrP5YjaUuu9ba4AMHk7BtosxNJ7jQtCnfQ9AlLZnV9gI-RpLx58dhcGIrMaGw3jYgsvqROrhEi5lAiGM53RXRfoxN1_2nIM3eJyr02NGs8TtPAXw1Gmb3eGw-zNzdNQ4R1mPWL5l6xzRbkVUA1H74xEYu6rong5A1w_gCpwZozWDOzgRQJhBHAdjEEcGNydfxUHbzZszWSP6yMYyjQvSfJbjbVXZHWmu31CxPgEhX3RjEvClYC2ZVSCLD7bhayHof8rzWW9NR5p2k8oIqpANqaPzgJgKNR6qPYiq61uo7xdZN0ZZyn26XTVm5cPITu3MjqQX16VMFQQ", "expires_in": 3600, "token_type": "Bearer", "state": "zq2j87pdMunsOfxR", "scope": "openid", "refresh_token": "0z+0XXkSU+/Hk9HLHguM5pBisRlumIu9hFwAg+iG+LhopjY/urtTgn03SmClhoh6"}
2013-09-12 09:52:08,595 oic.oauth2:DEBUG Fetch URI: https://localhost:8092/userinfo
2013-09-12 09:52:08,601 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 09:52:08,629 requests.packages.urllib3.connectionpool:DEBUG "GET /userinfo HTTP/1.1" 200 None
2013-09-12 09:52:08,631 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 09:52:08,631 rp.oauth2:INFO Userinfo: {"sub": "haho0032"}
2013-09-12 09:52:08,633 rp:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/__init__.py", line 60, in callback\n    result = self.phaseN(environ, query, server_env, session)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/oauth2/__init__.py", line 94, in phaseN\n    profile = self.convert(profile)\n', "AttributeError: 'pyoidcOAuth2' object has no attribute 'convert'\n"]
2013-09-12 09:52:13,622 root:INFO [static]sending: static/style.css
2013-09-12 09:52:13,628 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 09:52:13,632 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 09:52:13,633 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 09:52:35,093 rp.oauth2:INFO [OAuth2] callback url: https://localhost:8092/authorization?scope=openid&state=KCPebmYpftVfq8Co&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth&response_type=code&client_id=u1fD2wvxhw0S
2013-09-12 09:52:35,129 rp:DEBUG [do_pyoidcOAuth2] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10a6af950>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOAuth', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid&state=KCPebmYpftVfq8Co&code=y3zPZ5Fh7IeoJFof2TBnrtGSsAewhjFaVsuB9tWjZf9foCX5pGBbZqUn7x0nQ9Z%2B', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '52394', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10a63ca10>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378972355.128347, '_creation_time': 1378972301.969877}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOAuth?scope=openid&state=KCPebmYpftVfq8Co&code=y3zPZ5Fh7IeoJFof2TBnrtGSsAewhjFaVsuB9tWjZf9foCX5pGBbZqUn7x0nQ9Z%2B', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x108ad6270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 09:52:35,129 rp:DEBUG [do_pyoidcOAuth2] query: {'scope': ['openid'], 'state': ['KCPebmYpftVfq8Co'], 'code': ['y3zPZ5Fh7IeoJFof2TBnrtGSsAewhjFaVsuB9tWjZf9foCX5pGBbZqUn7x0nQ9Z+']}
2013-09-12 09:53:14,133 rp.oauth2:INFO Response: scope=openid&state=KCPebmYpftVfq8Co&code=y3zPZ5Fh7IeoJFof2TBnrtGSsAewhjFaVsuB9tWjZf9foCX5pGBbZqUn7x0nQ9Z%2B
2013-09-12 09:54:17,027 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=y3zPZ5Fh7IeoJFof2TBnrtGSsAewhjFaVsuB9tWjZf9foCX5pGBbZqUn7x0nQ9Z%2B&client_secret=1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560&grant_type=authorization_code&client_id=u1fD2wvxhw0S&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth
2013-09-12 09:54:17,027 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oauth2.message.AccessTokenResponse'>
2013-09-12 09:54:17,852 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 09:54:17,888 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 09:54:17,890 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 09:54:17,891 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 07:54:17 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 09:54:17,891 oic.oauth2:DEBUG resp.txt: {"access_token": "y3zPZ5Fh7IeoJFof2TBnrssLVrreSiFziSREXLU89s77DrHKf/L8DQZz7Fe5CXf6", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbInUxZkQyd3Z4aHcwUyJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA1MTY1NywgImlhdCI6IDEzNzg5NzI0NTcsICJzdWIiOiAiaGFobzAwMzIifQ.h3MtfPwKOC_D9rtxXHiYzxuhfabgtIgFPcKd6AWWcXff8CX_d7YP9P-u9LfCVGVTj2tuW6q3jF6gs-fXs9OLhjn4eTWb2d4YPOtj-5pI2SDCe5DFYe4yQ_MNjR79dX0mRqSdx2KakWd0rRvOWdFxaT8JIhm9s52Td1GjjNj98OjLlZHirtRvtewM7y1OkIO-1jZlOSWfOeu9riiv-Pwhhj4y2Zy7uIZIz9alD324LR-uPhmDVzbuQkJB_Wy0lmxvbyxh2rdL5Y9NerQ-tb73BTcN9_SGHXZGxm8LcM7w9Ipr0v2nAY3UcaMXrOCbuyfhVhG7C4OGpgpvyFRLYDREBQ", "expires_in": 3600, "token_type": "Bearer", "state": "KCPebmYpftVfq8Co", "scope": "openid", "refresh_token": "y3zPZ5Fh7IeoJFof2TBnrk97NG9F0AiuQmPyqLOkb9UX0nbeamP26gwjKLhRbX/1"}
2013-09-12 09:54:57,105 oic.oauth2:DEBUG Fetch URI: https://localhost:8092/userinfo
2013-09-12 09:54:57,111 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 09:54:57,138 requests.packages.urllib3.connectionpool:DEBUG "GET /userinfo HTTP/1.1" 200 None
2013-09-12 09:54:57,140 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 09:55:02,488 rp.oauth2:INFO Userinfo: {"sub": "haho0032"}
2013-09-12 09:55:48,812 root:INFO RP server starting listening on port:8666
2013-09-12 09:55:52,033 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 09:55:52,035 root:INFO [static]sending: static/style.css
2013-09-12 09:55:52,036 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 09:55:52,037 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 09:56:05,698 rp.oauth2:INFO [OAuth2] callback url: https://localhost:8092/authorization?scope=openid&state=lH0gBdc8ahsaTFAB&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth&response_type=code&client_id=u1fD2wvxhw0S
2013-09-12 09:56:05,752 rp:DEBUG [do_pyoidcOAuth2] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x1095c1950>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOAuth', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid&state=lH0gBdc8ahsaTFAB&code=YC7HZ0%2B8TAtnRt7Ig8TQhh9zTVUXmXWL%2F4nbkW074LW7bWN2to%2BSId1M8hh%2FP4FY', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '52434', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1095cce90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378972565.752187, '_creation_time': 1378972551.747291}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOAuth?scope=openid&state=lH0gBdc8ahsaTFAB&code=YC7HZ0%2B8TAtnRt7Ig8TQhh9zTVUXmXWL%2F4nbkW074LW7bWN2to%2BSId1M8hh%2FP4FY', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1079a8270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 09:56:05,753 rp:DEBUG [do_pyoidcOAuth2] query: {'scope': ['openid'], 'state': ['lH0gBdc8ahsaTFAB'], 'code': ['YC7HZ0+8TAtnRt7Ig8TQhh9zTVUXmXWL/4nbkW074LW7bWN2to+SId1M8hh/P4FY']}
2013-09-12 09:56:09,782 rp.oauth2:INFO Response: scope=openid&state=lH0gBdc8ahsaTFAB&code=YC7HZ0%2B8TAtnRt7Ig8TQhh9zTVUXmXWL%2F4nbkW074LW7bWN2to%2BSId1M8hh%2FP4FY
2013-09-12 09:56:10,781 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=YC7HZ0%2B8TAtnRt7Ig8TQhh9zTVUXmXWL%2F4nbkW074LW7bWN2to%2BSId1M8hh%2FP4FY&client_secret=1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560&grant_type=authorization_code&client_id=u1fD2wvxhw0S&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth
2013-09-12 09:56:10,782 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oauth2.message.AccessTokenResponse'>
2013-09-12 09:56:11,311 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 09:56:11,358 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 09:56:11,360 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 09:56:11,360 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 07:56:11 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 09:56:11,380 oic.oauth2:DEBUG resp.txt: {"access_token": "YC7HZ0+8TAtnRt7Ig8TQhn+ncPeiub6mi5imZ+acv2wr5Mj7JomtudmD9/YwB/ui", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbInUxZkQyd3Z4aHcwUyJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA1MTc3MSwgImlhdCI6IDEzNzg5NzI1NzEsICJzdWIiOiAiaGFobzAwMzIifQ.xsWqBZFjpNEJTTAJNkY96-x8YDNbrNNGvnpdbFmHzBc_Y27PnRt3NMS7I8ubyjnweRzlX94n9lbhEni9rufFjWSXOepIM71DJ9D-itYkwFjzOdcvGtL3_VADQZl5KTqhYly4e1v-XpfWS3mPLaBFBD9FxZ9z1UUOhviw5xoKP2ipgPl5C-Os_gakzii7uafDdLMITUNT11xrMVDEI8PcnbBWgfOAnc3wHdSbMd7aRmxG5psi5CaNNgwNEH8xwTx05r-XpP-FxdBeue14kE1pszyX9AaGj2blSxiADQz4NDsTag7NH35gnhzjQISyTe4d3PVzZFpbvPdyYO4E8RXFBw", "expires_in": 3600, "token_type": "Bearer", "state": "lH0gBdc8ahsaTFAB", "scope": "openid", "refresh_token": "YC7HZ0+8TAtnRt7Ig8TQhmX258YMS/XKNqhwGRdciwezVX554ZA4rQO1jbEIQEHv"}
2013-09-12 09:56:20,739 oic.oauth2:DEBUG Fetch URI: https://localhost:8092/userinfo
2013-09-12 09:56:20,745 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 09:56:20,771 requests.packages.urllib3.connectionpool:DEBUG "GET /userinfo HTTP/1.1" 200 None
2013-09-12 09:56:20,773 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 09:56:21,292 rp.oauth2:INFO Userinfo: {"sub": "haho0032"}
2013-09-12 09:56:29,758 rp:DEBUG [do_pyoidcOAuth2] response: (True, {u'sub': u'haho0032'}, u'YC7HZ0+8TAtnRt7Ig8TQhn+ncPeiub6mi5imZ+acv2wr5Mj7JomtudmD9/YwB/ui', <oic.oauth2.Client object at 0x10951ab50>)
2013-09-12 09:57:17,861 rp.oauth2:INFO [OAuth2] callback url: https://localhost:8092/authorization?scope=openid&state=w2CSZUKXI0GnrIUb&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth&response_type=code&client_id=u1fD2wvxhw0S
2013-09-12 09:57:17,896 rp:DEBUG [do_pyoidcOAuth2] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x1095c1950>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOAuth', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid&state=w2CSZUKXI0GnrIUb&code=D8wGaCcBD%2F%2BadokhRdTJGgp2YC%2BBnGEX6vob4ShQGpdKT3Y2%2B7kPHpAe40Soy0Kg', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '52442', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10961ee90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378972637.896039, '_creation_time': 1378972551.747291}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOAuth?scope=openid&state=w2CSZUKXI0GnrIUb&code=D8wGaCcBD%2F%2BadokhRdTJGgp2YC%2BBnGEX6vob4ShQGpdKT3Y2%2B7kPHpAe40Soy0Kg', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1079a8270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 09:57:17,897 rp:DEBUG [do_pyoidcOAuth2] query: {'scope': ['openid'], 'state': ['w2CSZUKXI0GnrIUb'], 'code': ['D8wGaCcBD/+adokhRdTJGgp2YC+BnGEX6vob4ShQGpdKT3Y2+7kPHpAe40Soy0Kg']}
2013-09-12 09:57:22,594 rp.oauth2:INFO Response: scope=openid&state=w2CSZUKXI0GnrIUb&code=D8wGaCcBD%2F%2BadokhRdTJGgp2YC%2BBnGEX6vob4ShQGpdKT3Y2%2B7kPHpAe40Soy0Kg
2013-09-12 09:57:23,182 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=D8wGaCcBD%2F%2BadokhRdTJGgp2YC%2BBnGEX6vob4ShQGpdKT3Y2%2B7kPHpAe40Soy0Kg&client_secret=1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560&grant_type=authorization_code&client_id=u1fD2wvxhw0S&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth
2013-09-12 09:57:23,183 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oauth2.message.AccessTokenResponse'>
2013-09-12 09:57:23,573 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 09:57:23,607 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 09:57:23,609 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 09:57:23,610 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 07:57:23 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 09:57:23,610 oic.oauth2:DEBUG resp.txt: {"access_token": "D8wGaCcBD/+adokhRdTJGt5U4JCy1FttqaYECtgrZWaRLK+gfG9xfzfHk9LhHyqp", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbInUxZkQyd3Z4aHcwUyJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA1MTg0MywgImlhdCI6IDEzNzg5NzI2NDMsICJzdWIiOiAiaGFobzAwMzIifQ.NyZCHxaFdwNmBGzI_4CWR9iR74rljsn96MhCJX90lAdMyj6DBQ8T5hmcOVDMi-5B4hH0stizKfJn-8ZY40zz0vKs_Q8dWHmKg3Y_gRfjXI_z4Ru9l9d2Jf-c8fqSZ-s5UVPa85JoQtTTLItehnx08SPQt9Kkx2hjPLBmGIXENFtSDm6UnF6xx4bZu9ONxRUXCGGRCHyLR9BJBIv_ob5lwxnk90oMus9NYOfpYaY-DdTPyx1CJBXZnVcgRcK4i-NPTd2XwhAtEhlkhys1RLdHkraIl7SxXFzV0G9X6QObrnwOHdMANe4-6P2ugK_2sCz_2uW0mp_uL8Wy0nKUQ1HJHQ", "expires_in": 3600, "token_type": "Bearer", "state": "w2CSZUKXI0GnrIUb", "scope": "openid", "refresh_token": "D8wGaCcBD/+adokhRdTJGk3jHADiye0qiIoEbjAGdZeyMI9NlfEr4/u+Ezhk3MLa"}
2013-09-12 09:57:25,939 oic.oauth2:DEBUG Fetch URI: https://localhost:8092/userinfo
2013-09-12 09:57:25,944 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 09:57:25,972 requests.packages.urllib3.connectionpool:DEBUG "GET /userinfo HTTP/1.1" 200 None
2013-09-12 09:57:25,974 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 09:57:26,373 rp.oauth2:INFO Userinfo: {"sub": "haho0032"}
2013-09-12 09:57:26,374 rp:DEBUG [do_pyoidcOAuth2] response: (True, {u'sub': u'haho0032'}, u'D8wGaCcBD/+adokhRdTJGt5U4JCy1FttqaYECtgrZWaRLK+gfG9xfzfHk9LhHyqp', <oic.oauth2.Client object at 0x109626190>)
2013-09-12 09:58:26,714 rp:DEBUG [do_pyoidcOAuth2] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x1095c1950>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOAuth', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid&state=w2CSZUKXI0GnrIUb&code=D8wGaCcBD%2F%2BadokhRdTJGgp2YC%2BBnGEX6vob4ShQGpdKT3Y2%2B7kPHpAe40Soy0Kg', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '52452', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1096263d0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378972706.713735, '_creation_time': 1378972551.747291}, 'wsgi.multithread': True, 'HTTP_CACHE_CONTROL': 'max-age=0', 'REQUEST_URI': '/pyoidcOAuth?scope=openid&state=w2CSZUKXI0GnrIUb&code=D8wGaCcBD%2F%2BadokhRdTJGgp2YC%2BBnGEX6vob4ShQGpdKT3Y2%2B7kPHpAe40Soy0Kg', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1079a8270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 09:58:26,715 rp:DEBUG [do_pyoidcOAuth2] query: {'scope': ['openid'], 'state': ['w2CSZUKXI0GnrIUb'], 'code': ['D8wGaCcBD/+adokhRdTJGgp2YC+BnGEX6vob4ShQGpdKT3Y2+7kPHpAe40Soy0Kg']}
2013-09-12 09:58:48,831 rp.oauth2:INFO Response: scope=openid&state=w2CSZUKXI0GnrIUb&code=D8wGaCcBD%2F%2BadokhRdTJGgp2YC%2BBnGEX6vob4ShQGpdKT3Y2%2B7kPHpAe40Soy0Kg
2013-09-12 09:58:51,618 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=D8wGaCcBD%2F%2BadokhRdTJGgp2YC%2BBnGEX6vob4ShQGpdKT3Y2%2B7kPHpAe40Soy0Kg&client_secret=1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560&grant_type=authorization_code&client_id=u1fD2wvxhw0S&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth
2013-09-12 09:58:51,618 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oauth2.message.AccessTokenResponse'>
2013-09-12 09:58:54,143 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 09:58:54,175 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 400 None
2013-09-12 09:58:54,178 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 09:58:54,180 rp:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/__init__.py", line 60, in callback\n    result = self.phaseN(environ, query, server_env, session)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/oauth2/__init__.py", line 81, in phaseN\n    response_cls=self.access_token_response)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 912, in do_access_token_request\n    http_args=http_args, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 852, in request_and_return\n    resp.text, resp.status_code))\n', 'Exception: ERROR: Something went wrong: {"error_description": "Access code already used!!", "error": "access_denied"} [400]\n']
2013-09-12 09:58:57,669 root:INFO [static]sending: static/style.css
2013-09-12 09:58:57,675 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 09:58:57,678 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 09:58:57,679 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 09:59:16,057 root:INFO [static]sending: static/style.css
2013-09-12 09:59:16,060 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 09:59:16,066 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 09:59:16,067 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 09:59:19,804 rp.oauth2:INFO [OAuth2] callback url: https://localhost:8092/authorization?scope=openid&state=2q2FDqYg2KMQWAjQ&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth&response_type=code&client_id=u1fD2wvxhw0S
2013-09-12 09:59:19,840 rp:DEBUG [do_pyoidcOAuth2] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x1095c1950>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOAuth', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid&state=2q2FDqYg2KMQWAjQ&code=llKZBNskiO%2FkBKEiWRC5oNDtiyxV4tBHB6lu5eFFjKuSpeWq5kQ2cdFZY%2B16zVII', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '52474', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x109649810>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378972759.839935, '_creation_time': 1378972551.747291}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOAuth?scope=openid&state=2q2FDqYg2KMQWAjQ&code=llKZBNskiO%2FkBKEiWRC5oNDtiyxV4tBHB6lu5eFFjKuSpeWq5kQ2cdFZY%2B16zVII', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1079a8270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 09:59:19,841 rp:DEBUG [do_pyoidcOAuth2] query: {'scope': ['openid'], 'state': ['2q2FDqYg2KMQWAjQ'], 'code': ['llKZBNskiO/kBKEiWRC5oNDtiyxV4tBHB6lu5eFFjKuSpeWq5kQ2cdFZY+16zVII']}
2013-09-12 09:59:19,844 rp.oauth2:INFO Response: scope=openid&state=2q2FDqYg2KMQWAjQ&code=llKZBNskiO%2FkBKEiWRC5oNDtiyxV4tBHB6lu5eFFjKuSpeWq5kQ2cdFZY%2B16zVII
2013-09-12 09:59:19,847 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=llKZBNskiO%2FkBKEiWRC5oNDtiyxV4tBHB6lu5eFFjKuSpeWq5kQ2cdFZY%2B16zVII&client_secret=1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560&grant_type=authorization_code&client_id=u1fD2wvxhw0S&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth
2013-09-12 09:59:19,847 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oauth2.message.AccessTokenResponse'>
2013-09-12 09:59:19,852 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 09:59:19,887 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 09:59:19,888 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 09:59:19,889 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 07:59:19 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 09:59:19,890 oic.oauth2:DEBUG resp.txt: {"access_token": "llKZBNskiO/kBKEiWRC5oCkyD9NLn441p9Gf7Q0oVHWgE0qj4UgzHB9ij0mJT+SH", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbInUxZkQyd3Z4aHcwUyJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA1MTk1OSwgImlhdCI6IDEzNzg5NzI3NTksICJzdWIiOiAiaGFobzAwMzIifQ.uGYEG9Q2fTOWLM2A4wqQCXkh075FKSjtKVbdqWio_WsMNmQKFVI7jQ15qteQji2ZV9dcVq1LuiDQjyavdOQFBCaywnxIh0GVJJAvO5ezBg8bWV64ri7yNKhbUM7mc1xGhrdyMHqSVfKYMyDGtXaQzzB6mMO_irzKYJlX7Lz-_bKWf26C0by_TVLxGtlkGWCU3W0U7zKNkKuCe7Oz_04ZdNZsAuNrPUK4VysOXRyOBMaxW5MB8AWD9MzGBcVqI2wwJ6uThTl0cHNdlEGPxVD8OhD9QunfT_gxgaLX9UcjtnzpR0yhPTMgKvPwgOLTyT58ZQDPScKXq0ILKghvZw4WPw", "expires_in": 3600, "token_type": "Bearer", "state": "2q2FDqYg2KMQWAjQ", "scope": "openid", "refresh_token": "llKZBNskiO/kBKEiWRC5oA7bHRU6yD/W0nfryADPIAvuH3ep6/6WwGBPo2rbXBpU"}
2013-09-12 09:59:30,187 oic.oauth2:DEBUG Fetch URI: https://localhost:8092/userinfo
2013-09-12 09:59:30,192 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 09:59:30,219 requests.packages.urllib3.connectionpool:DEBUG "GET /userinfo HTTP/1.1" 200 None
2013-09-12 09:59:30,221 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 09:59:30,734 rp.oauth2:INFO Userinfo: {"sub": "haho0032"}
2013-09-12 09:59:35,498 rp:DEBUG [do_pyoidcOAuth2] response: (True, {u'sub': u'haho0032'}, u'llKZBNskiO/kBKEiWRC5oCkyD9NLn441p9Gf7Q0oVHWgE0qj4UgzHB9ij0mJT+SH', <oic.oauth2.Client object at 0x109649c10>)
2013-09-12 10:00:47,600 root:INFO RP server starting listening on port:8666
2013-09-12 10:00:52,461 rp.oauth2:INFO [OAuth2] callback url: https://localhost:8092/authorization?scope=openid&state=NoKJQ1tFlLGRlklx&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth&response_type=code&client_id=u1fD2wvxhw0S
2013-09-12 10:00:52,514 rp:DEBUG [do_pyoidcOAuth2] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10f79d990>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOAuth', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid&state=NoKJQ1tFlLGRlklx&code=B7HI5RiNTUMC8shPxgz%2BWse9d2i5mYiupuRU9MQ3Lwt5n87kPv6oeUbZp07AFtdN', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '52489', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10f7aef90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378972852.513895, '_creation_time': 1378972850.383402}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOAuth?scope=openid&state=NoKJQ1tFlLGRlklx&code=B7HI5RiNTUMC8shPxgz%2BWse9d2i5mYiupuRU9MQ3Lwt5n87kPv6oeUbZp07AFtdN', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10db8a270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 10:00:52,515 rp:DEBUG [do_pyoidcOAuth2] query: {'scope': ['openid'], 'state': ['NoKJQ1tFlLGRlklx'], 'code': ['B7HI5RiNTUMC8shPxgz+Wse9d2i5mYiupuRU9MQ3Lwt5n87kPv6oeUbZp07AFtdN']}
2013-09-12 10:00:52,517 rp.oauth2:INFO Response: scope=openid&state=NoKJQ1tFlLGRlklx&code=B7HI5RiNTUMC8shPxgz%2BWse9d2i5mYiupuRU9MQ3Lwt5n87kPv6oeUbZp07AFtdN
2013-09-12 10:00:52,519 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=B7HI5RiNTUMC8shPxgz%2BWse9d2i5mYiupuRU9MQ3Lwt5n87kPv6oeUbZp07AFtdN&client_secret=1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560&grant_type=authorization_code&client_id=u1fD2wvxhw0S&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth
2013-09-12 10:00:52,520 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oauth2.message.AccessTokenResponse'>
2013-09-12 10:00:52,540 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 10:00:52,587 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 10:00:52,589 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 10:00:52,589 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 08:00:52 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 10:00:52,609 oic.oauth2:DEBUG resp.txt: {"access_token": "B7HI5RiNTUMC8shPxgz+Wh5JApklO79m+9JDPT4/cYU7g7fLwH6he9oTVEHkRyj1", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbInUxZkQyd3Z4aHcwUyJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA1MjA1MiwgImlhdCI6IDEzNzg5NzI4NTIsICJzdWIiOiAiaGFobzAwMzIifQ.M0551H4bvqUpyl8w2Aw5dEW6h2sp-C_c9Xz2YDSy1NdjAQmAHz1_ptgyK8qvbXcnCgz-2-AKnjXbuNH7nTxsvYEuhdoZ6Tn5DQgbdiLDpSJdo-gtX-_Es6-ewktyvytLErb1RpKoYKUSLkDAnUK9OvSO0OB3vMkUsI5G8WDaf1gN0GEph8bO9Be80W-qJFqHQaLdw1OxqSVfcI6jOPqd4GOba1hNVw4gvoGbmkFzxR4MXmgSqZ4Fw3ZjIZayb6DrqP8jI6HKBsZUAc3wE3vNwUGbs2MkzwIU2Q1ozpmwx7sVk40IXufshpTRQrjgzS8BF1aGWkP7fMYByJOM__JvOw", "expires_in": 3600, "token_type": "Bearer", "state": "NoKJQ1tFlLGRlklx", "scope": "openid", "refresh_token": "B7HI5RiNTUMC8shPxgz+WjOWQdrUB8bGk2UgjTb+7wzn3YW86SnECJeRP5Mt+bxL"}
2013-09-12 10:00:53,804 oic.oauth2:DEBUG Fetch URI: https://localhost:8092/userinfo
2013-09-12 10:00:53,812 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 10:00:53,839 requests.packages.urllib3.connectionpool:DEBUG "GET /userinfo HTTP/1.1" 200 None
2013-09-12 10:00:53,841 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 10:00:54,231 rp.oauth2:INFO Userinfo: {"sub": "haho0032"}
2013-09-12 10:00:54,232 rp:DEBUG [do_pyoidcOAuth2] response: (True, {u'sub': u'haho0032'}, u'B7HI5RiNTUMC8shPxgz+Wh5JApklO79m+9JDPT4/cYU7g7fLwH6he9oTVEHkRyj1', <oic.oauth2.Client object at 0x10f7a9650>)
2013-09-12 10:00:58,326 root:INFO [static]sending: static/style.css
2013-09-12 10:00:58,328 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 10:00:58,329 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 10:00:58,333 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 10:01:28,406 root:INFO RP server starting listening on port:8666
2013-09-12 10:01:30,662 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 10:01:30,668 root:INFO [static]sending: static/style.css
2013-09-12 10:01:30,671 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 10:01:30,672 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 10:01:33,858 rp.oauth2:INFO [OAuth2] callback url: https://localhost:8092/authorization?scope=openid+profile&state=Zifj1hq1pom9F8Hw&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth&response_type=code&client_id=u1fD2wvxhw0S
2013-09-12 10:01:33,894 rp:DEBUG [do_pyoidcOAuth2] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10dff5990>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOAuth', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=Zifj1hq1pom9F8Hw&code=Kg%2BIKiiFuKdZazgcCPBnV%2BS9uPsKPnCaPF6wwvLMlViARH%2Fz%2BLISqY87dkWVtuIe', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '52503', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10e001c90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378972893.893976, '_creation_time': 1378972890.408119}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOAuth?scope=openid+profile&state=Zifj1hq1pom9F8Hw&code=Kg%2BIKiiFuKdZazgcCPBnV%2BS9uPsKPnCaPF6wwvLMlViARH%2Fz%2BLISqY87dkWVtuIe', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10c3df270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 10:01:33,895 rp:DEBUG [do_pyoidcOAuth2] query: {'scope': ['openid profile'], 'state': ['Zifj1hq1pom9F8Hw'], 'code': ['Kg+IKiiFuKdZazgcCPBnV+S9uPsKPnCaPF6wwvLMlViARH/z+LISqY87dkWVtuIe']}
2013-09-12 10:01:33,897 rp.oauth2:INFO Response: scope=openid+profile&state=Zifj1hq1pom9F8Hw&code=Kg%2BIKiiFuKdZazgcCPBnV%2BS9uPsKPnCaPF6wwvLMlViARH%2Fz%2BLISqY87dkWVtuIe
2013-09-12 10:01:33,900 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=Kg%2BIKiiFuKdZazgcCPBnV%2BS9uPsKPnCaPF6wwvLMlViARH%2Fz%2BLISqY87dkWVtuIe&client_secret=1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560&grant_type=authorization_code&client_id=u1fD2wvxhw0S&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth
2013-09-12 10:01:33,900 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oauth2.message.AccessTokenResponse'>
2013-09-12 10:01:33,921 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 10:01:33,968 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 10:01:33,970 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 10:01:33,970 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 08:01:33 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 10:01:33,990 oic.oauth2:DEBUG resp.txt: {"access_token": "Kg+IKiiFuKdZazgcCPBnV6RsvryeAM4hvmUOBcrtAYIU+GHQJUJ+tOyQjidBpgk4", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbInUxZkQyd3Z4aHcwUyJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA1MjA5MywgImlhdCI6IDEzNzg5NzI4OTMsICJzdWIiOiAiaGFobzAwMzIifQ.A1Nyrfq5gcWUgxWcq-D93o-Z4Jt_XnayJ85o-_1tkPQlBjEVNfjorvVkj-VHTLZHMnSRKUbhQgsOegKAwa1jJXc6Gtt8ILx0dwjmhCEXzYihucM1vcOFkYLYfsSRRW7x-zUtGAEroyhOu1O7xHy45N_7yv_yQx3Wp7F9jtgSnmMy7lINdhBqCwJDsv8cuKRF3Lk5T_bv5sVtKS09KsjH8TEPksvWiDFEsmDpM9yKCRP-_Au9jQhfsyw_1-Lde3u_ZoQUmSPJgOm0iII_7P9ef9VjQ_8qkUxuv4VKZtx2Aid4Meug7b9koE6GgoCVpfTOorVrjg6CSrfjUFuEYUyKug", "expires_in": 3600, "token_type": "Bearer", "state": "Zifj1hq1pom9F8Hw", "scope": "openid profile", "refresh_token": "Kg+IKiiFuKdZazgcCPBnV+D9Q8gP/PEMMSw7y/o16STC2gGgT28yrgtWDfX+qOdn"}
2013-09-12 10:01:35,158 oic.oauth2:DEBUG Fetch URI: https://localhost:8092/userinfo
2013-09-12 10:01:35,164 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 10:01:35,192 requests.packages.urllib3.connectionpool:DEBUG "GET /userinfo HTTP/1.1" 200 None
2013-09-12 10:01:35,193 oic.oauth2:INFO RECEIVED COOKIEs: None
2013-09-12 10:01:35,536 rp.oauth2:INFO Userinfo: {"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}
2013-09-12 10:01:35,537 rp:DEBUG [do_pyoidcOAuth2] response: (True, {u'family_name': u'H\xf6rberg', u'sub': u'haho0032', u'nickname': u'Hasse', u'given_name': u'Hans', u'name': u'Hans H\xf6rberg'}, u'Kg+IKiiFuKdZazgcCPBnV6RsvryeAM4hvmUOBcrtAYIU+GHQJUJ+tOyQjidBpgk4', <oic.oauth2.Client object at 0x10df4f610>)
2013-09-12 10:01:37,940 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 10:01:37,940 root:INFO [static]sending: static/style.css
2013-09-12 10:01:37,946 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 10:01:37,948 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 10:02:33,422 root:INFO [static]sending: static/style.css
2013-09-12 10:02:33,431 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 10:02:33,432 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 10:02:33,433 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 10:02:40,047 root:INFO [static]sending: static/style.css
2013-09-12 10:02:40,052 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 10:02:40,053 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 10:02:40,054 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 10:02:52,334 root:INFO [static]sending: static/style.css
2013-09-12 10:02:52,340 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 10:02:52,343 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 10:02:52,344 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 12:28:46,595 root:INFO RP server starting listening on port:8666
2013-09-12 12:28:53,422 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 12:28:53,422 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 12:28:53,423 root:INFO [static]sending: static/style.css
2013-09-12 12:28:53,426 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 12:29:22,869 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 12:29:22,908 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092 HTTP/1.1" 500 0
2013-09-12 12:31:56,178 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 12:31:56,181 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 12:31:56,185 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 12:31:56,187 root:INFO [static]sending: static/style.css
2013-09-12 12:32:13,931 root:INFO [static]sending: static/style.css
2013-09-12 12:32:13,937 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 12:32:13,939 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 12:32:13,945 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 12:34:21,361 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 12:34:58,131 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092 HTTP/1.1" 500 0
2013-09-12 12:35:13,133 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 12:35:13,135 root:INFO [static]sending: static/style.css
2013-09-12 12:35:13,139 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 12:35:13,141 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 13:19:20,426 root:INFO RP server starting listening on port:8666
2013-09-12 13:19:28,885 root:INFO [static]sending: static/style.css
2013-09-12 13:19:28,891 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 13:19:28,892 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 13:19:28,894 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 13:19:29,798 root:INFO [static]sending: static/style.css
2013-09-12 13:19:29,802 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 13:19:29,803 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 13:19:29,807 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 13:19:42,225 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 13:19:42,255 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092 HTTP/1.1" 500 0
2013-09-12 13:19:51,806 root:INFO RP server starting listening on port:8666
2013-09-12 13:20:07,017 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 13:23:27,967 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092 HTTP/1.1" 400 None
2013-09-12 13:23:30,549 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 13:23:30,555 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 13:23:30,556 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 13:23:30,557 root:INFO [static]sending: static/style.css
2013-09-12 13:23:33,893 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 13:23:33,897 root:INFO [static]sending: static/style.css
2013-09-12 13:23:33,898 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 13:23:33,903 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 13:24:01,779 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 13:24:03,866 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092 HTTP/1.1" 400 None
2013-09-12 13:24:03,985 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 13:24:04,197 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 13:24:04,202 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 13:24:04,203 root:INFO [static]sending: static/style.css
2013-09-12 13:24:14,175 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 13:26:26,800 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 13:26:42,193 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092 HTTP/1.1" 400 None
2013-09-12 13:26:42,488 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 13:26:42,494 root:INFO [static]sending: static/style.css
2013-09-12 13:26:42,498 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 13:26:42,499 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 13:26:57,054 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 13:27:04,201 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092 HTTP/1.1" 400 None
2013-09-12 13:27:23,081 root:INFO [static]sending: static/style.css
2013-09-12 13:27:23,086 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 13:27:23,088 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 13:27:23,094 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 13:27:26,816 root:INFO RP server starting listening on port:8666
2013-09-12 13:27:56,822 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 13:28:10,176 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 13:28:10,483 root:INFO [static]sending: static/style.css
2013-09-12 13:28:10,484 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 13:28:10,489 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 13:28:10,490 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 13:29:47,375 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 13:29:50,292 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 13:43:35,973 root:INFO RP server starting listening on port:8666
2013-09-12 13:45:41,497 root:INFO RP server starting listening on port:8666
2013-09-12 13:45:56,016 root:INFO RP server starting listening on port:8666
2013-09-12 13:49:00,767 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 13:49:00,768 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 13:49:00,776 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 13:49:00,778 root:INFO [static]sending: static/style.css
2013-09-12 13:49:40,466 root:INFO RP server starting listening on port:8666
2013-09-12 13:56:50,201 root:INFO RP server starting listening on port:8666
2013-09-12 13:56:58,314 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 13:57:30,261 root:INFO RP server starting listening on port:8666
2013-09-12 13:57:38,146 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 13:57:56,075 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 13:58:15,382 root:INFO RP server starting listening on port:8666
2013-09-12 13:58:35,859 root:INFO RP server starting listening on port:8666
2013-09-12 13:58:43,095 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 13:58:54,064 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 13:59:14,943 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 13:59:23,747 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 13:59:49,332 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 13:59:56,431 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 14:02:27,475 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 14:03:40,238 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 14:04:32,069 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 14:06:30,198 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 14:06:40,569 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 14:07:55,784 root:INFO RP server starting listening on port:8666
2013-09-12 14:08:02,254 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 14:08:15,928 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 500 None
2013-09-12 14:08:31,669 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 14:20:48,885 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 500 None
2013-09-12 14:20:58,829 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 14:21:07,310 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 500 None
2013-09-12 14:21:26,742 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 14:22:59,115 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 14:23:09,436 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 14:24:41,266 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 14:24:50,366 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 14:25:47,788 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 14:26:07,173 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 14:26:07,204 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 14:26:18,928 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 14:26:18,959 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 14:26:37,285 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 14:28:55,071 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 14:29:22,473 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 14:29:53,606 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 14:30:01,687 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 14:30:24,007 root:INFO RP server starting listening on port:8666
2013-09-12 14:30:28,178 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 14:30:39,229 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 14:30:40,594 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 14:30:40,595 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10884aa50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10884aad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x106da1ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, u'https://localhost:8092/': {'description': 'Automatic OIDC', 'scope:': ['openid', 'profile'], 'opKey': u'https://localhost:8092/', 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10884aa50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10884aad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x106da1ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, u'https://localhost:8092/': {'description': 'Automatic OIDC', 'scope:': ['openid', 'profile'], 'opKey': u'https://localhost:8092/', 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10884a9d0>, 'PORT': 8666}
2013-09-12 14:30:43,555 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 14:30:47,198 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-12 14:30:48,817 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-12 14:30:48,823 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 14:30:50,571 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 14:30:50,598 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-12 14:30:56,995 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 14:30:56,996 rp.openidconnect:DEBUG Registering RP
2013-09-12 14:30:57,005 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 14:30:59,047 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-12 14:31:01,964 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378985459&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2Fhttps%3A%2F%2Flocalhost%3A8092%2F&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DrFdJUqSdXH1R&registration_access_token=jtbJRNUcdDXMw1NSs4zD0MZL5LCkCz2i&client_id=rFdJUqSdXH1R&client_secret=5e6f5946009c3cd7860d81592b25629223600fb9dff1d54eb40430d1&client_secret_expires_at=1379071859
2013-09-12 14:31:01,970 rp.openidconnect:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 127, in begin\n    "scope": self.extra["scope"],\n', "KeyError: 'scope'\n"]
2013-09-12 14:31:05,883 root:INFO [static]sending: static/style.css
2013-09-12 14:31:05,884 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 14:31:05,890 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 14:31:05,892 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 14:31:27,849 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 14:31:38,034 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 14:32:02,652 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 14:32:07,119 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10884aa50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10884aad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x106da1ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, u'https://localhost:8092/': {'description': 'Automatic OIDC', 'scope:': ['openid', 'profile'], 'opKey': u'https://localhost:8092/', 'instance': <rp.pyoidc.pyoidcOIC object at 0x107248a90>, 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10884aa50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10884aad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x106da1ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, u'https://localhost:8092/': {'description': 'Automatic OIDC', 'scope:': ['openid', 'profile'], 'opKey': u'https://localhost:8092/', 'instance': <rp.pyoidc.pyoidcOIC object at 0x107248a90>, 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {u'https://localhost:8092/': <oic.oic.Client object at 0x10884ab10>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10884a9d0>, 'PORT': 8666}
2013-09-12 14:32:22,724 rp.openidconnect:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 127, in begin\n    "scope": self.extra["scope"],\n', "KeyError: 'scope'\n"]
2013-09-12 14:32:24,432 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 14:32:24,434 root:INFO [static]sending: static/style.css
2013-09-12 14:32:24,442 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 14:32:24,444 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 14:33:22,716 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 14:33:22,745 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 14:33:26,249 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 14:33:26,575 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10884aa50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10884aad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x106da1ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, u'https://localhost:8092/': {'description': 'Automatic OIDC', 'scope:': ['openid', 'profile'], 'opKey': u'https://localhost:8092/', 'instance': <rp.pyoidc.pyoidcOIC object at 0x108ba6090>, 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10884aa50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10884aad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x106da1ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, u'https://localhost:8092/': {'description': 'Automatic OIDC', 'scope:': ['openid', 'profile'], 'opKey': u'https://localhost:8092/', 'instance': <rp.pyoidc.pyoidcOIC object at 0x108ba6090>, 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {u'https://localhost:8092/': <oic.oic.Client object at 0x10884ab10>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10884a9d0>, 'PORT': 8666}
2013-09-12 14:35:17,361 rp.openidconnect:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 127, in begin\n    "scope": self.extra["scope"],\n', "KeyError: 'scope'\n"]
2013-09-12 14:35:19,608 root:INFO [static]sending: static/style.css
2013-09-12 14:35:19,610 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 14:35:19,611 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 14:35:19,612 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 14:35:22,700 root:INFO RP server starting listening on port:8666
2013-09-12 14:35:29,740 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 14:35:29,770 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 14:35:31,296 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 14:35:31,297 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x11113fa50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x11113fad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f695ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, u'https://localhost:8092/': {'description': 'Automatic OIDC', 'opKey': u'https://localhost:8092/', 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x11113fa50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x11113fad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f695ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, u'https://localhost:8092/': {'description': 'Automatic OIDC', 'opKey': u'https://localhost:8092/', 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x11113f9d0>, 'PORT': 8666}
2013-09-12 14:35:34,706 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 14:35:34,749 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-12 14:35:34,777 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-12 14:35:34,782 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 14:35:36,831 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 14:35:36,832 rp.openidconnect:DEBUG Registering RP
2013-09-12 14:35:36,842 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 14:35:36,887 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-12 14:35:36,894 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378985736&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2Fhttps%3A%2F%2Flocalhost%3A8092%2F&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DpfaaxzYMTyWA&registration_access_token=l0wBkida26x9hZ4spJs1X0U9Ihbd4M2v&client_id=pfaaxzYMTyWA&client_secret=e6293dd1bafe934601513d3a0992aa7b46303e2d8cb88749c444cb49&client_secret_expires_at=1379072136
2013-09-12 14:35:36,895 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x11149d550>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:60ee38fb-5722-4c3e-a3dd-78fdb53b77bd'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'e6293dd1bafe934601513d3a0992aa7b46303e2d8cb88749c444cb49'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x11149d450>), ('redirect_uris', [u'http://hashog.umdc.umu.se:8666/https://localhost:8092/']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x1114ab3d0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'pfaaxzYMTyWA'), ('registration_expires', 1379072136), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x11149d050>), ('client_prefs', {}), ('registration_access_token', u'l0wBkida26x9hZ4spJs1X0U9Ihbd4M2v'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 14:35:36,895 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:60ee38fb-5722-4c3e-a3dd-78fdb53b77bd', 'response_type': 'code'}
2013-09-12 14:35:36,898 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A60ee38fb-5722-4c3e-a3dd-78fdb53b77bd&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2Fhttps%3A%2F%2Flocalhost%3A8092%2F&response_type=code&client_id=pfaaxzYMTyWA
2013-09-12 14:35:36,900 rp.openidconnect:DEBUG body: None
2013-09-12 14:35:36,900 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A60ee38fb-5722-4c3e-a3dd-78fdb53b77bd&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2Fhttps%3A%2F%2Flocalhost%3A8092%2F&response_type=code&client_id=pfaaxzYMTyWA
2013-09-12 14:35:36,901 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 14:35:36,991 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 14:35:37,018 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-12 14:35:41,000 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A60ee38fb-5722-4c3e-a3dd-78fdb53b77bd&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2Fhttps%3A%2F%2Flocalhost%3A8092%2F&response_type=code&client_id=pfaaxzYMTyWA')]
2013-09-12 14:36:13,603 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 14:36:13,607 root:INFO [static]sending: static/style.css
2013-09-12 14:36:13,608 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 14:36:13,614 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 14:37:33,995 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 14:37:34,023 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 14:37:35,219 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 14:37:35,220 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x11113fa50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x11113fad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f695ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, u'https://localhost:8092/': {'description': 'Automatic OIDC', 'opKey': u'https://localhost:8092/', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1114d1f90>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x11113fa50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x11113fad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f695ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, u'https://localhost:8092/': {'description': 'Automatic OIDC', 'opKey': u'https://localhost:8092/', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1114d1f90>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {u'https://localhost:8092/': <oic.oic.Client object at 0x11113fb10>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x11113f9d0>, 'PORT': 8666}
2013-09-12 14:37:35,221 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x11149d550>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:5a577a75-4826-4bdf-945a-8facbcf7ab96'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'e6293dd1bafe934601513d3a0992aa7b46303e2d8cb88749c444cb49'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x11149d450>), ('redirect_uris', [u'http://hashog.umdc.umu.se:8666/https://localhost:8092/']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x1114ab3d0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'pfaaxzYMTyWA'), ('registration_expires', 1379072136), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x11149d050>), ('client_prefs', {}), ('registration_access_token', u'l0wBkida26x9hZ4spJs1X0U9Ihbd4M2v'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 14:37:35,222 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:5a577a75-4826-4bdf-945a-8facbcf7ab96', 'response_type': 'code'}
2013-09-12 14:37:35,227 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A5a577a75-4826-4bdf-945a-8facbcf7ab96&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2Fhttps%3A%2F%2Flocalhost%3A8092%2F&response_type=code&client_id=pfaaxzYMTyWA
2013-09-12 14:37:35,229 rp.openidconnect:DEBUG body: None
2013-09-12 14:37:35,229 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A5a577a75-4826-4bdf-945a-8facbcf7ab96&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2Fhttps%3A%2F%2Flocalhost%3A8092%2F&response_type=code&client_id=pfaaxzYMTyWA
2013-09-12 14:37:35,230 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 14:37:35,230 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A5a577a75-4826-4bdf-945a-8facbcf7ab96&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2Fhttps%3A%2F%2Flocalhost%3A8092%2F&response_type=code&client_id=pfaaxzYMTyWA')]
2013-09-12 14:37:35,627 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 14:37:35,632 root:INFO [static]sending: static/style.css
2013-09-12 14:37:35,634 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 14:37:35,637 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 14:38:04,774 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 14:38:04,802 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 14:38:13,380 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 14:38:13,636 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x11113fa50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x11113fad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f695ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, u'https://localhost:8092/': {'description': 'Automatic OIDC', 'opKey': u'https://localhost:8092/', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1114d1b10>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x11113fa50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x11113fad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f695ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, u'https://localhost:8092/': {'description': 'Automatic OIDC', 'opKey': u'https://localhost:8092/', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1114d1b10>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {u'https://localhost:8092/': <oic.oic.Client object at 0x11113fb10>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x11113f9d0>, 'PORT': 8666}
2013-09-12 14:38:17,776 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x11149d550>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:e089c4c3-fd24-4f22-9619-c9375400d227'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'e6293dd1bafe934601513d3a0992aa7b46303e2d8cb88749c444cb49'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x11149d450>), ('redirect_uris', [u'http://hashog.umdc.umu.se:8666/https://localhost:8092/']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x1114ab3d0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'pfaaxzYMTyWA'), ('registration_expires', 1379072136), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x11149d050>), ('client_prefs', {}), ('registration_access_token', u'l0wBkida26x9hZ4spJs1X0U9Ihbd4M2v'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 14:38:18,055 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:e089c4c3-fd24-4f22-9619-c9375400d227', 'response_type': 'code'}
2013-09-12 14:38:19,475 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Ae089c4c3-fd24-4f22-9619-c9375400d227&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2Fhttps%3A%2F%2Flocalhost%3A8092%2F&response_type=code&client_id=pfaaxzYMTyWA
2013-09-12 14:38:20,538 rp.openidconnect:DEBUG body: None
2013-09-12 14:38:21,137 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ae089c4c3-fd24-4f22-9619-c9375400d227&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2Fhttps%3A%2F%2Flocalhost%3A8092%2F&response_type=code&client_id=pfaaxzYMTyWA
2013-09-12 14:38:21,350 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 14:38:22,385 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ae089c4c3-fd24-4f22-9619-c9375400d227&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2Fhttps%3A%2F%2Flocalhost%3A8092%2F&response_type=code&client_id=pfaaxzYMTyWA')]
2013-09-12 14:39:13,811 root:INFO [static]sending: static/style.css
2013-09-12 14:39:13,813 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 14:39:13,820 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 14:39:13,821 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 14:39:21,806 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 14:39:21,835 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 14:39:24,506 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 14:39:24,993 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x11113fa50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x11113fad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f695ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, u'https://localhost:8092/': {'description': 'Automatic OIDC', 'opKey': u'https://localhost:8092/', 'instance': <rp.pyoidc.pyoidcOIC object at 0x11114bfd0>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x11113fa50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x11113fad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f695ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, u'https://localhost:8092/': {'description': 'Automatic OIDC', 'opKey': u'https://localhost:8092/', 'instance': <rp.pyoidc.pyoidcOIC object at 0x11114bfd0>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {u'https://localhost:8092/': <oic.oic.Client object at 0x11113fb10>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x11113f9d0>, 'PORT': 8666}
2013-09-12 14:41:08,210 root:INFO RP server starting listening on port:8666
2013-09-12 14:41:18,329 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 14:41:18,359 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 14:43:31,506 root:INFO RP server starting listening on port:8666
2013-09-12 14:43:45,263 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 14:43:45,296 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 14:45:16,984 root:INFO RP server starting listening on port:8666
2013-09-12 14:45:26,654 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 14:45:26,684 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 14:45:39,249 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 14:45:39,583 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f569a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f569ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f8c7f50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f569a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f569ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f8c7f50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10f5699d0>, 'PORT': 8666}
2013-09-12 14:45:47,574 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 14:45:47,615 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-12 14:45:47,644 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-12 14:45:47,649 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 14:45:49,297 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 14:45:49,297 rp.openidconnect:DEBUG Registering RP
2013-09-12 14:45:49,303 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 14:45:49,349 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-12 14:45:49,355 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378986349&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3Dtf51giDA27Zn&registration_access_token=5brnRQHl6VHxP2j1iOdWxYhJUAyEDQKe&client_id=tf51giDA27Zn&client_secret=5d15de1ec52aae842094ce3457e811c05e662d6e31ead7d7a0e9abbc&client_secret_expires_at=1379072749
2013-09-12 14:45:49,357 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10f8c7450>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:9aa44cc2-de86-408c-8e69-aa950005aee3'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'5d15de1ec52aae842094ce3457e811c05e662d6e31ead7d7a0e9abbc'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10f8c71d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/919D3F697FDAAF138124B83E09ECB0B7']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10f8d5450>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'tf51giDA27Zn'), ('registration_expires', 1379072749), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10f8c7050>), ('client_prefs', {}), ('registration_access_token', u'5brnRQHl6VHxP2j1iOdWxYhJUAyEDQKe'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 14:45:49,357 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:9aa44cc2-de86-408c-8e69-aa950005aee3', 'response_type': 'code'}
2013-09-12 14:45:49,360 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A9aa44cc2-de86-408c-8e69-aa950005aee3&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=tf51giDA27Zn
2013-09-12 14:45:49,361 rp.openidconnect:DEBUG body: None
2013-09-12 14:45:49,362 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A9aa44cc2-de86-408c-8e69-aa950005aee3&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=tf51giDA27Zn
2013-09-12 14:45:49,362 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 14:45:49,363 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A9aa44cc2-de86-408c-8e69-aa950005aee3&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=tf51giDA27Zn')]
2013-09-12 14:45:49,464 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 14:45:49,492 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-12 14:46:20,015 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 14:46:20,044 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 14:46:21,898 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 14:46:21,898 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f569a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f569ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f62f450>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f569a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f569ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f62f450>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'919D3F697FDAAF138124B83E09ECB0B7': <oic.oic.Client object at 0x10f8c7550>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10f5699d0>, 'PORT': 8666}
2013-09-12 14:46:21,899 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10f8c7450>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:3ab0a287-8cfe-43b2-8a58-78018eb060f7'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'5d15de1ec52aae842094ce3457e811c05e662d6e31ead7d7a0e9abbc'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10f8c71d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/919D3F697FDAAF138124B83E09ECB0B7']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10f8d5450>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'tf51giDA27Zn'), ('registration_expires', 1379072749), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10f8c7050>), ('client_prefs', {}), ('registration_access_token', u'5brnRQHl6VHxP2j1iOdWxYhJUAyEDQKe'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 14:46:21,900 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:3ab0a287-8cfe-43b2-8a58-78018eb060f7', 'response_type': 'code'}
2013-09-12 14:46:21,904 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A3ab0a287-8cfe-43b2-8a58-78018eb060f7&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=tf51giDA27Zn
2013-09-12 14:46:21,907 rp.openidconnect:DEBUG body: None
2013-09-12 14:46:21,907 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A3ab0a287-8cfe-43b2-8a58-78018eb060f7&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=tf51giDA27Zn
2013-09-12 14:46:21,907 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 14:46:21,908 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A3ab0a287-8cfe-43b2-8a58-78018eb060f7&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=tf51giDA27Zn')]
2013-09-12 14:47:13,649 root:INFO RP server starting listening on port:8666
2013-09-12 14:47:21,173 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 14:47:21,202 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 14:47:23,643 rp.oauth2:INFO [OAuth2] callback url: https://localhost:8092/authorization?scope=openid+profile&state=wp91SPHctOF2Qhzv&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth&response_type=code&client_id=u1fD2wvxhw0S
2013-09-12 14:47:24,846 rp:DEBUG [do_pyoidcOAuth2] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10d89ca10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOAuth', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=wp91SPHctOF2Qhzv&code=PBT5fgUJ%2FfOYW9fY36Hq7N34bJ2htks%2FPtaUzifj%2BHqXIBt19wJlkYTMgz8hKkb%2F', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '55164', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10d8a8fd0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378990043.697024, '_creation_time': 1378990038.032558}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOAuth?scope=openid+profile&state=wp91SPHctOF2Qhzv&code=PBT5fgUJ%2FfOYW9fY36Hq7N34bJ2htks%2FPtaUzifj%2BHqXIBt19wJlkYTMgz8hKkb%2F', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10bcc5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 14:47:24,846 rp:DEBUG [do_pyoidcOAuth2] query: {'scope': ['openid profile'], 'state': ['wp91SPHctOF2Qhzv'], 'code': ['PBT5fgUJ/fOYW9fY36Hq7N34bJ2htks/PtaUzifj+HqXIBt19wJlkYTMgz8hKkb/']}
2013-09-12 14:47:24,849 rp.oauth2:INFO Response: scope=openid+profile&state=wp91SPHctOF2Qhzv&code=PBT5fgUJ%2FfOYW9fY36Hq7N34bJ2htks%2FPtaUzifj%2BHqXIBt19wJlkYTMgz8hKkb%2F
2013-09-12 14:47:24,851 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=PBT5fgUJ%2FfOYW9fY36Hq7N34bJ2htks%2FPtaUzifj%2BHqXIBt19wJlkYTMgz8hKkb%2F&client_secret=1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560&grant_type=authorization_code&client_id=u1fD2wvxhw0S&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth
2013-09-12 14:47:24,852 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oauth2.message.AccessTokenResponse'>
2013-09-12 14:47:24,857 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 14:47:26,237 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 14:47:26,238 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 12:47:26 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 14:47:26,258 oic.oauth2:DEBUG resp.txt: {"access_token": "PBT5fgUJ/fOYW9fY36Hq7PEXyeu02J7/7eFZ1N0HsYBNLrOBUb+mvM6L1OiocQ7o", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbInUxZkQyd3Z4aHcwUyJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA2OTI0NSwgImlhdCI6IDEzNzg5OTAwNDUsICJzdWIiOiAiaGFobzAwMzIifQ.okdu8iFU8JmT3A-UOyGCPdCQUzEjfxJkoRshu0H2mS605r3W7Q2y9YIDCoKQNmZ9KfTS-cBqkMhyv-LBcV9GmO-7y0669el1d6bEQOPkvnXEC7brRhXGV5PmTk2QCthBODkMPq-fTxj-TgtDyZB7swEXwADdbQmOKwjuXl0SCMkvP_Z5_TK5OGrjx6Walryus-a2n9mBYIsPJNEOWqu0JVSFpWgcIXQKncdkwsaQEQTgDQAnzxgJv7cgpLDX3Y7RBGODjHghT24QGOmiBvtMMonMyY6C9tmnZdRHFSbEBAQKVLjpW54XKUoxobMfwYJz2fvRGsZyfQ5fm1O2qskVfg", "expires_in": 3600, "token_type": "Bearer", "state": "wp91SPHctOF2Qhzv", "scope": "openid profile", "refresh_token": "PBT5fgUJ/fOYW9fY36Hq7IhI+4Pfv8GTjFmZaxaBCsVNdY3r+KQK9uHbRcpGGTJq"}
2013-09-12 14:47:28,403 oic.oauth2:DEBUG Fetch URI: https://localhost:8092/userinfo
2013-09-12 14:47:28,409 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 14:47:28,447 requests.packages.urllib3.connectionpool:DEBUG "GET /userinfo HTTP/1.1" 200 None
2013-09-12 14:47:29,235 rp.oauth2:INFO Userinfo: {"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}
2013-09-12 14:47:29,236 rp:DEBUG [do_pyoidcOAuth2] response: (True, {u'family_name': u'H\xf6rberg', u'sub': u'haho0032', u'nickname': u'Hasse', u'given_name': u'Hans', u'name': u'Hans H\xf6rberg'}, u'PBT5fgUJ/fOYW9fY36Hq7PEXyeu02J7/7eFZ1N0HsYBNLrOBUb+mvM6L1OiocQ7o', <oic.oauth2.Client object at 0x10d7f8450>)
2013-09-12 14:47:33,286 root:INFO [static]sending: static/style.css
2013-09-12 14:47:33,289 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 14:47:33,290 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 14:47:33,296 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 14:47:59,637 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 14:47:59,638 root:INFO [static]sending: static/style.css
2013-09-12 14:47:59,640 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 14:47:59,644 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 14:48:07,026 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 14:48:07,054 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 14:48:15,842 rp.oauth2:INFO [OAuth2] callback url: https://localhost:8092/authorization?scope=openid+profile&state=BFVEYWAjl1a3kql6&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth&response_type=code&client_id=u1fD2wvxhw0S
2013-09-12 14:48:15,905 rp:DEBUG [do_pyoidcOAuth2] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10d89ca10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOAuth', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=BFVEYWAjl1a3kql6&code=ZWVUUuS8vvMvbIfV7Lj1QgEgMQ1UcrSvbMSIG1fxfOWQSkjfLk4nCEUZmAWOs0kl', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '55184', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10d829e50>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378990095.905234, '_creation_time': 1378990038.032558}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOAuth?scope=openid+profile&state=BFVEYWAjl1a3kql6&code=ZWVUUuS8vvMvbIfV7Lj1QgEgMQ1UcrSvbMSIG1fxfOWQSkjfLk4nCEUZmAWOs0kl', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10bcc5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 14:48:15,906 rp:DEBUG [do_pyoidcOAuth2] query: {'scope': ['openid profile'], 'state': ['BFVEYWAjl1a3kql6'], 'code': ['ZWVUUuS8vvMvbIfV7Lj1QgEgMQ1UcrSvbMSIG1fxfOWQSkjfLk4nCEUZmAWOs0kl']}
2013-09-12 14:48:15,908 rp.oauth2:INFO Response: scope=openid+profile&state=BFVEYWAjl1a3kql6&code=ZWVUUuS8vvMvbIfV7Lj1QgEgMQ1UcrSvbMSIG1fxfOWQSkjfLk4nCEUZmAWOs0kl
2013-09-12 14:48:15,910 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=ZWVUUuS8vvMvbIfV7Lj1QgEgMQ1UcrSvbMSIG1fxfOWQSkjfLk4nCEUZmAWOs0kl&client_secret=1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560&grant_type=authorization_code&client_id=u1fD2wvxhw0S&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth
2013-09-12 14:48:15,911 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oauth2.message.AccessTokenResponse'>
2013-09-12 14:48:15,915 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 14:48:21,912 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 14:48:21,914 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 12:48:21 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 14:48:21,914 oic.oauth2:DEBUG resp.txt: {"access_token": "ZWVUUuS8vvMvbIfV7Lj1Qi81TwJHRSbWsHVATFKescTVHF0VJOZOaE34lMivujkr", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbInUxZkQyd3Z4aHcwUyJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA2OTI5OCwgImlhdCI6IDEzNzg5OTAwOTgsICJzdWIiOiAiaGFobzAwMzIifQ.QPVRPeTjOFTe_gOXxdVPc089BL2rcE2IiAhGFTHHY07m2wuXsNygo-gs22_zRX6PMlAI46zVSnXgCOpQIuOQVK_tqmTneZVVj34ebSOl3xN5sqaNgVXdgeEoKKGy6Hc8jnhNVJhxRudtrkkncZm94nGmi596F9E5ORjbI-Js2MvpuK1yp4MmB2f7952uCLAJdb1xQ0orVMembgNZjZ1VE7DFxYb2yGghhDCYUEWdXgmCqwzhDj7AWI-T1P_4o-fHndmh7KnLTcKflMtzG5bWqmJJ_b49QVjbcRHbMV2aih9G3eduu-54Xok4xVT-M3jsZO6dTNpjV84rlPHVVujBIA", "expires_in": 3600, "token_type": "Bearer", "state": "BFVEYWAjl1a3kql6", "scope": "openid profile", "refresh_token": "ZWVUUuS8vvMvbIfV7Lj1QuGr8gehVdXhlrQKxxg8DYx/w4PqCcNZ5zLie4V0DmAj"}
2013-09-12 14:48:26,725 oic.oauth2:DEBUG Fetch URI: https://localhost:8092/userinfo
2013-09-12 14:48:26,730 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 14:48:26,769 requests.packages.urllib3.connectionpool:DEBUG "GET /userinfo HTTP/1.1" 200 None
2013-09-12 14:48:26,771 rp.oauth2:INFO Userinfo: {"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}
2013-09-12 14:48:26,772 rp:DEBUG [do_pyoidcOAuth2] response: (True, {u'family_name': u'H\xf6rberg', u'sub': u'haho0032', u'nickname': u'Hasse', u'given_name': u'Hans', u'name': u'Hans H\xf6rberg'}, u'ZWVUUuS8vvMvbIfV7Lj1Qi81TwJHRSbWsHVATFKescTVHF0VJOZOaE34lMivujkr', <oic.oauth2.Client object at 0x10d832410>)
2013-09-12 14:50:00,635 root:INFO RP server starting listening on port:8666
2013-09-12 14:50:04,702 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 14:50:05,068 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 14:50:05,073 rp.oauth2:INFO [OAuth2] callback url: https://localhost:8092/authorization?scope=openid+profile&state=rlsTky3vPF0fIfzd&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth&response_type=code&client_id=u1fD2wvxhw0S
2013-09-12 14:50:05,135 rp:DEBUG [do_pyoidcOAuth2] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10d6cfa10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOAuth', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=rlsTky3vPF0fIfzd&code=RWeLOtwxUoa1Rs%2BSpp4sx8oOj4pr3S5RpGrmC%2FWZ%2Bv96clY4L%2FTumzMLh6cffxUS', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '55226', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10d6dafd0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378990205.13499, '_creation_time': 1378990204.681431}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOAuth?scope=openid+profile&state=rlsTky3vPF0fIfzd&code=RWeLOtwxUoa1Rs%2BSpp4sx8oOj4pr3S5RpGrmC%2FWZ%2Bv96clY4L%2FTumzMLh6cffxUS', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10bab9270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 14:50:05,136 rp:DEBUG [do_pyoidcOAuth2] query: {'scope': ['openid profile'], 'state': ['rlsTky3vPF0fIfzd'], 'code': ['RWeLOtwxUoa1Rs+Spp4sx8oOj4pr3S5RpGrmC/WZ+v96clY4L/TumzMLh6cffxUS']}
2013-09-12 14:50:05,138 rp.oauth2:INFO Response: scope=openid+profile&state=rlsTky3vPF0fIfzd&code=RWeLOtwxUoa1Rs%2BSpp4sx8oOj4pr3S5RpGrmC%2FWZ%2Bv96clY4L%2FTumzMLh6cffxUS
2013-09-12 14:50:05,140 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=RWeLOtwxUoa1Rs%2BSpp4sx8oOj4pr3S5RpGrmC%2FWZ%2Bv96clY4L%2FTumzMLh6cffxUS&client_secret=1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560&grant_type=authorization_code&client_id=u1fD2wvxhw0S&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth
2013-09-12 14:50:05,141 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oauth2.message.AccessTokenResponse'>
2013-09-12 14:50:05,145 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 14:50:05,199 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 14:50:05,201 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 12:50:05 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 14:50:05,221 oic.oauth2:DEBUG resp.txt: {"access_token": "RWeLOtwxUoa1Rs+Spp4sx5mmrQTaFaCECYoo7qvlDZtPhQh7ooV452lt21FTLPLu", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbInUxZkQyd3Z4aHcwUyJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA2OTQwNSwgImlhdCI6IDEzNzg5OTAyMDUsICJzdWIiOiAiaGFobzAwMzIifQ.JxpfEQRnyD36LHMd_XuMYxqrlwJ1cCGK3dD-wMkwxABuxvx4oOTt3VVo5sBDIfE7KrTFfmajNZY2UYijZCdA3_rqF97VlKU8hhXr1HxOoWATZb5Zs9Zl1c12qyk1teAVzsgAtLt1GpDgiX0U3jvjGwnn1Y6Ea7OMKrZzbw939aSEqyXJVgsEmaVlEBtJs_3-knL_pX9_uWhuyx1v0R5A8tYQvwYj9mVDXTpk7GEvgWWT2vpGVyGidSLSC5XS_wCI0tqr6Ql6VsuZkZWqA2gBvBQCoEE3n_WFSwG6YRQQjG_QS2L2mb-Q3_eNoIa5rdN_Dd3XJ52z5pBsaPyIIkulAw", "expires_in": 3600, "token_type": "Bearer", "state": "rlsTky3vPF0fIfzd", "scope": "openid profile", "refresh_token": "RWeLOtwxUoa1Rs+Spp4sx5f1fuYTCagx7+G+ApIuuoI5En39v+sLJw7dPK9o4cpH"}
2013-09-12 14:50:05,224 oic.oauth2:DEBUG Fetch URI: https://localhost:8092/userinfo
2013-09-12 14:50:05,229 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 14:50:05,269 requests.packages.urllib3.connectionpool:DEBUG "GET /userinfo HTTP/1.1" 200 None
2013-09-12 14:50:05,272 rp.oauth2:INFO Userinfo: {"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}
2013-09-12 14:50:05,272 rp:DEBUG [do_pyoidcOAuth2] response: (True, {u'family_name': u'H\xf6rberg', u'sub': u'haho0032', u'nickname': u'Hasse', u'given_name': u'Hans', u'name': u'Hans H\xf6rberg'}, u'RWeLOtwxUoa1Rs+Spp4sx5mmrQTaFaCECYoo7qvlDZtPhQh7ooV452lt21FTLPLu', <oic.oauth2.Client object at 0x10d6dd5d0>)
2013-09-12 14:50:10,653 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 14:50:10,654 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 14:50:10,657 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 14:50:10,661 root:INFO [static]sending: static/style.css
2013-09-12 14:50:34,007 rp:DEBUG [do_pyoidcOAuth2] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10d6cfa10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOAuth', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=rlsTky3vPF0fIfzd&code=RWeLOtwxUoa1Rs%2BSpp4sx8oOj4pr3S5RpGrmC%2FWZ%2Bv96clY4L%2FTumzMLh6cffxUS', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '55233', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10d651fd0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378990234.007016, '_creation_time': 1378990204.681431}, 'wsgi.multithread': True, 'HTTP_CACHE_CONTROL': 'max-age=0', 'REQUEST_URI': '/pyoidcOAuth?scope=openid+profile&state=rlsTky3vPF0fIfzd&code=RWeLOtwxUoa1Rs%2BSpp4sx8oOj4pr3S5RpGrmC%2FWZ%2Bv96clY4L%2FTumzMLh6cffxUS', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10bab9270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 14:50:34,008 rp:DEBUG [do_pyoidcOAuth2] query: {'scope': ['openid profile'], 'state': ['rlsTky3vPF0fIfzd'], 'code': ['RWeLOtwxUoa1Rs+Spp4sx8oOj4pr3S5RpGrmC/WZ+v96clY4L/TumzMLh6cffxUS']}
2013-09-12 14:50:34,010 rp.oauth2:INFO Response: scope=openid+profile&state=rlsTky3vPF0fIfzd&code=RWeLOtwxUoa1Rs%2BSpp4sx8oOj4pr3S5RpGrmC%2FWZ%2Bv96clY4L%2FTumzMLh6cffxUS
2013-09-12 14:50:34,013 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=RWeLOtwxUoa1Rs%2BSpp4sx8oOj4pr3S5RpGrmC%2FWZ%2Bv96clY4L%2FTumzMLh6cffxUS&client_secret=1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560&grant_type=authorization_code&client_id=u1fD2wvxhw0S&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth
2013-09-12 14:50:34,013 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oauth2.message.AccessTokenResponse'>
2013-09-12 14:50:34,018 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 14:50:34,054 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 400 None
2013-09-12 14:50:34,056 rp:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/__init__.py", line 60, in callback\n    result = self.phaseN(environ, query, server_env, session)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/oauth2/__init__.py", line 81, in phaseN\n    response_cls=self.access_token_response)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 916, in do_access_token_request\n    http_args=http_args, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 856, in request_and_return\n    resp.text, resp.status_code))\n', 'Exception: ERROR: Something went wrong: {"error_description": "Access code already used!!", "error": "access_denied"} [400]\n']
2013-09-12 14:50:55,530 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 14:50:55,699 root:INFO [static]sending: static/style.css
2013-09-12 14:50:55,715 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 14:50:55,717 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 14:50:59,583 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 14:50:59,613 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 14:50:59,619 rp.oauth2:INFO [OAuth2] callback url: https://localhost:8092/authorization?scope=openid+profile&state=3gnzydeFuH9EXhtU&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth&response_type=code&client_id=u1fD2wvxhw0S
2013-09-12 14:50:59,677 rp:DEBUG [do_pyoidcOAuth2] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10d6cfa10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOAuth', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=3gnzydeFuH9EXhtU&code=WI0oze0uC6gVMfu4aQe0tRudJC32hzu4%2BqsEWSQ2bRCjMKpfF9uLL7NVlHI7B29m', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '55238', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10d6dd4d0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378990259.676508, '_creation_time': 1378990204.681431}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOAuth?scope=openid+profile&state=3gnzydeFuH9EXhtU&code=WI0oze0uC6gVMfu4aQe0tRudJC32hzu4%2BqsEWSQ2bRCjMKpfF9uLL7NVlHI7B29m', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10bab9270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 14:50:59,677 rp:DEBUG [do_pyoidcOAuth2] query: {'scope': ['openid profile'], 'state': ['3gnzydeFuH9EXhtU'], 'code': ['WI0oze0uC6gVMfu4aQe0tRudJC32hzu4+qsEWSQ2bRCjMKpfF9uLL7NVlHI7B29m']}
2013-09-12 14:50:59,679 rp.oauth2:INFO Response: scope=openid+profile&state=3gnzydeFuH9EXhtU&code=WI0oze0uC6gVMfu4aQe0tRudJC32hzu4%2BqsEWSQ2bRCjMKpfF9uLL7NVlHI7B29m
2013-09-12 14:50:59,682 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=WI0oze0uC6gVMfu4aQe0tRudJC32hzu4%2BqsEWSQ2bRCjMKpfF9uLL7NVlHI7B29m&client_secret=1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560&grant_type=authorization_code&client_id=u1fD2wvxhw0S&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth
2013-09-12 14:50:59,682 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oauth2.message.AccessTokenResponse'>
2013-09-12 14:50:59,687 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 14:50:59,739 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 14:50:59,741 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 12:50:59 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 14:50:59,742 oic.oauth2:DEBUG resp.txt: {"access_token": "WI0oze0uC6gVMfu4aQe0tTao8pY9W/j1G2byuxVaGWLJhqKG4VtiSxcX829ycet+", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbInUxZkQyd3Z4aHcwUyJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA2OTQ1OSwgImlhdCI6IDEzNzg5OTAyNTksICJzdWIiOiAiaGFobzAwMzIifQ.Pf8QZUzd7BF6YF8rOwOp0NlcvqAnIvZLD88ttsEEKYurOB-PTfXo6dNhE0OxGQmpHz38x16u4E_y0UfzigRrSwcPAW607B7x98zoj00_I683Wa3lXnelzQ9hfBqcPE9tDT3ZXMA1ineAvg8NkmfZTN6nJsJAVj34_9NjhlfzleY8MRgWEZGefLxuQwopnEsSvOk35WUy7CJaMrPiCVClnsBqVZH0YBSFqSCpGNPtFpf19XF2j-jKbmmwEVZf2vkc8sixxpuofvF-Ec0gqVuUN8Yb2Ml4o0W36Y40lb3BkFlhfijPU4q5dk5BeFFx46bFMU32i_Gk6E1MzaLntEw9UA", "expires_in": 3600, "token_type": "Bearer", "state": "3gnzydeFuH9EXhtU", "scope": "openid profile", "refresh_token": "WI0oze0uC6gVMfu4aQe0tcnIQU6MfBEvQ6MXT6s9bRxkAf7AMbk3l13c0H8DSYbO"}
2013-09-12 14:50:59,744 oic.oauth2:DEBUG Fetch URI: https://localhost:8092/userinfo
2013-09-12 14:50:59,749 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 14:50:59,789 requests.packages.urllib3.connectionpool:DEBUG "GET /userinfo HTTP/1.1" 200 None
2013-09-12 14:50:59,791 rp.oauth2:INFO Userinfo: {"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}
2013-09-12 14:50:59,792 rp:DEBUG [do_pyoidcOAuth2] response: (True, {u'family_name': u'H\xf6rberg', u'sub': u'haho0032', u'nickname': u'Hasse', u'given_name': u'Hans', u'name': u'Hans H\xf6rberg'}, u'WI0oze0uC6gVMfu4aQe0tTao8pY9W/j1G2byuxVaGWLJhqKG4VtiSxcX829ycet+', <oic.oauth2.Client object at 0x10d6f1d90>)
2013-09-12 14:53:33,634 root:INFO [static]sending: static/style.css
2013-09-12 14:53:33,636 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 14:53:33,637 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 14:53:33,638 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 14:53:39,991 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 14:53:40,022 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 14:53:40,026 rp.oauth2:INFO [OAuth2] callback url: https://localhost:8092/authorization?scope=openid+profile&state=ZIHFXpR5S1HxW1JS&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth&response_type=code&client_id=u1fD2wvxhw0S
2013-09-12 14:53:40,089 rp:DEBUG [do_pyoidcOAuth2] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10d6cfa10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOAuth', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=ZIHFXpR5S1HxW1JS&code=S54ZfEaER0HJNRuP8hw0PwyfV%2F9k4%2BDtyrzJxZZENd0Z%2BNbjkKsY1xiO6MCX%2BC%2FV', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '55305', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10bb64ad0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378990420.088856, '_creation_time': 1378990204.681431}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOAuth?scope=openid+profile&state=ZIHFXpR5S1HxW1JS&code=S54ZfEaER0HJNRuP8hw0PwyfV%2F9k4%2BDtyrzJxZZENd0Z%2BNbjkKsY1xiO6MCX%2BC%2FV', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10bab9270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 14:53:40,089 rp:DEBUG [do_pyoidcOAuth2] query: {'scope': ['openid profile'], 'state': ['ZIHFXpR5S1HxW1JS'], 'code': ['S54ZfEaER0HJNRuP8hw0PwyfV/9k4+DtyrzJxZZENd0Z+NbjkKsY1xiO6MCX+C/V']}
2013-09-12 14:53:40,092 rp.oauth2:INFO Response: scope=openid+profile&state=ZIHFXpR5S1HxW1JS&code=S54ZfEaER0HJNRuP8hw0PwyfV%2F9k4%2BDtyrzJxZZENd0Z%2BNbjkKsY1xiO6MCX%2BC%2FV
2013-09-12 14:53:40,094 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=S54ZfEaER0HJNRuP8hw0PwyfV%2F9k4%2BDtyrzJxZZENd0Z%2BNbjkKsY1xiO6MCX%2BC%2FV&client_secret=1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560&grant_type=authorization_code&client_id=u1fD2wvxhw0S&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth
2013-09-12 14:53:40,094 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oauth2.message.AccessTokenResponse'>
2013-09-12 14:53:40,099 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 14:53:40,153 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 14:53:40,155 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 12:53:40 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 14:53:40,156 oic.oauth2:DEBUG resp.txt: {"access_token": "S54ZfEaER0HJNRuP8hw0P+H3/HhwK1ObDRCSnCcNL4oFxL6aoe2dTfGUwHAaXB/2", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbInUxZkQyd3Z4aHcwUyJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA2OTYyMCwgImlhdCI6IDEzNzg5OTA0MjAsICJzdWIiOiAiaGFobzAwMzIifQ.Iychv9ogJKxo8IJYWsyifgdpZ5xV2UlbJ8CU-IEkKxy6RR0aR06vLBz47JuiLJJPVMc6XE45VC1yzQl-SmxqTk8OYWrT5dW438OdVqMfAXsoxIyj6eAh4x7Fb63TTQsSTDtv15WV8sjA_nrly4U8g0G5zSEjjMK8h_oPgA4GTN4f2bFBjYv_fbSQnMyacEpAPP3BvduRsRnKVHdJg5mxrtEPdOs5ZzTWgHRP8dzETu_FWfJfYY6umXM6SQPgiNQlA17kGZayG7ZTUJAWIujv9E9QJvKr-O8Nz7d4xJG_sDA2IPnFgxZbXtLNtwN0eCcAokRyLDYbR8oSD72btgt7VA", "expires_in": 3600, "token_type": "Bearer", "state": "ZIHFXpR5S1HxW1JS", "scope": "openid profile", "refresh_token": "S54ZfEaER0HJNRuP8hw0P2ijHkGeaMqRLCIWyf1r/2FxJpouRviXif/79a8EZn0x"}
2013-09-12 14:53:40,159 oic.oauth2:DEBUG Fetch URI: https://localhost:8092/userinfo
2013-09-12 14:53:40,163 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 14:53:40,201 requests.packages.urllib3.connectionpool:DEBUG "GET /userinfo HTTP/1.1" 200 None
2013-09-12 14:53:40,203 rp.oauth2:INFO Userinfo: {"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}
2013-09-12 14:53:40,204 rp:DEBUG [do_pyoidcOAuth2] response: (True, {u'family_name': u'H\xf6rberg', u'sub': u'haho0032', u'nickname': u'Hasse', u'given_name': u'Hans', u'name': u'Hans H\xf6rberg'}, u'S54ZfEaER0HJNRuP8hw0P+H3/HhwK1ObDRCSnCcNL4oFxL6aoe2dTfGUwHAaXB/2', <oic.oauth2.Client object at 0x10d6dd6d0>)
2013-09-12 14:53:50,586 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 14:53:50,592 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 14:53:50,594 root:INFO [static]sending: static/style.css
2013-09-12 14:53:50,595 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 14:54:18,556 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 14:54:18,584 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 14:54:18,588 rp.oauth2:INFO [OAuth2] callback url: https://localhost:8092/authorization?scope=openid+profile&state=12rNFFxeijETLJ1l&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth&response_type=code&client_id=u1fD2wvxhw0S
2013-09-12 14:54:18,659 rp:DEBUG [do_pyoidcOAuth2] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10d6cfa10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOAuth', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=12rNFFxeijETLJ1l&code=Q%2FHTFyKb8ekplZPCOwWcwH%2FYnEt8H2pYCW5h3KXS40gpmxYg9uyczksTxKwY5KfW', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '55313', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10d65d890>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378990458.65845, '_creation_time': 1378990204.681431}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOAuth?scope=openid+profile&state=12rNFFxeijETLJ1l&code=Q%2FHTFyKb8ekplZPCOwWcwH%2FYnEt8H2pYCW5h3KXS40gpmxYg9uyczksTxKwY5KfW', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10bab9270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 14:54:18,659 rp:DEBUG [do_pyoidcOAuth2] query: {'scope': ['openid profile'], 'state': ['12rNFFxeijETLJ1l'], 'code': ['Q/HTFyKb8ekplZPCOwWcwH/YnEt8H2pYCW5h3KXS40gpmxYg9uyczksTxKwY5KfW']}
2013-09-12 14:54:18,662 rp.oauth2:INFO Response: scope=openid+profile&state=12rNFFxeijETLJ1l&code=Q%2FHTFyKb8ekplZPCOwWcwH%2FYnEt8H2pYCW5h3KXS40gpmxYg9uyczksTxKwY5KfW
2013-09-12 14:54:18,664 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=Q%2FHTFyKb8ekplZPCOwWcwH%2FYnEt8H2pYCW5h3KXS40gpmxYg9uyczksTxKwY5KfW&client_secret=1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560&grant_type=authorization_code&client_id=u1fD2wvxhw0S&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth
2013-09-12 14:54:18,664 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oauth2.message.AccessTokenResponse'>
2013-09-12 14:54:18,669 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 14:54:18,731 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 14:54:18,733 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 12:54:18 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 14:54:18,733 oic.oauth2:DEBUG resp.txt: {"access_token": "Q/HTFyKb8ekplZPCOwWcwHyC5qzUoVa53TxL+oNG1wve1qH2U002mSYA/IKeNTla", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbInUxZkQyd3Z4aHcwUyJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA2OTY1OCwgImlhdCI6IDEzNzg5OTA0NTgsICJzdWIiOiAiaGFobzAwMzIifQ.C6YzmmPPYhmDwtWZkxdt616RiY2UPckjEg843rL06iQv6ums0bULv0AcEEUJhsNDpR2BgnuoJDPMQAt1wPzKMR-oEQF5LhVmHx7wRkDvO_msXBVQhmBdlD9xqph-Hw6TpptI_UKKrR-axjcRtdz6weBDamc-qrx_GJFfOAtfKn2gvVCcbAlAwPkeZ7ae3YsqJhmTp-cZYjT_8n4p96Ep918Dw6nn0-Ty9c4q6JOE6vrgTsRCv3mB5mc6EbPNoyaNHpeh-WXH4MHkRfjqPbyWkQlYCtM0lB9fWGNxh-1ijPWCYO8SSAO2YHvvqKdDr1dKgmdwWoWgh0XueLOrjACV_w", "expires_in": 3600, "token_type": "Bearer", "state": "12rNFFxeijETLJ1l", "scope": "openid profile", "refresh_token": "Q/HTFyKb8ekplZPCOwWcwEvU+p1QLTmiAovq55Z8t7V3hqTc/txuMUptbRSmH1uw"}
2013-09-12 14:54:18,736 oic.oauth2:DEBUG Fetch URI: https://localhost:8092/userinfo
2013-09-12 14:54:18,741 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 14:54:18,780 requests.packages.urllib3.connectionpool:DEBUG "GET /userinfo HTTP/1.1" 200 None
2013-09-12 14:54:18,782 rp.oauth2:INFO Userinfo: {"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}
2013-09-12 14:54:18,783 rp:DEBUG [do_pyoidcOAuth2] response: (True, {u'family_name': u'H\xf6rberg', u'sub': u'haho0032', u'nickname': u'Hasse', u'given_name': u'Hans', u'name': u'Hans H\xf6rberg'}, u'Q/HTFyKb8ekplZPCOwWcwHyC5qzUoVa53TxL+oNG1wve1qH2U002mSYA/IKeNTla', <oic.oauth2.Client object at 0x10d6ffa90>)
2013-09-12 14:54:45,383 root:INFO [static]sending: static/style.css
2013-09-12 14:54:45,384 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 14:54:45,385 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 14:54:45,389 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 14:54:50,237 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 14:54:50,266 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 14:54:50,271 rp.oauth2:INFO [OAuth2] callback url: https://localhost:8092/authorization?scope=openid+profile&state=R6DCpJASNwIe0aEP&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth&response_type=code&client_id=u1fD2wvxhw0S
2013-09-12 14:54:50,324 rp:DEBUG [do_pyoidcOAuth2] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10d6cfa10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOAuth', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=R6DCpJASNwIe0aEP&code=81oxTplrd168Td%2FG8l7UnVQxbbUEEY8mhzrc3CNbqoM1y91cguL%2FMek0e2bCd8m7', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '55322', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10d6fff10>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378990490.3241, '_creation_time': 1378990204.681431}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOAuth?scope=openid+profile&state=R6DCpJASNwIe0aEP&code=81oxTplrd168Td%2FG8l7UnVQxbbUEEY8mhzrc3CNbqoM1y91cguL%2FMek0e2bCd8m7', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10bab9270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 14:54:50,325 rp:DEBUG [do_pyoidcOAuth2] query: {'scope': ['openid profile'], 'state': ['R6DCpJASNwIe0aEP'], 'code': ['81oxTplrd168Td/G8l7UnVQxbbUEEY8mhzrc3CNbqoM1y91cguL/Mek0e2bCd8m7']}
2013-09-12 14:56:01,364 rp.oauth2:INFO Response: scope=openid+profile&state=R6DCpJASNwIe0aEP&code=81oxTplrd168Td%2FG8l7UnVQxbbUEEY8mhzrc3CNbqoM1y91cguL%2FMek0e2bCd8m7
2013-09-12 14:56:01,367 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=81oxTplrd168Td%2FG8l7UnVQxbbUEEY8mhzrc3CNbqoM1y91cguL%2FMek0e2bCd8m7&client_secret=1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560&grant_type=authorization_code&client_id=u1fD2wvxhw0S&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth
2013-09-12 14:56:01,367 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oauth2.message.AccessTokenResponse'>
2013-09-12 14:56:01,373 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 14:56:01,424 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 14:56:01,426 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 12:56:01 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 14:56:01,427 oic.oauth2:DEBUG resp.txt: {"access_token": "81oxTplrd168Td/G8l7UnQ8ztJ03PtCwtGkwIn3a74fwqlX4XzziTyUFmMmcLewM", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbInUxZkQyd3Z4aHcwUyJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA2OTc2MSwgImlhdCI6IDEzNzg5OTA1NjEsICJzdWIiOiAiaGFobzAwMzIifQ.ESM0-jPHOhW_C2EEPJD7jYIydIgvFnmBUquDCDwJjNDsekiH3wZLVbXefdfN0vTsLGrTLrd7YAU6GYJ4Uw6xMdCUh6jKr1Y5YZKxEXUj5bKaUaltAhbcSs-8gX1mitlh3O-19XK5ZZL_4yvuzPhHWn4nD7QY3LFuat-VE3AIgY1VxAsF1h60MoUd_LCG__V6UhmYCWiaOgjSNOkfar4yzKxq7siDSiFq2aI6Ra6Uu_cYLWcMlsYgyubOVHSIoEt85CbYuYoikEoGvO8iprFt7kYrkjr1LLNdSpiC0KWfwt_YPZKf_9wX_BDbxZlOr3aGf3zMKzQnfTCDd4YzN9BMAA", "expires_in": 3600, "token_type": "Bearer", "state": "R6DCpJASNwIe0aEP", "scope": "openid profile", "refresh_token": "81oxTplrd168Td/G8l7UnTIVU6UyR9gQRYHnRNJraP/gf3b0Y22aGdLdj3Y49vCw"}
2013-09-12 14:56:01,430 oic.oauth2:DEBUG Fetch URI: https://localhost:8092/userinfo
2013-09-12 14:56:01,434 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 14:56:01,472 requests.packages.urllib3.connectionpool:DEBUG "GET /userinfo HTTP/1.1" 200 None
2013-09-12 14:56:01,474 rp.oauth2:INFO Userinfo: {"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}
2013-09-12 14:56:05,946 rp:DEBUG [do_pyoidcOAuth2] response: (True, {u'family_name': u'H\xf6rberg', u'sub': u'haho0032', u'nickname': u'Hasse', u'given_name': u'Hans', u'name': u'Hans H\xf6rberg'}, u'81oxTplrd168Td/G8l7UnQ8ztJ03PtCwtGkwIn3a74fwqlX4XzziTyUFmMmcLewM', <oic.oauth2.Client object at 0x10d6ffad0>)
2013-09-12 14:56:09,172 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 14:56:09,171 root:INFO [static]sending: static/style.css
2013-09-12 14:56:09,176 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 14:56:09,178 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 14:56:40,917 root:INFO RP server starting listening on port:8666
2013-09-12 14:56:49,536 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 14:56:49,566 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 14:56:50,671 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 14:56:50,671 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d6d0a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d62bf90>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d6d0ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10d6d0b10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d6d0a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d62bf90>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d6d0ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10d6d0b10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10d6d09d0>, 'PORT': 8666}
2013-09-12 14:56:51,781 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 14:56:51,823 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-12 14:56:51,851 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-12 14:56:51,857 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 14:56:53,078 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 14:56:53,079 rp.openidconnect:DEBUG Registering RP
2013-09-12 14:56:53,086 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 14:56:53,130 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-12 14:56:53,136 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378987013&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DMyqUiuapBsRe&registration_access_token=AvWyrXRVrTMAyGDdTVbkQ4ZZn8Gw9G0D&client_id=MyqUiuapBsRe&client_secret=004afae576a7820f2e5d7969cf61a812359f01ae4af24d89a28624cb&client_secret_expires_at=1379073413
2013-09-12 14:56:53,137 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10d62b250>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:145e7d8c-fa40-4deb-9adc-830da2fa0ce0'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'004afae576a7820f2e5d7969cf61a812359f01ae4af24d89a28624cb'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10d62b590>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/919D3F697FDAAF138124B83E09ECB0B7']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10d638490>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'MyqUiuapBsRe'), ('registration_expires', 1379073413), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10d62bf50>), ('client_prefs', {}), ('registration_access_token', u'AvWyrXRVrTMAyGDdTVbkQ4ZZn8Gw9G0D'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 14:56:53,138 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:145e7d8c-fa40-4deb-9adc-830da2fa0ce0', 'response_type': 'code'}
2013-09-12 14:56:53,140 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A145e7d8c-fa40-4deb-9adc-830da2fa0ce0&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=MyqUiuapBsRe
2013-09-12 14:56:53,142 rp.openidconnect:DEBUG body: None
2013-09-12 14:56:53,143 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A145e7d8c-fa40-4deb-9adc-830da2fa0ce0&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=MyqUiuapBsRe
2013-09-12 14:56:53,143 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 14:56:53,143 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A145e7d8c-fa40-4deb-9adc-830da2fa0ce0&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=MyqUiuapBsRe')]
2013-09-12 14:56:53,219 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10d6d0a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A145e7d8c-fa40-4deb-9adc-830da2fa0ce0&code=TZu5WO2EaCtCw3cDVh8wKpzCh7Y%2FHhJKdxpTumA0W5ljfEMfbV1hHyENzj0CCeky', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '55350', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10d6dbfd0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10d62b450>, '_accessed_time': 1378990613.218264, 'service': u'https://localhost:8092/', '_creation_time': 1378990606.558218}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3A145e7d8c-fa40-4deb-9adc-830da2fa0ce0&code=TZu5WO2EaCtCw3cDVh8wKpzCh7Y%2FHhJKdxpTumA0W5ljfEMfbV1hHyENzj0CCeky', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10baba270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 14:56:53,219 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:145e7d8c-fa40-4deb-9adc-830da2fa0ce0'], 'code': ['TZu5WO2EaCtCw3cDVh8wKpzCh7Y/HhJKdxpTumA0W5ljfEMfbV1hHyENzj0CCeky']}
2013-09-12 14:57:07,533 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:145e7d8c-fa40-4deb-9adc-830da2fa0ce0'], 'code': ['TZu5WO2EaCtCw3cDVh8wKpzCh7Y/HhJKdxpTumA0W5ljfEMfbV1hHyENzj0CCeky']}
2013-09-12 14:57:07,538 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 14:57:07,566 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-12 14:57:07,571 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 14:57:07,573 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10d6d0a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A145e7d8c-fa40-4deb-9adc-830da2fa0ce0&code=TZu5WO2EaCtCw3cDVh8wKpzCh7Y%2FHhJKdxpTumA0W5ljfEMfbV1hHyENzj0CCeky', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '55350', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10d6dbfd0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10d62b450>, '_accessed_time': 1378990613.218264, 'service': u'https://localhost:8092/', '_creation_time': 1378990606.558218}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3A145e7d8c-fa40-4deb-9adc-830da2fa0ce0&code=TZu5WO2EaCtCw3cDVh8wKpzCh7Y%2FHhJKdxpTumA0W5ljfEMfbV1hHyENzj0CCeky', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10baba270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 14:57:07,574 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10d660a70>]
2013-09-12 14:57:07,576 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=TZu5WO2EaCtCw3cDVh8wKpzCh7Y%2FHhJKdxpTumA0W5ljfEMfbV1hHyENzj0CCeky&client_secret=004afae576a7820f2e5d7969cf61a812359f01ae4af24d89a28624cb&grant_type=authorization_code&client_id=MyqUiuapBsRe&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7
2013-09-12 14:57:07,577 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 14:57:07,582 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 14:57:07,634 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 14:57:07,635 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 12:57:07 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 14:57:07,636 oic.oauth2:DEBUG resp.txt: {"access_token": "TZu5WO2EaCtCw3cDVh8wKuf+cEIARLsKINuXTaikj9PBv+6j9mFhqhsYi4StJN2V", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIk15cVVpdWFwQnNSZSJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA2OTgyNywgImlhdCI6IDEzNzg5OTA2MjcsICJzdWIiOiAiaGFobzAwMzIifQ.oSzILXvD02UMHcptHZY9xaUt1GXU8CT7uT1eFm5cDbc3k56uyWAQvlju9yk1FVJDhFIn7CO8jmcEJ68fpQMb0JRdl_nikZj7WAb3AViiVJnhwQfgRmYaSKcdDWm0RJG7MMmrCY27MKlVyUF4Vnl2GdNccTgGdGjPD_YneD0HkfXsjni_-ehvkxD-Gcx2HOTGXMCMmJtZWA9h-7fhV17gO2d73SfRVrk7MrpRSVj8P1f1aheaj_Oh2NLa8EQ8UTnyLmy0_uiuL_E5b_ZTKhyt5zgwFOcd0MRtMLS4pznga1Xg-hl1n-smdryRxVnhkV3fIYJ9y6m64uq8IKyN4uTLiQ", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:145e7d8c-fa40-4deb-9adc-830da2fa0ce0", "scope": "openid profile", "refresh_token": "TZu5WO2EaCtCw3cDVh8wKoauvYwbqax/QG9h39xFa/ipsW6u15aExfclQkUhPr5y"}
2013-09-12 14:57:11,913 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 14:57:20,323 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'TZu5WO2EaCtCw3cDVh8wKuf+cEIARLsKINuXTaikj9PBv+6j9mFhqhsYi4StJN2V', 'request': 'openid', 'schema': 'openid'}
2013-09-12 14:57:20,323 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=TZu5WO2EaCtCw3cDVh8wKuf%2BcEIARLsKINuXTaikj9PBv%2B6j9mFhqhsYi4StJN2V H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 14:57:20,328 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 14:57:20,362 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 14:57:20,364 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-12 14:57:20,365 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-12 14:57:33,432 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'TZu5WO2EaCtCw3cDVh8wKuf+cEIARLsKINuXTaikj9PBv+6j9mFhqhsYi4StJN2V', <oic.oic.Client object at 0x10d62b450>)
2013-09-12 14:57:36,393 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 14:57:36,397 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 14:57:36,401 root:INFO [static]sending: static/style.css
2013-09-12 14:57:36,402 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 14:57:55,319 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 14:57:55,322 root:INFO [static]sending: static/style.css
2013-09-12 14:57:55,327 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 14:57:55,328 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 14:58:54,773 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 14:58:54,802 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 14:58:57,749 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 14:58:57,749 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d6d0a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10bb65fd0>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d6d0ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10d6d0b10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d6d0a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10bb65fd0>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10d6d0ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10d6d0b10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'919D3F697FDAAF138124B83E09ECB0B7': <oic.oic.Client object at 0x10d62b450>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10d6d09d0>, 'PORT': 8666}
2013-09-12 14:58:57,750 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10d62b250>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:145e7d8c-fa40-4deb-9adc-830da2fa0ce0': <oic.oic.Grant object at 0x10d638190>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:ca39e65b-240f-4147-a371-82e28a013a25'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'004afae576a7820f2e5d7969cf61a812359f01ae4af24d89a28624cb'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10d62b590>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/919D3F697FDAAF138124B83E09ECB0B7']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10d638490>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'MyqUiuapBsRe'), ('registration_expires', 1379073413), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10d62bf50>), ('client_prefs', {}), ('registration_access_token', u'AvWyrXRVrTMAyGDdTVbkQ4ZZn8Gw9G0D'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 14:58:57,751 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:ca39e65b-240f-4147-a371-82e28a013a25', 'response_type': 'code'}
2013-09-12 14:58:57,752 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Aca39e65b-240f-4147-a371-82e28a013a25&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=MyqUiuapBsRe
2013-09-12 14:58:57,753 rp.openidconnect:DEBUG body: None
2013-09-12 14:58:57,753 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Aca39e65b-240f-4147-a371-82e28a013a25&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=MyqUiuapBsRe
2013-09-12 14:58:57,754 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 14:58:57,755 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Aca39e65b-240f-4147-a371-82e28a013a25&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=MyqUiuapBsRe')]
2013-09-12 14:58:57,808 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10d6d0a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Aca39e65b-240f-4147-a371-82e28a013a25&code=EPAKO%2BgDiIlBl2JnVK4MG7L3M8maa%2BKWZV3u%2FHUMrndd1aqC59DpDD902QU8UEg9', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '55383', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10d638450>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10d62b450>, '_accessed_time': 1378990737.807466, 'service': u'https://localhost:8092/', '_creation_time': 1378990606.558218}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3Aca39e65b-240f-4147-a371-82e28a013a25&code=EPAKO%2BgDiIlBl2JnVK4MG7L3M8maa%2BKWZV3u%2FHUMrndd1aqC59DpDD902QU8UEg9', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10baba270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 14:58:57,808 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:ca39e65b-240f-4147-a371-82e28a013a25'], 'code': ['EPAKO+gDiIlBl2JnVK4MG7L3M8maa+KWZV3u/HUMrndd1aqC59DpDD902QU8UEg9']}
2013-09-12 14:59:01,057 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:ca39e65b-240f-4147-a371-82e28a013a25'], 'code': ['EPAKO+gDiIlBl2JnVK4MG7L3M8maa+KWZV3u/HUMrndd1aqC59DpDD902QU8UEg9']}
2013-09-12 14:59:01,058 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 14:59:01,060 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10d6d0a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Aca39e65b-240f-4147-a371-82e28a013a25&code=EPAKO%2BgDiIlBl2JnVK4MG7L3M8maa%2BKWZV3u%2FHUMrndd1aqC59DpDD902QU8UEg9', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '55383', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10d638450>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10d62b450>, '_accessed_time': 1378990737.807466, 'service': u'https://localhost:8092/', '_creation_time': 1378990606.558218}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3Aca39e65b-240f-4147-a371-82e28a013a25&code=EPAKO%2BgDiIlBl2JnVK4MG7L3M8maa%2BKWZV3u%2FHUMrndd1aqC59DpDD902QU8UEg9', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10baba270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 14:59:01,061 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10d660a70>]
2013-09-12 14:59:01,062 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=EPAKO%2BgDiIlBl2JnVK4MG7L3M8maa%2BKWZV3u%2FHUMrndd1aqC59DpDD902QU8UEg9&client_secret=004afae576a7820f2e5d7969cf61a812359f01ae4af24d89a28624cb&grant_type=authorization_code&client_id=MyqUiuapBsRe&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7
2013-09-12 14:59:01,063 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 14:59:01,068 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 14:59:01,114 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 14:59:01,116 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 12:59:01 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 14:59:01,116 oic.oauth2:DEBUG resp.txt: {"access_token": "EPAKO+gDiIlBl2JnVK4MGzuFWBHTT8CQCkoHVCOB4WzhVH8r5Vz8Hg7UUyAt8fG8", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIk15cVVpdWFwQnNSZSJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA2OTk0MSwgImlhdCI6IDEzNzg5OTA3NDEsICJzdWIiOiAiaGFobzAwMzIifQ.EVf9uMp5c0UwNjeIkdO3jRdsL-wT2gUHJHGafL_tGteJdV5EeoNsDz7qRrbVkRGNSghFoYg6gkl2HNswJ6iMogj9zpmU6bl-lo5Wyp6RKkTwUO3bO2aSRfHwP6zkUspdxiboAwgIh_jbyIIIudOoEisHFkj7c1kG033Xh409_sJfJhWo0DhhpTIJaVMSwYkBA9w0V3N5jvNoyDwJgbCYPwRs_ig79Nt434bLEngNB75EwPqe5FLlPPnRG8e6RW6p3qiG2BylZhXfxbaT341B4xxOf-N17vrC8UY8DjNlwbHI0FieOTFWnUX3r8KhiFLOPRMFRF7-kGVZV_Rh2hwVLQ", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:ca39e65b-240f-4147-a371-82e28a013a25", "scope": "openid profile", "refresh_token": "EPAKO+gDiIlBl2JnVK4MGyPK9OH+FIdcaXXHb69Jn7SC+2aIofCwxjvQSJnVVHND"}
2013-09-12 14:59:01,118 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 14:59:01,120 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'EPAKO+gDiIlBl2JnVK4MGzuFWBHTT8CQCkoHVCOB4WzhVH8r5Vz8Hg7UUyAt8fG8', 'request': 'openid', 'schema': 'openid'}
2013-09-12 14:59:01,121 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=EPAKO%2BgDiIlBl2JnVK4MGzuFWBHTT8CQCkoHVCOB4WzhVH8r5Vz8Hg7UUyAt8fG8 H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 14:59:01,126 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 14:59:01,159 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 14:59:01,161 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-12 14:59:01,163 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-12 14:59:03,840 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'EPAKO+gDiIlBl2JnVK4MGzuFWBHTT8CQCkoHVCOB4WzhVH8r5Vz8Hg7UUyAt8fG8', <oic.oic.Client object at 0x10d62b450>)
2013-09-12 14:59:07,872 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 14:59:07,877 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 14:59:07,879 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 14:59:07,880 root:INFO [static]sending: static/style.css
2013-09-12 14:59:38,665 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 14:59:38,665 root:INFO [static]sending: static/style.css
2013-09-12 14:59:38,666 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 14:59:38,667 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 15:00:34,362 root:INFO RP server starting listening on port:8666
2013-09-12 15:00:37,732 root:INFO [static]sending: static/style.css
2013-09-12 15:00:37,737 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 15:00:37,738 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 15:00:37,741 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 15:00:48,886 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 15:00:48,917 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 15:00:48,920 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 15:00:48,921 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x108ef2a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x108f02d50>, 'scope': ['openid', 'all'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x108ef2ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x108ef2b10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x108ef2a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x108f02d50>, 'scope': ['openid', 'all'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x108ef2ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x108ef2b10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x108ef29d0>, 'PORT': 8666}
2013-09-12 15:00:51,320 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:00:51,352 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-12 15:00:51,374 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-12 15:00:51,376 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 15:00:53,337 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 15:00:53,338 rp.openidconnect:DEBUG Registering RP
2013-09-12 15:00:53,352 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:00:53,400 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-12 15:00:53,404 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378987253&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DuXW0i8NHEcNG&registration_access_token=9kZE3Td4hMtTQFdZvrrtC9noEBZCltN1&client_id=uXW0i8NHEcNG&client_secret=36a8a4c06f8c3034558900f280612cb4b73afcd8e5535acacd96d5f7&client_secret_expires_at=1379073653
2013-09-12 15:00:53,405 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x108e5b290>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:94010d32-a06e-464c-82f0-217b337f3fbe'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'36a8a4c06f8c3034558900f280612cb4b73afcd8e5535acacd96d5f7'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x108e5b250>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/919D3F697FDAAF138124B83E09ECB0B7']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x108e5b8d0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'uXW0i8NHEcNG'), ('registration_expires', 1379073653), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x108e5b1d0>), ('client_prefs', {}), ('registration_access_token', u'9kZE3Td4hMtTQFdZvrrtC9noEBZCltN1'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 15:00:53,406 rp.openidconnect:INFO request_args: {'scope': ['openid', 'all'], 'state': 'urn:uuid:94010d32-a06e-464c-82f0-217b337f3fbe', 'response_type': 'code'}
2013-09-12 15:00:53,407 rp.openidconnect:DEBUG request: scope=openid+all&state=urn%3Auuid%3A94010d32-a06e-464c-82f0-217b337f3fbe&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=uXW0i8NHEcNG
2013-09-12 15:00:53,408 rp.openidconnect:DEBUG body: None
2013-09-12 15:00:53,408 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+all&state=urn%3Auuid%3A94010d32-a06e-464c-82f0-217b337f3fbe&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=uXW0i8NHEcNG
2013-09-12 15:00:53,409 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 15:00:53,409 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+all&state=urn%3Auuid%3A94010d32-a06e-464c-82f0-217b337f3fbe&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=uXW0i8NHEcNG')]
2013-09-12 15:00:53,470 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x108ef2a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+all&state=urn%3Auuid%3A94010d32-a06e-464c-82f0-217b337f3fbe&code=knFSDrC9mbtMh%2BlxynBElU7jjjHVw9OCilStWmgrhKRxETR1Mbb%2FBO2XKj0hgRUE', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '55409', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108f02b90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x108e5b190>, '_accessed_time': 1378990853.469601, 'service': u'https://localhost:8092/', '_creation_time': 1378990837.717425}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+all&state=urn%3Auuid%3A94010d32-a06e-464c-82f0-217b337f3fbe&code=knFSDrC9mbtMh%2BlxynBElU7jjjHVw9OCilStWmgrhKRxETR1Mbb%2FBO2XKj0hgRUE', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10731c270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:00:53,470 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid all'], 'state': ['urn:uuid:94010d32-a06e-464c-82f0-217b337f3fbe'], 'code': ['knFSDrC9mbtMh+lxynBElU7jjjHVw9OCilStWmgrhKRxETR1Mbb/BO2XKj0hgRUE']}
2013-09-12 15:00:53,471 rp.openidconnect:DEBUG info: {'scope': ['openid all'], 'state': ['urn:uuid:94010d32-a06e-464c-82f0-217b337f3fbe'], 'code': ['knFSDrC9mbtMh+lxynBElU7jjjHVw9OCilStWmgrhKRxETR1Mbb/BO2XKj0hgRUE']}
2013-09-12 15:00:53,475 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:00:53,503 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-12 15:00:53,507 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 15:00:53,508 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x108ef2a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+all&state=urn%3Auuid%3A94010d32-a06e-464c-82f0-217b337f3fbe&code=knFSDrC9mbtMh%2BlxynBElU7jjjHVw9OCilStWmgrhKRxETR1Mbb%2FBO2XKj0hgRUE', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '55409', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108f02b90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x108e5b190>, '_accessed_time': 1378990853.469601, 'service': u'https://localhost:8092/', '_creation_time': 1378990837.717425}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+all&state=urn%3Auuid%3A94010d32-a06e-464c-82f0-217b337f3fbe&code=knFSDrC9mbtMh%2BlxynBElU7jjjHVw9OCilStWmgrhKRxETR1Mbb%2FBO2XKj0hgRUE', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10731c270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:00:53,509 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x108e86440>]
2013-09-12 15:00:53,510 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=knFSDrC9mbtMh%2BlxynBElU7jjjHVw9OCilStWmgrhKRxETR1Mbb%2FBO2XKj0hgRUE&client_secret=36a8a4c06f8c3034558900f280612cb4b73afcd8e5535acacd96d5f7&grant_type=authorization_code&client_id=uXW0i8NHEcNG&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7
2013-09-12 15:00:53,511 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 15:00:53,516 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:00:53,561 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 15:00:53,563 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 13:00:53 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 15:00:53,563 oic.oauth2:DEBUG resp.txt: {"access_token": "knFSDrC9mbtMh+lxynBElY/lrGl9prZQHDUgj3372hetP7058nRsX35VOV5p+Kfj", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbInVYVzBpOE5IRWNORyJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA3MDA1MywgImlhdCI6IDEzNzg5OTA4NTMsICJzdWIiOiAiaGFobzAwMzIifQ.ocaxnycQBPz_-teAj0F3O9G0oL3y-mKPnMDlxCptQYML-GtrbDxcbMsk4JiZGKMcYjYyh8qkF9upZjE146i7rhEHAhAvSeS1dPOjBJoMVnxvOsiMo-m4PlncDOLVBrSYzwZ4h9nJJ_y9d2c3rzn57LY9FSdMhFZn_FUIxCtvqE0Gd75tvphJzX5_NnhrPc5e4XaVdBgilTqRRAM--2FnWMqe4qQ2JCNHvRPLf93f8KBEK1xKDHy4a_QH6o-qeee2BrxEGi0NXGO4aGJJ6xjvV9MVBBzyGhN7uosCfvMfny1Rpskzxgt6h88g7G_Vd6GAjPLT0_yAiUqxqJnH4uG5IA", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:94010d32-a06e-464c-82f0-217b337f3fbe", "scope": "openid all", "refresh_token": "knFSDrC9mbtMh+lxynBElVqXSjGmZX2g1ntfmZdiy0iRjrqsSzq1F1THJ8VLpzWE"}
2013-09-12 15:00:53,565 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 15:00:53,567 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'knFSDrC9mbtMh+lxynBElY/lrGl9prZQHDUgj3372hetP7058nRsX35VOV5p+Kfj', 'request': 'openid', 'schema': 'openid'}
2013-09-12 15:00:53,568 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=knFSDrC9mbtMh%2BlxynBElY%2FlrGl9prZQHDUgj3372hetP7058nRsX35VOV5p%2BKfj H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 15:00:53,573 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:00:53,605 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 15:00:53,607 oic.oic:DEBUG Reponse text: '{"sub": "haho0032"}'
2013-09-12 15:00:53,608 rp.openidconnect:DEBUG UserInfo: sub=haho0032
2013-09-12 15:00:53,608 rp:DEBUG [do_pyoidcOIC] response: (True, {'sub': u'haho0032'}, u'knFSDrC9mbtMh+lxynBElY/lrGl9prZQHDUgj3372hetP7058nRsX35VOV5p+Kfj', <oic.oic.Client object at 0x108e5b190>)
2013-09-12 15:00:53,622 root:INFO [static]sending: static/style.css
2013-09-12 15:00:53,626 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 15:00:53,627 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 15:00:53,630 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 15:02:11,657 root:INFO RP server starting listening on port:8666
2013-09-12 15:02:17,294 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 15:02:17,295 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 15:02:17,295 root:INFO [static]sending: static/style.css
2013-09-12 15:02:17,301 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 15:02:20,381 root:INFO [static]sending: static/style.css
2013-09-12 15:02:20,387 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 15:02:20,389 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 15:02:20,392 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 15:02:27,622 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 15:02:27,651 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 15:02:27,653 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 15:02:27,654 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f47da50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f493150>, 'scope': ['openid', 'profile', 'email', 'address', 'phone'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f47dad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10f47db10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f47da50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f493150>, 'scope': ['openid', 'profile', 'email', 'address', 'phone'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f47dad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10f47db10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10f47d9d0>, 'PORT': 8666}
2013-09-12 15:02:30,163 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:02:30,194 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-12 15:02:30,216 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-12 15:02:30,218 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 15:02:30,221 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 15:02:30,221 rp.openidconnect:DEBUG Registering RP
2013-09-12 15:02:30,226 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:02:30,262 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-12 15:02:30,265 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378987350&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3Dxx0YDQZ5aEdx&registration_access_token=BcoLy87pAcIW3tiDFO6mxDuE5X0Z4vK8&client_id=xx0YDQZ5aEdx&client_secret=810307d447ede33a76992251b9bdca29c128809491e6d4f7932d3cc1&client_secret_expires_at=1379073750
2013-09-12 15:02:30,267 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10f3df2d0>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:e9221a2d-3b6f-44f2-bb2a-230caa51f66d'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'810307d447ede33a76992251b9bdca29c128809491e6d4f7932d3cc1'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10f3df210>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/919D3F697FDAAF138124B83E09ECB0B7']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10f3df8d0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'xx0YDQZ5aEdx'), ('registration_expires', 1379073750), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10f489f10>), ('client_prefs', {}), ('registration_access_token', u'BcoLy87pAcIW3tiDFO6mxDuE5X0Z4vK8'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 15:02:30,267 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile', 'email', 'address', 'phone'], 'state': 'urn:uuid:e9221a2d-3b6f-44f2-bb2a-230caa51f66d', 'response_type': 'code'}
2013-09-12 15:02:30,268 rp.openidconnect:DEBUG request: scope=openid+profile+email+address+phone&state=urn%3Auuid%3Ae9221a2d-3b6f-44f2-bb2a-230caa51f66d&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=xx0YDQZ5aEdx
2013-09-12 15:02:30,269 rp.openidconnect:DEBUG body: None
2013-09-12 15:02:30,269 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile+email+address+phone&state=urn%3Auuid%3Ae9221a2d-3b6f-44f2-bb2a-230caa51f66d&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=xx0YDQZ5aEdx
2013-09-12 15:02:30,270 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 15:02:30,270 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile+email+address+phone&state=urn%3Auuid%3Ae9221a2d-3b6f-44f2-bb2a-230caa51f66d&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=xx0YDQZ5aEdx')]
2013-09-12 15:02:30,323 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10f47da10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile+email+address+phone&state=urn%3Auuid%3Ae9221a2d-3b6f-44f2-bb2a-230caa51f66d&code=fnMjf9jckxjjEAWiTcGlNOhD8C7jWTWJkibL6SVvf8d0zkoBjGypyK2OTm3TDeKj', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '55447', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10f493650>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10f489e90>, '_accessed_time': 1378990950.322752, 'service': u'https://localhost:8092/', '_creation_time': 1378990937.271244}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile+email+address+phone&state=urn%3Auuid%3Ae9221a2d-3b6f-44f2-bb2a-230caa51f66d&code=fnMjf9jckxjjEAWiTcGlNOhD8C7jWTWJkibL6SVvf8d0zkoBjGypyK2OTm3TDeKj', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10d8a8270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:02:30,324 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile email address phone'], 'state': ['urn:uuid:e9221a2d-3b6f-44f2-bb2a-230caa51f66d'], 'code': ['fnMjf9jckxjjEAWiTcGlNOhD8C7jWTWJkibL6SVvf8d0zkoBjGypyK2OTm3TDeKj']}
2013-09-12 15:02:30,324 rp.openidconnect:DEBUG info: {'scope': ['openid profile email address phone'], 'state': ['urn:uuid:e9221a2d-3b6f-44f2-bb2a-230caa51f66d'], 'code': ['fnMjf9jckxjjEAWiTcGlNOhD8C7jWTWJkibL6SVvf8d0zkoBjGypyK2OTm3TDeKj']}
2013-09-12 15:02:30,328 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:02:30,356 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-12 15:02:30,360 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 15:02:30,361 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10f47da10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile+email+address+phone&state=urn%3Auuid%3Ae9221a2d-3b6f-44f2-bb2a-230caa51f66d&code=fnMjf9jckxjjEAWiTcGlNOhD8C7jWTWJkibL6SVvf8d0zkoBjGypyK2OTm3TDeKj', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '55447', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10f493650>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10f489e90>, '_accessed_time': 1378990950.322752, 'service': u'https://localhost:8092/', '_creation_time': 1378990937.271244}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile+email+address+phone&state=urn%3Auuid%3Ae9221a2d-3b6f-44f2-bb2a-230caa51f66d&code=fnMjf9jckxjjEAWiTcGlNOhD8C7jWTWJkibL6SVvf8d0zkoBjGypyK2OTm3TDeKj', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10d8a8270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:02:30,362 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10f40ffc8>]
2013-09-12 15:02:30,363 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=fnMjf9jckxjjEAWiTcGlNOhD8C7jWTWJkibL6SVvf8d0zkoBjGypyK2OTm3TDeKj&client_secret=810307d447ede33a76992251b9bdca29c128809491e6d4f7932d3cc1&grant_type=authorization_code&client_id=xx0YDQZ5aEdx&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7
2013-09-12 15:02:30,363 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 15:02:30,368 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:02:30,414 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 15:02:30,416 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 13:02:30 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 15:02:30,417 oic.oauth2:DEBUG resp.txt: {"access_token": "fnMjf9jckxjjEAWiTcGlNPD6xPgi1mWOcGozXsuQ9OYQ8uNCmnD8pSUbNanyENgZ", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbInh4MFlEUVo1YUVkeCJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA3MDE1MCwgImlhdCI6IDEzNzg5OTA5NTAsICJzdWIiOiAiaGFobzAwMzIifQ.cNqhyPv-IkRtK2jqTfRSxLZgH6ifulXevUqPjWAPELEAUcLyehlwaZQF2m0twKGyEtIccZ_b32lglStFTuPQ6A9Co--3Fad_Z1JMBFqPhhbJq0j3f_kvzKeWRw_ItpxlB1bd7EwDwVfo70tVrhkko3bknLUc43oXxmmBanOwD6oi169lUl8ks0q5GLV66SDRhX1op1iaM65R2REz2KLKukcVvR2vDPnMzmSUJ3FKf2LmmEXZUsG-HjSeefLixQPz9qsXdVRzKu4VPffacl62I6slgxTT8fj0IxlLGK7EM93_8IONdtQal1kYkF6ihw0-fRt_Sr6rVS1do5S_9vslQA", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:e9221a2d-3b6f-44f2-bb2a-230caa51f66d", "scope": "openid profile email address phone", "refresh_token": "fnMjf9jckxjjEAWiTcGlNBkEi0XzZdzIe/qp8/G+tef4fo5BBAeiOhXdQuGdcVQK"}
2013-09-12 15:02:30,418 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 15:02:30,421 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'fnMjf9jckxjjEAWiTcGlNPD6xPgi1mWOcGozXsuQ9OYQ8uNCmnD8pSUbNanyENgZ', 'request': 'openid', 'schema': 'openid'}
2013-09-12 15:02:30,421 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=fnMjf9jckxjjEAWiTcGlNPD6xPgi1mWOcGozXsuQ9OYQ8uNCmnD8pSUbNanyENgZ H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 15:02:30,426 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:02:30,460 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 15:02:30,462 oic.oic:DEBUG Reponse text: '{"phone_number": "+46 90 7865000", "family_name": "H\u00f6rberg", "name": "Hans H\u00f6rberg", "email_verified": false, "given_name": "Hans", "address": {"country": "Sweden", "postal_code": "SE-90187", "street_address": "Ume\u00e5 Universitet", "locality": "Ume\u00e5"}, "nickname": "Hasse", "email": "hans@example.org", "sub": "haho0032"}'
2013-09-12 15:02:30,465 rp.openidconnect:DEBUG UserInfo: phone_number=%2B46+90+7865000&family_name=H%C3%B6rberg&name=Hans+H%C3%B6rberg&email_verified=False&given_name=Hans&address=country%3DSweden%26postal_code%3DSE-90187%26street_address%3DUme%25C3%25A5%2BUniversitet%26locality%3DUme%25C3%25A5&nickname=Hasse&email=hans%40example.org&sub=haho0032
2013-09-12 15:02:30,465 rp:DEBUG [do_pyoidcOIC] response: (True, {'phone_number': u'+46 90 7865000', 'family_name': u'H\xf6rberg', 'name': u'Hans H\xf6rberg', 'email_verified': False, 'given_name': u'Hans', 'address': {'country': u'Sweden', 'postal_code': u'SE-90187', 'street_address': u'Ume\xe5 Universitet', 'locality': u'Ume\xe5'}, 'nickname': u'Hasse', 'email': u'hans@example.org', 'sub': u'haho0032'}, u'fnMjf9jckxjjEAWiTcGlNPD6xPgi1mWOcGozXsuQ9OYQ8uNCmnD8pSUbNanyENgZ', <oic.oic.Client object at 0x10f489e90>)
2013-09-12 15:14:54,437 root:INFO RP server starting listening on port:8666
2013-09-12 15:14:55,582 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 15:14:55,947 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 15:14:55,950 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 15:14:55,950 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110f96a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110fa2c90>, 'scope': ['openid', 'profile', 'email', 'address', 'phone'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110f96ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110f96b10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110f96a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110fa2c90>, 'scope': ['openid', 'profile', 'email', 'address', 'phone'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110f96ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110f96b10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x110f969d0>, 'PORT': 8666}
2013-09-12 15:14:55,955 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:14:55,987 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-12 15:14:56,011 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-12 15:14:56,013 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 15:14:56,015 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 15:14:56,016 rp.openidconnect:DEBUG Registering RP
2013-09-12 15:14:56,021 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:14:56,056 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-12 15:14:56,060 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378988096&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DI8IhWx0D8o3E&registration_access_token=u2ZvwhEJ5d9DgT0MO4zwrk6XUl8jLZV0&client_id=I8IhWx0D8o3E&client_secret=2e2a475ea85f6e4b0f06dfe96cc3dfda9eaf9dcaf47b1019680d6ca6&client_secret_expires_at=1379074496
2013-09-12 15:14:56,061 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x110fa2ad0>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:a8be3520-7cd5-48b3-aa44-ebc7ae16a245'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'2e2a475ea85f6e4b0f06dfe96cc3dfda9eaf9dcaf47b1019680d6ca6'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x110fa2a90>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/919D3F697FDAAF138124B83E09ECB0B7']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x110fa5cd0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'I8IhWx0D8o3E'), ('registration_expires', 1379074496), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x110fa2d90>), ('client_prefs', {}), ('registration_access_token', u'u2ZvwhEJ5d9DgT0MO4zwrk6XUl8jLZV0'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 15:14:56,061 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile', 'email', 'address', 'phone'], 'state': 'urn:uuid:a8be3520-7cd5-48b3-aa44-ebc7ae16a245', 'response_type': 'code'}
2013-09-12 15:14:56,062 rp.openidconnect:DEBUG request: scope=openid+profile+email+address+phone&state=urn%3Auuid%3Aa8be3520-7cd5-48b3-aa44-ebc7ae16a245&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=I8IhWx0D8o3E
2013-09-12 15:14:56,063 rp.openidconnect:DEBUG body: None
2013-09-12 15:14:56,063 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile+email+address+phone&state=urn%3Auuid%3Aa8be3520-7cd5-48b3-aa44-ebc7ae16a245&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=I8IhWx0D8o3E
2013-09-12 15:14:56,064 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 15:14:56,064 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile+email+address+phone&state=urn%3Auuid%3Aa8be3520-7cd5-48b3-aa44-ebc7ae16a245&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=I8IhWx0D8o3E')]
2013-09-12 15:14:56,140 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110f96a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile+email+address+phone&state=urn%3Auuid%3Aa8be3520-7cd5-48b3-aa44-ebc7ae16a245&code=Zr5tfqUj4SltdHedzRE89iM%2FvxPlTC3p5TaOVKFqBSM%2FF%2BG4jyamwNMgRLJD5X1h', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '55529', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110fa2950>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x110fa2dd0>, '_accessed_time': 1378991696.139617, 'service': u'https://localhost:8092/', '_creation_time': 1378991695.560926}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile+email+address+phone&state=urn%3Auuid%3Aa8be3520-7cd5-48b3-aa44-ebc7ae16a245&code=Zr5tfqUj4SltdHedzRE89iM%2FvxPlTC3p5TaOVKFqBSM%2FF%2BG4jyamwNMgRLJD5X1h', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f3c0270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:14:56,140 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile email address phone'], 'state': ['urn:uuid:a8be3520-7cd5-48b3-aa44-ebc7ae16a245'], 'code': ['Zr5tfqUj4SltdHedzRE89iM/vxPlTC3p5TaOVKFqBSM/F+G4jyamwNMgRLJD5X1h']}
2013-09-12 15:14:56,141 rp.openidconnect:DEBUG info: {'scope': ['openid profile email address phone'], 'state': ['urn:uuid:a8be3520-7cd5-48b3-aa44-ebc7ae16a245'], 'code': ['Zr5tfqUj4SltdHedzRE89iM/vxPlTC3p5TaOVKFqBSM/F+G4jyamwNMgRLJD5X1h']}
2013-09-12 15:14:56,145 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:14:56,177 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-12 15:14:56,182 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 15:14:56,183 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110f96a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile+email+address+phone&state=urn%3Auuid%3Aa8be3520-7cd5-48b3-aa44-ebc7ae16a245&code=Zr5tfqUj4SltdHedzRE89iM%2FvxPlTC3p5TaOVKFqBSM%2FF%2BG4jyamwNMgRLJD5X1h', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '55529', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110fa2950>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x110fa2dd0>, '_accessed_time': 1378991696.139617, 'service': u'https://localhost:8092/', '_creation_time': 1378991695.560926}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile+email+address+phone&state=urn%3Auuid%3Aa8be3520-7cd5-48b3-aa44-ebc7ae16a245&code=Zr5tfqUj4SltdHedzRE89iM%2FvxPlTC3p5TaOVKFqBSM%2FF%2BG4jyamwNMgRLJD5X1h', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f3c0270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:14:56,184 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x110f190e0>]
2013-09-12 15:14:56,185 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=Zr5tfqUj4SltdHedzRE89iM%2FvxPlTC3p5TaOVKFqBSM%2FF%2BG4jyamwNMgRLJD5X1h&client_secret=2e2a475ea85f6e4b0f06dfe96cc3dfda9eaf9dcaf47b1019680d6ca6&grant_type=authorization_code&client_id=I8IhWx0D8o3E&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7
2013-09-12 15:14:56,186 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 15:14:56,191 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:14:56,235 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 15:14:56,237 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 13:14:56 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 15:14:56,238 oic.oauth2:DEBUG resp.txt: {"access_token": "Zr5tfqUj4SltdHedzRE89pzinDWCAm717dWR62ExCRicpy42OiABq6uYg+0hV/br", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIkk4SWhXeDBEOG8zRSJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA3MDg5NiwgImlhdCI6IDEzNzg5OTE2OTYsICJzdWIiOiAiaGFobzAwMzIifQ.szztycSHVnIB6mDojS5HGcHrSQGJ03mNV18QkJNJ-xMiJTR_eig0EUoiASW4bjVJUP_N4KhYMDrZybsC1sNUMHSx8N3YcTxnxJPqU0JxqCJdHVivUi-gKZdf_HxzjLZg-uhTCwwZ0-xLi__i3gqK8lCJd2cXvKhY_V0Ms0_NBIH3zqxRPXCVYp1jqDwI5dt1bVqkjrpb5MZ245T6JLdrnCsrJgyq9JHqexKMmgckQvDKdvFXcq82sp59p3foqvmk0RCPkorQY35JqAbXIOBOFryGUrHAGqyvJjXz0EAm1ftVswFIfvU_Ul-Qo3DraKLzeGtZjIIcRDUkCh3UP6EySQ", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:a8be3520-7cd5-48b3-aa44-ebc7ae16a245", "scope": "openid profile email address phone", "refresh_token": "Zr5tfqUj4SltdHedzRE89sgdCYpiqG5mZTDrGPL9a6fzu/aG4yQgdizK5GTQ3cBF"}
2013-09-12 15:14:56,239 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 15:14:56,241 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'Zr5tfqUj4SltdHedzRE89pzinDWCAm717dWR62ExCRicpy42OiABq6uYg+0hV/br', 'request': 'openid', 'schema': 'openid'}
2013-09-12 15:14:56,242 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=Zr5tfqUj4SltdHedzRE89pzinDWCAm717dWR62ExCRicpy42OiABq6uYg%2B0hV%2Fbr H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 15:14:56,247 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:14:56,287 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 15:14:56,289 oic.oic:DEBUG Reponse text: '{"phone_number": "+46 90 7865000", "family_name": "H\u00f6rberg", "name": "Hans H\u00f6rberg", "email_verified": false, "given_name": "Hans", "address": {"country": "Sweden", "postal_code": "SE-90187", "street_address": "Ume\u00e5 Universitet", "locality": "Ume\u00e5"}, "nickname": "Hasse", "email": "hans@example.org", "sub": "haho0032"}'
2013-09-12 15:14:56,292 rp.openidconnect:DEBUG UserInfo: phone_number=%2B46+90+7865000&family_name=H%C3%B6rberg&name=Hans+H%C3%B6rberg&email_verified=False&given_name=Hans&address=country%3DSweden%26postal_code%3DSE-90187%26street_address%3DUme%25C3%25A5%2BUniversitet%26locality%3DUme%25C3%25A5&nickname=Hasse&email=hans%40example.org&sub=haho0032
2013-09-12 15:14:56,292 rp:DEBUG [do_pyoidcOIC] response: (True, {'phone_number': u'+46 90 7865000', 'family_name': u'H\xf6rberg', 'name': u'Hans H\xf6rberg', 'email_verified': False, 'given_name': u'Hans', 'address': {'country': u'Sweden', 'postal_code': u'SE-90187', 'street_address': u'Ume\xe5 Universitet', 'locality': u'Ume\xe5'}, 'nickname': u'Hasse', 'email': u'hans@example.org', 'sub': u'haho0032'}, u'Zr5tfqUj4SltdHedzRE89pzinDWCAm717dWR62ExCRicpy42OiABq6uYg+0hV/br', <oic.oic.Client object at 0x110fa2dd0>)
2013-09-12 15:15:28,986 root:INFO RP server starting listening on port:8666
2013-09-12 15:15:30,308 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 15:15:30,337 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 15:15:30,340 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 15:15:30,341 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b6ffa50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b70bc90>, 'scope': ['openid', 'profile', 'email', 'address', 'phone'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b6ffad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10b6ffb10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b6ffa50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b70bc90>, 'scope': ['openid', 'profile', 'email', 'address', 'phone'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b6ffad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10b6ffb10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10b6ff9d0>, 'PORT': 8666}
2013-09-12 15:15:30,346 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:15:30,380 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-12 15:15:30,408 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-12 15:15:30,411 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 15:15:30,413 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 15:15:30,414 rp.openidconnect:DEBUG Registering RP
2013-09-12 15:15:30,419 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:15:30,453 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-12 15:15:30,456 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378988130&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DFPg0Z0Was0qg&registration_access_token=7Shn1xMtlKSJtUMrtD60BylgkJfySvsw&client_id=FPg0Z0Was0qg&client_secret=19abcfce3cca262b046bf0352dc8f4706c44a00bc0d324cd7ff58fe9&client_secret_expires_at=1379074530
2013-09-12 15:15:30,457 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10b70bad0>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:fcf7aac5-8195-4483-851a-b571d70a162a'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'19abcfce3cca262b046bf0352dc8f4706c44a00bc0d324cd7ff58fe9'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10b70ba90>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/919D3F697FDAAF138124B83E09ECB0B7']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10b70ecd0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'FPg0Z0Was0qg'), ('registration_expires', 1379074530), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10b70bd90>), ('client_prefs', {}), ('registration_access_token', u'7Shn1xMtlKSJtUMrtD60BylgkJfySvsw'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 15:15:30,458 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile', 'email', 'address', 'phone'], 'state': 'urn:uuid:fcf7aac5-8195-4483-851a-b571d70a162a', 'response_type': 'code'}
2013-09-12 15:15:30,459 rp.openidconnect:DEBUG request: scope=openid+profile+email+address+phone&state=urn%3Auuid%3Afcf7aac5-8195-4483-851a-b571d70a162a&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=FPg0Z0Was0qg
2013-09-12 15:15:30,460 rp.openidconnect:DEBUG body: None
2013-09-12 15:15:30,460 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile+email+address+phone&state=urn%3Auuid%3Afcf7aac5-8195-4483-851a-b571d70a162a&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=FPg0Z0Was0qg
2013-09-12 15:15:30,461 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 15:15:30,461 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile+email+address+phone&state=urn%3Auuid%3Afcf7aac5-8195-4483-851a-b571d70a162a&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=FPg0Z0Was0qg')]
2013-09-12 15:15:30,515 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10b6ffa10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile+email+address+phone&state=urn%3Auuid%3Afcf7aac5-8195-4483-851a-b571d70a162a&code=SFyfDOnlAChY8q9uUiUWqbs9n%2Bt76MQGlpQckzYjysUm%2FcsyJC3b1pZgG3do0Ryf', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '55545', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10b70b950>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10b70bdd0>, '_accessed_time': 1378991730.514214, 'service': u'https://localhost:8092/', '_creation_time': 1378991730.277775}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile+email+address+phone&state=urn%3Auuid%3Afcf7aac5-8195-4483-851a-b571d70a162a&code=SFyfDOnlAChY8q9uUiUWqbs9n%2Bt76MQGlpQckzYjysUm%2FcsyJC3b1pZgG3do0Ryf', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x109b2c270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:15:30,515 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile email address phone'], 'state': ['urn:uuid:fcf7aac5-8195-4483-851a-b571d70a162a'], 'code': ['SFyfDOnlAChY8q9uUiUWqbs9n+t76MQGlpQckzYjysUm/csyJC3b1pZgG3do0Ryf']}
2013-09-12 15:15:30,516 rp.openidconnect:DEBUG info: {'scope': ['openid profile email address phone'], 'state': ['urn:uuid:fcf7aac5-8195-4483-851a-b571d70a162a'], 'code': ['SFyfDOnlAChY8q9uUiUWqbs9n+t76MQGlpQckzYjysUm/csyJC3b1pZgG3do0Ryf']}
2013-09-12 15:15:30,520 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:15:30,547 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-12 15:15:30,552 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 15:15:30,553 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10b6ffa10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile+email+address+phone&state=urn%3Auuid%3Afcf7aac5-8195-4483-851a-b571d70a162a&code=SFyfDOnlAChY8q9uUiUWqbs9n%2Bt76MQGlpQckzYjysUm%2FcsyJC3b1pZgG3do0Ryf', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '55545', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10b70b950>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10b70bdd0>, '_accessed_time': 1378991730.514214, 'service': u'https://localhost:8092/', '_creation_time': 1378991730.277775}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile+email+address+phone&state=urn%3Auuid%3Afcf7aac5-8195-4483-851a-b571d70a162a&code=SFyfDOnlAChY8q9uUiUWqbs9n%2Bt76MQGlpQckzYjysUm%2FcsyJC3b1pZgG3do0Ryf', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x109b2c270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:15:30,553 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10b682128>]
2013-09-12 15:15:30,554 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=SFyfDOnlAChY8q9uUiUWqbs9n%2Bt76MQGlpQckzYjysUm%2FcsyJC3b1pZgG3do0Ryf&client_secret=19abcfce3cca262b046bf0352dc8f4706c44a00bc0d324cd7ff58fe9&grant_type=authorization_code&client_id=FPg0Z0Was0qg&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7
2013-09-12 15:15:30,555 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 15:15:30,561 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:15:30,593 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 401 None
2013-09-12 15:15:30,595 rp.openidconnect:ERROR ERROR: Something went wrong: {"error": "unathorized_client"} [401]
2013-09-12 15:15:30,597 rp:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/__init__.py", line 60, in callback\n    result = self.phaseN(environ, query, server_env, session)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 231, in phaseN\n    tokenresp = self.get_accesstoken(client, authresp)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 195, in get_accesstoken\n    **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oic/__init__.py", line 470, in do_access_token_request\n    authn_method, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 916, in do_access_token_request\n    http_args=http_args, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 856, in request_and_return\n    resp.text, resp.status_code))\n', 'Exception: ERROR: Something went wrong: {"error": "unathorized_client"} [401]\n']
2013-09-12 15:15:30,613 root:INFO [static]sending: static/style.css
2013-09-12 15:15:30,614 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 15:15:30,618 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 15:15:30,622 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 15:15:37,268 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 15:15:37,297 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 15:15:37,300 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 15:15:37,301 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b6ffa50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x109bd7fd0>, 'scope': ['openid', 'profile', 'email', 'address', 'phone'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b6ffad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10b6ffb10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b6ffa50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x109bd7fd0>, 'scope': ['openid', 'profile', 'email', 'address', 'phone'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b6ffad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10b6ffb10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'919D3F697FDAAF138124B83E09ECB0B7': <oic.oic.Client object at 0x10b70bdd0>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10b6ff9d0>, 'PORT': 8666}
2013-09-12 15:15:37,302 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10b70bad0>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:fcf7aac5-8195-4483-851a-b571d70a162a': <oic.oic.Grant object at 0x10b70e9d0>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:eb358c3e-02cf-4376-bb5c-66e4969796c3'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'19abcfce3cca262b046bf0352dc8f4706c44a00bc0d324cd7ff58fe9'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10b70ba90>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/919D3F697FDAAF138124B83E09ECB0B7']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10b70ecd0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'FPg0Z0Was0qg'), ('registration_expires', 1379074530), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10b70bd90>), ('client_prefs', {}), ('registration_access_token', u'7Shn1xMtlKSJtUMrtD60BylgkJfySvsw'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 15:15:37,302 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile', 'email', 'address', 'phone'], 'state': 'urn:uuid:eb358c3e-02cf-4376-bb5c-66e4969796c3', 'response_type': 'code'}
2013-09-12 15:15:37,303 rp.openidconnect:DEBUG request: scope=openid+profile+email+address+phone&state=urn%3Auuid%3Aeb358c3e-02cf-4376-bb5c-66e4969796c3&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=FPg0Z0Was0qg
2013-09-12 15:15:37,304 rp.openidconnect:DEBUG body: None
2013-09-12 15:15:37,304 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile+email+address+phone&state=urn%3Auuid%3Aeb358c3e-02cf-4376-bb5c-66e4969796c3&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=FPg0Z0Was0qg
2013-09-12 15:15:37,305 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 15:15:37,305 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile+email+address+phone&state=urn%3Auuid%3Aeb358c3e-02cf-4376-bb5c-66e4969796c3&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=FPg0Z0Was0qg')]
2013-09-12 15:15:37,342 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10b6ffa10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile+email+address+phone&state=urn%3Auuid%3Aeb358c3e-02cf-4376-bb5c-66e4969796c3&code=HgpKlXTQYQyG167UVXrS6hqZtexjcBL1MSK%2BoyJhwZ6O2Vap3%2BIHRr469giRWxPY', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '55553', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10b70bc90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10b70bdd0>, '_accessed_time': 1378991737.341424, 'service': u'https://localhost:8092/', '_creation_time': 1378991730.277775}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile+email+address+phone&state=urn%3Auuid%3Aeb358c3e-02cf-4376-bb5c-66e4969796c3&code=HgpKlXTQYQyG167UVXrS6hqZtexjcBL1MSK%2BoyJhwZ6O2Vap3%2BIHRr469giRWxPY', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x109b2c270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:15:37,342 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile email address phone'], 'state': ['urn:uuid:eb358c3e-02cf-4376-bb5c-66e4969796c3'], 'code': ['HgpKlXTQYQyG167UVXrS6hqZtexjcBL1MSK+oyJhwZ6O2Vap3+IHRr469giRWxPY']}
2013-09-12 15:15:37,343 rp.openidconnect:DEBUG info: {'scope': ['openid profile email address phone'], 'state': ['urn:uuid:eb358c3e-02cf-4376-bb5c-66e4969796c3'], 'code': ['HgpKlXTQYQyG167UVXrS6hqZtexjcBL1MSK+oyJhwZ6O2Vap3+IHRr469giRWxPY']}
2013-09-12 15:15:37,343 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 15:15:37,344 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10b6ffa10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile+email+address+phone&state=urn%3Auuid%3Aeb358c3e-02cf-4376-bb5c-66e4969796c3&code=HgpKlXTQYQyG167UVXrS6hqZtexjcBL1MSK%2BoyJhwZ6O2Vap3%2BIHRr469giRWxPY', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '55553', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10b70bc90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10b70bdd0>, '_accessed_time': 1378991737.341424, 'service': u'https://localhost:8092/', '_creation_time': 1378991730.277775}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile+email+address+phone&state=urn%3Auuid%3Aeb358c3e-02cf-4376-bb5c-66e4969796c3&code=HgpKlXTQYQyG167UVXrS6hqZtexjcBL1MSK%2BoyJhwZ6O2Vap3%2BIHRr469giRWxPY', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x109b2c270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:15:37,345 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10b682128>]
2013-09-12 15:15:37,346 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=HgpKlXTQYQyG167UVXrS6hqZtexjcBL1MSK%2BoyJhwZ6O2Vap3%2BIHRr469giRWxPY&client_secret=19abcfce3cca262b046bf0352dc8f4706c44a00bc0d324cd7ff58fe9&grant_type=authorization_code&client_id=FPg0Z0Was0qg&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7
2013-09-12 15:15:37,346 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 15:15:37,351 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:15:37,382 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 401 None
2013-09-12 15:15:37,385 rp.openidconnect:ERROR ERROR: Something went wrong: {"error": "unathorized_client"} [401]
2013-09-12 15:15:37,385 rp:ERROR ['Traceback (most recent call last):\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/__init__.py", line 60, in callback\n    result = self.phaseN(environ, query, server_env, session)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 231, in phaseN\n    tokenresp = self.get_accesstoken(client, authresp)\n', '  File "/Users/haho0032/githubFork/pyoidc/rp/openidconnect/__init__.py", line 195, in get_accesstoken\n    **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oic/__init__.py", line 470, in do_access_token_request\n    authn_method, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 916, in do_access_token_request\n    http_args=http_args, **kwargs)\n', '  File "/Users/haho0032/githubFork/pyoidc/src/oic/oauth2/__init__.py", line 856, in request_and_return\n    resp.text, resp.status_code))\n', 'Exception: ERROR: Something went wrong: {"error": "unathorized_client"} [401]\n']
2013-09-12 15:15:37,431 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 15:15:37,435 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 15:15:37,436 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 15:15:37,441 root:INFO [static]sending: static/style.css
2013-09-12 15:15:45,367 root:INFO [static]sending: static/style.css
2013-09-12 15:15:45,373 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 15:15:45,375 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 15:15:45,378 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 15:16:23,421 root:INFO RP server starting listening on port:8666
2013-09-12 15:16:26,769 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 15:16:26,799 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 15:16:26,802 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 15:16:26,802 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312ba50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10313a4d0>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312bad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10312bb10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312ba50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10313a4d0>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312bad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10312bb10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10312b9d0>, 'PORT': 8666}
2013-09-12 15:16:26,807 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:16:26,838 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-12 15:16:26,861 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-12 15:16:26,863 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 15:16:26,866 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 15:16:26,866 rp.openidconnect:DEBUG Registering RP
2013-09-12 15:16:26,873 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:16:26,909 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-12 15:16:26,912 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378988186&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DKnkfSPiLDW0h&registration_access_token=UusaJf4DdfIc9CZilxsOw7fAYqxyE6ef&client_id=KnkfSPiLDW0h&client_secret=c77a4073530211c44d7962238993456f75fe9bbef593f673c04d574e&client_secret_expires_at=1379074586
2013-09-12 15:16:26,913 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10313a310>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:ff2f8dd6-1ebf-4ea6-ba5a-db5f33ac8799'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'c77a4073530211c44d7962238993456f75fe9bbef593f673c04d574e'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10313a2d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/919D3F697FDAAF138124B83E09ECB0B7']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x103088510>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'KnkfSPiLDW0h'), ('registration_expires', 1379074586), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10313a5d0>), ('client_prefs', {}), ('registration_access_token', u'UusaJf4DdfIc9CZilxsOw7fAYqxyE6ef'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 15:16:26,914 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:ff2f8dd6-1ebf-4ea6-ba5a-db5f33ac8799', 'response_type': 'code'}
2013-09-12 15:16:26,915 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Aff2f8dd6-1ebf-4ea6-ba5a-db5f33ac8799&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=KnkfSPiLDW0h
2013-09-12 15:16:26,915 rp.openidconnect:DEBUG body: None
2013-09-12 15:16:26,916 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Aff2f8dd6-1ebf-4ea6-ba5a-db5f33ac8799&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=KnkfSPiLDW0h
2013-09-12 15:16:26,916 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 15:16:26,917 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Aff2f8dd6-1ebf-4ea6-ba5a-db5f33ac8799&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=KnkfSPiLDW0h')]
2013-09-12 15:16:26,976 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10312ba10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Aff2f8dd6-1ebf-4ea6-ba5a-db5f33ac8799&code=2J1whYdx2HQShLCvhPN%2BJM%2BH56k1ufXWPz2X87hTR4eLacVSCVQfa8UC%2BoSfaqoX', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '55571', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x103137fd0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10313a610>, '_accessed_time': 1378991786.975576, 'service': u'https://localhost:8092/', '_creation_time': 1378991786.747566}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3Aff2f8dd6-1ebf-4ea6-ba5a-db5f33ac8799&code=2J1whYdx2HQShLCvhPN%2BJM%2BH56k1ufXWPz2X87hTR4eLacVSCVQfa8UC%2BoSfaqoX', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x101555270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:16:26,976 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:ff2f8dd6-1ebf-4ea6-ba5a-db5f33ac8799'], 'code': ['2J1whYdx2HQShLCvhPN+JM+H56k1ufXWPz2X87hTR4eLacVSCVQfa8UC+oSfaqoX']}
2013-09-12 15:16:26,977 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:ff2f8dd6-1ebf-4ea6-ba5a-db5f33ac8799'], 'code': ['2J1whYdx2HQShLCvhPN+JM+H56k1ufXWPz2X87hTR4eLacVSCVQfa8UC+oSfaqoX']}
2013-09-12 15:16:26,981 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:16:27,009 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-12 15:16:27,014 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 15:16:27,015 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10312ba10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Aff2f8dd6-1ebf-4ea6-ba5a-db5f33ac8799&code=2J1whYdx2HQShLCvhPN%2BJM%2BH56k1ufXWPz2X87hTR4eLacVSCVQfa8UC%2BoSfaqoX', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '55571', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x103137fd0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10313a610>, '_accessed_time': 1378991786.975576, 'service': u'https://localhost:8092/', '_creation_time': 1378991786.747566}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3Aff2f8dd6-1ebf-4ea6-ba5a-db5f33ac8799&code=2J1whYdx2HQShLCvhPN%2BJM%2BH56k1ufXWPz2X87hTR4eLacVSCVQfa8UC%2BoSfaqoX', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x101555270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:16:27,015 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x1030b1ea8>]
2013-09-12 15:16:27,017 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=2J1whYdx2HQShLCvhPN%2BJM%2BH56k1ufXWPz2X87hTR4eLacVSCVQfa8UC%2BoSfaqoX&client_secret=c77a4073530211c44d7962238993456f75fe9bbef593f673c04d574e&grant_type=authorization_code&client_id=KnkfSPiLDW0h&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7
2013-09-12 15:16:27,017 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 15:16:27,022 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:16:27,067 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 15:16:27,070 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 13:16:27 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 15:16:27,070 oic.oauth2:DEBUG resp.txt: {"access_token": "2J1whYdx2HQShLCvhPN+JP91+F8bIqU0iOodzqKHUarqLz4PMIT2ADWoxVFtXWhN", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIktua2ZTUGlMRFcwaCJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA3MDk4NywgImlhdCI6IDEzNzg5OTE3ODcsICJzdWIiOiAiaGFobzAwMzIifQ.wxl2abKnLioQK15OrDa-NbZhYCJA9Sr_ovpnNxBLB3v0SfyIzmtkz6a36aAGGhj-1Prsr7n4V0OhDh7AvnTwgvOmhMzY4BSxzUi6Wq2GSWW89Ys_KMjo6F8CPSw3CKOP5FDIKEgoIwiBaZi3lbDKueORrMAiBR0dFJ1gSNZmzu-nBWolz6SxB4uQRJm5EoA4gHhiEtnI1JWdGD6mmgk0IHH0js70mit8tbL6szdk2DQ_uPgV06y1Bj-OGI40kFe-wkQJkFbIxWAPpHcjbAmioMW5jT6J03tgbH_W8NBUhOB-nIahjQO_b-phoKKbYeSFsEqwLApzMmnxcaS8lZXySg", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:ff2f8dd6-1ebf-4ea6-ba5a-db5f33ac8799", "scope": "openid profile", "refresh_token": "2J1whYdx2HQShLCvhPN+JOgiHFRJdVl1Y85qp9iQrat9abqCrldIPipGMA2jzWxW"}
2013-09-12 15:16:27,071 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 15:16:27,074 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'2J1whYdx2HQShLCvhPN+JP91+F8bIqU0iOodzqKHUarqLz4PMIT2ADWoxVFtXWhN', 'request': 'openid', 'schema': 'openid'}
2013-09-12 15:16:27,074 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=2J1whYdx2HQShLCvhPN%2BJP91%2BF8bIqU0iOodzqKHUarqLz4PMIT2ADWoxVFtXWhN H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 15:16:27,079 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:16:27,112 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 15:16:27,114 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-12 15:16:27,116 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-12 15:16:27,116 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'2J1whYdx2HQShLCvhPN+JP91+F8bIqU0iOodzqKHUarqLz4PMIT2ADWoxVFtXWhN', <oic.oic.Client object at 0x10313a610>)
2013-09-12 15:16:36,787 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 15:16:36,817 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 15:16:36,820 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 15:16:36,821 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312ba50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x101600fd0>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312bad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10312bb10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312ba50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x101600fd0>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312bad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10312bb10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'919D3F697FDAAF138124B83E09ECB0B7': <oic.oic.Client object at 0x10313a610>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10312b9d0>, 'PORT': 8666}
2013-09-12 15:16:36,822 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10313a310>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:ff2f8dd6-1ebf-4ea6-ba5a-db5f33ac8799': <oic.oic.Grant object at 0x103088210>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:68571d0c-a4c6-47b8-8dfc-4bab4e5a860c'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'c77a4073530211c44d7962238993456f75fe9bbef593f673c04d574e'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10313a2d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/919D3F697FDAAF138124B83E09ECB0B7']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x103088510>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'KnkfSPiLDW0h'), ('registration_expires', 1379074586), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10313a5d0>), ('client_prefs', {}), ('registration_access_token', u'UusaJf4DdfIc9CZilxsOw7fAYqxyE6ef'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 15:16:36,822 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:68571d0c-a4c6-47b8-8dfc-4bab4e5a860c', 'response_type': 'code'}
2013-09-12 15:16:36,824 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A68571d0c-a4c6-47b8-8dfc-4bab4e5a860c&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=KnkfSPiLDW0h
2013-09-12 15:16:36,825 rp.openidconnect:DEBUG body: None
2013-09-12 15:16:36,825 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A68571d0c-a4c6-47b8-8dfc-4bab4e5a860c&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=KnkfSPiLDW0h
2013-09-12 15:16:36,825 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 15:16:36,826 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A68571d0c-a4c6-47b8-8dfc-4bab4e5a860c&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=KnkfSPiLDW0h')]
2013-09-12 15:16:36,857 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10312ba10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A68571d0c-a4c6-47b8-8dfc-4bab4e5a860c&code=JBeqghIA1pSRslmZ%2F2subSupT8rcJhVCMRqZ0VtRzjBiFPgo8pkp6ubNrM5he%2BFb', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '55577', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x103195710>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10313a610>, '_accessed_time': 1378991796.856582, 'service': u'https://localhost:8092/', '_creation_time': 1378991786.747566}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3A68571d0c-a4c6-47b8-8dfc-4bab4e5a860c&code=JBeqghIA1pSRslmZ%2F2subSupT8rcJhVCMRqZ0VtRzjBiFPgo8pkp6ubNrM5he%2BFb', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x101555270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:16:36,857 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:68571d0c-a4c6-47b8-8dfc-4bab4e5a860c'], 'code': ['JBeqghIA1pSRslmZ/2subSupT8rcJhVCMRqZ0VtRzjBiFPgo8pkp6ubNrM5he+Fb']}
2013-09-12 15:16:36,858 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:68571d0c-a4c6-47b8-8dfc-4bab4e5a860c'], 'code': ['JBeqghIA1pSRslmZ/2subSupT8rcJhVCMRqZ0VtRzjBiFPgo8pkp6ubNrM5he+Fb']}
2013-09-12 15:16:36,859 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 15:16:36,859 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10312ba10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A68571d0c-a4c6-47b8-8dfc-4bab4e5a860c&code=JBeqghIA1pSRslmZ%2F2subSupT8rcJhVCMRqZ0VtRzjBiFPgo8pkp6ubNrM5he%2BFb', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '55577', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x103195710>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10313a610>, '_accessed_time': 1378991796.856582, 'service': u'https://localhost:8092/', '_creation_time': 1378991786.747566}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3A68571d0c-a4c6-47b8-8dfc-4bab4e5a860c&code=JBeqghIA1pSRslmZ%2F2subSupT8rcJhVCMRqZ0VtRzjBiFPgo8pkp6ubNrM5he%2BFb', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x101555270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:16:36,860 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x1030b1ea8>]
2013-09-12 15:16:36,861 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=JBeqghIA1pSRslmZ%2F2subSupT8rcJhVCMRqZ0VtRzjBiFPgo8pkp6ubNrM5he%2BFb&client_secret=c77a4073530211c44d7962238993456f75fe9bbef593f673c04d574e&grant_type=authorization_code&client_id=KnkfSPiLDW0h&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7
2013-09-12 15:16:36,862 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 15:16:36,866 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:16:36,911 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 15:16:36,913 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 13:16:36 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 15:16:36,913 oic.oauth2:DEBUG resp.txt: {"access_token": "JBeqghIA1pSRslmZ/2subc/VTCL7ObpsVa6ac5DXwgHJXg6bv1aR5/+K3LPgpAUJ", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIktua2ZTUGlMRFcwaCJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA3MDk5NiwgImlhdCI6IDEzNzg5OTE3OTYsICJzdWIiOiAiaGFobzAwMzIifQ.gNjFZXfgrb2yhWB8k4uAR94qS3uHJWPSw178HuIf0Q0ycSap2bGj77oDwr9q6CQJ3Zzp-jtj1hpxaKEKTMQI7IQtASAmbsS_HYgxXwRVEYkc1fUscupf3SjZXRwQg02fSGVKVGQQlzuBf0D_KZ_s2O77mx2ChkjdHh60usKNsVW7mei5GjzdovLTJOqRxTuAfAf7gkExjOlzJDKO3rQ_7ANB6c4ViUeDmG3DrfxhixLCWkkZiBSkuP_pUUKnhROXo22lY4h1EB_xe5SCZLMhYFrzjYxh2BoqM-f5X5XYclLwU1IaZw4FgzVIXFSwatmCTUrVLtnLUN7JR1AzLP6brA", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:68571d0c-a4c6-47b8-8dfc-4bab4e5a860c", "scope": "openid profile", "refresh_token": "JBeqghIA1pSRslmZ/2subY5eEFkg6AhsPF+0P4vzVvb1O9vNT5BJljDDjCFDKJlI"}
2013-09-12 15:16:36,915 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 15:16:36,917 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'JBeqghIA1pSRslmZ/2subc/VTCL7ObpsVa6ac5DXwgHJXg6bv1aR5/+K3LPgpAUJ', 'request': 'openid', 'schema': 'openid'}
2013-09-12 15:16:36,918 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=JBeqghIA1pSRslmZ%2F2subc%2FVTCL7ObpsVa6ac5DXwgHJXg6bv1aR5%2F%2BK3LPgpAUJ H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 15:16:36,923 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:16:36,956 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 15:16:36,959 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-12 15:16:36,960 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-12 15:16:36,960 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'JBeqghIA1pSRslmZ/2subc/VTCL7ObpsVa6ac5DXwgHJXg6bv1aR5/+K3LPgpAUJ', <oic.oic.Client object at 0x10313a610>)
2013-09-12 15:16:53,936 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 15:16:53,965 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 15:16:53,968 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 15:16:53,968 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312ba50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x101600fd0>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312bad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10312bb10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312ba50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x101600fd0>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10312bad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10312bb10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'919D3F697FDAAF138124B83E09ECB0B7': <oic.oic.Client object at 0x10313a610>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10312b9d0>, 'PORT': 8666}
2013-09-12 15:16:53,970 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10313a310>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:68571d0c-a4c6-47b8-8dfc-4bab4e5a860c': <oic.oic.Grant object at 0x1031955d0>, 'urn:uuid:ff2f8dd6-1ebf-4ea6-ba5a-db5f33ac8799': <oic.oic.Grant object at 0x103088210>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:474004fc-b47e-4b63-bced-f4b32767a259'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'c77a4073530211c44d7962238993456f75fe9bbef593f673c04d574e'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10313a2d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/919D3F697FDAAF138124B83E09ECB0B7']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x103088510>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'KnkfSPiLDW0h'), ('registration_expires', 1379074586), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10313a5d0>), ('client_prefs', {}), ('registration_access_token', u'UusaJf4DdfIc9CZilxsOw7fAYqxyE6ef'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 15:16:53,970 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:474004fc-b47e-4b63-bced-f4b32767a259', 'response_type': 'code'}
2013-09-12 15:16:53,971 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A474004fc-b47e-4b63-bced-f4b32767a259&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=KnkfSPiLDW0h
2013-09-12 15:16:53,972 rp.openidconnect:DEBUG body: None
2013-09-12 15:16:53,972 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A474004fc-b47e-4b63-bced-f4b32767a259&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=KnkfSPiLDW0h
2013-09-12 15:16:53,973 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 15:16:53,973 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A474004fc-b47e-4b63-bced-f4b32767a259&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=KnkfSPiLDW0h')]
2013-09-12 15:16:54,020 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10312ba10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A474004fc-b47e-4b63-bced-f4b32767a259&code=rp59y85LUFmdlXmNzLtLocYqHU31OBr%2BLTB9n7mCcf6WDwlPtEzUqGzCaDgKkocK', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '55583', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1030881d0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10313a610>, '_accessed_time': 1378991814.019609, 'service': u'https://localhost:8092/', '_creation_time': 1378991786.747566}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3A474004fc-b47e-4b63-bced-f4b32767a259&code=rp59y85LUFmdlXmNzLtLocYqHU31OBr%2BLTB9n7mCcf6WDwlPtEzUqGzCaDgKkocK', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x101555270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:16:54,020 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:474004fc-b47e-4b63-bced-f4b32767a259'], 'code': ['rp59y85LUFmdlXmNzLtLocYqHU31OBr+LTB9n7mCcf6WDwlPtEzUqGzCaDgKkocK']}
2013-09-12 15:16:54,021 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:474004fc-b47e-4b63-bced-f4b32767a259'], 'code': ['rp59y85LUFmdlXmNzLtLocYqHU31OBr+LTB9n7mCcf6WDwlPtEzUqGzCaDgKkocK']}
2013-09-12 15:16:54,022 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 15:16:54,023 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10312ba10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A474004fc-b47e-4b63-bced-f4b32767a259&code=rp59y85LUFmdlXmNzLtLocYqHU31OBr%2BLTB9n7mCcf6WDwlPtEzUqGzCaDgKkocK', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '55583', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1030881d0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10313a610>, '_accessed_time': 1378991814.019609, 'service': u'https://localhost:8092/', '_creation_time': 1378991786.747566}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3A474004fc-b47e-4b63-bced-f4b32767a259&code=rp59y85LUFmdlXmNzLtLocYqHU31OBr%2BLTB9n7mCcf6WDwlPtEzUqGzCaDgKkocK', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x101555270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:16:54,023 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x1030b1ea8>]
2013-09-12 15:16:54,024 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=rp59y85LUFmdlXmNzLtLocYqHU31OBr%2BLTB9n7mCcf6WDwlPtEzUqGzCaDgKkocK&client_secret=c77a4073530211c44d7962238993456f75fe9bbef593f673c04d574e&grant_type=authorization_code&client_id=KnkfSPiLDW0h&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7
2013-09-12 15:16:54,025 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 15:16:54,029 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:16:54,074 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 15:16:54,076 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 13:16:54 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 15:16:54,077 oic.oauth2:DEBUG resp.txt: {"access_token": "rp59y85LUFmdlXmNzLtLoaYfWbB3Q26LcoZJJEGEEIk1ho/F4JhCr7CMLQFnn2dy", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIktua2ZTUGlMRFcwaCJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA3MTAxNCwgImlhdCI6IDEzNzg5OTE4MTQsICJzdWIiOiAiaGFobzAwMzIifQ.CAmifceE6ODlLU5GCQNjX5IhYOaNB171YLrtVUpau9GeUqmYHVChMIf9ox4EIEpxtbXeNt3zP3AtCGAVK3DouPF3OxM6knHeKAx8H2XztTrUUMR-3V9rAvMuZcRjNdzj7JIwEhJ1NuoJQiTfGelq9todjrD0sO9iQHyXTq3prFDoQHGfNNIgDC_qjyHs-HcBmxSdLiDzZpkRcs6mLKJlnDtYFwolvUp2fqAIRQVCKUQ5EXzCzAmcQaPy1eTK9BUtAY6jf9kHzLq-HnnrbEQofsh7sh4rU2XRYpiTijqxXB4ctBrWi38jFnXZeMTsxMVDyH5d2DjCYcvr0I2a9U_BJg", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:474004fc-b47e-4b63-bced-f4b32767a259", "scope": "openid profile", "refresh_token": "rp59y85LUFmdlXmNzLtLoQbbRHMbohAAgR7zJQTsgEZdDyvZpeoMs6H07P461pwY"}
2013-09-12 15:16:54,078 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 15:16:54,081 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'rp59y85LUFmdlXmNzLtLoaYfWbB3Q26LcoZJJEGEEIk1ho/F4JhCr7CMLQFnn2dy', 'request': 'openid', 'schema': 'openid'}
2013-09-12 15:16:54,081 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=rp59y85LUFmdlXmNzLtLoaYfWbB3Q26LcoZJJEGEEIk1ho%2FF4JhCr7CMLQFnn2dy H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 15:16:54,086 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:16:54,119 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 15:16:54,121 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-12 15:16:54,123 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-12 15:16:54,123 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'rp59y85LUFmdlXmNzLtLoaYfWbB3Q26LcoZJJEGEEIk1ho/F4JhCr7CMLQFnn2dy', <oic.oic.Client object at 0x10313a610>)
2013-09-12 15:17:40,488 root:INFO [static]sending: static/style.css
2013-09-12 15:17:40,490 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 15:17:40,492 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 15:17:40,498 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 15:17:43,141 root:INFO [static]sending: static/style.css
2013-09-12 15:17:43,141 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 15:17:43,142 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 15:17:43,146 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 15:20:02,030 root:INFO RP server starting listening on port:8666
2013-09-12 15:20:04,817 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 15:20:04,848 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 15:20:04,851 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 15:20:04,851 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1050caa50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1050d6c90>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1050caad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x1050cab10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1050caa50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1050d6c90>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1050caad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x1050cab10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x1050ca9d0>, 'PORT': 8666}
2013-09-12 15:20:04,856 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:20:04,888 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-12 15:20:04,911 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-12 15:20:04,914 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 15:20:04,916 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 15:20:04,917 rp.openidconnect:DEBUG Registering RP
2013-09-12 15:20:04,922 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:20:04,959 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-12 15:20:04,963 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378988404&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3D3oK30oDxnMM3&registration_access_token=TEdFUpxoBeWpLl5U7j63LM2erQaBul0f&client_id=3oK30oDxnMM3&client_secret=c599547c73e9f128d70a8a9626f632e65af4ca452577f6208c690602&client_secret_expires_at=1379074804
2013-09-12 15:20:04,964 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x1050d6ad0>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:d7b7f642-561a-4a16-aad5-4cfccdef5b34'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'c599547c73e9f128d70a8a9626f632e65af4ca452577f6208c690602'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x1050d6a90>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/919D3F697FDAAF138124B83E09ECB0B7']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x1050d9cd0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'3oK30oDxnMM3'), ('registration_expires', 1379074804), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x1050d6d90>), ('client_prefs', {}), ('registration_access_token', u'TEdFUpxoBeWpLl5U7j63LM2erQaBul0f'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 15:20:04,964 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:d7b7f642-561a-4a16-aad5-4cfccdef5b34', 'response_type': 'code'}
2013-09-12 15:20:04,965 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Ad7b7f642-561a-4a16-aad5-4cfccdef5b34&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=3oK30oDxnMM3
2013-09-12 15:20:04,966 rp.openidconnect:DEBUG body: None
2013-09-12 15:20:04,966 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ad7b7f642-561a-4a16-aad5-4cfccdef5b34&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=3oK30oDxnMM3
2013-09-12 15:20:04,967 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 15:20:04,968 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ad7b7f642-561a-4a16-aad5-4cfccdef5b34&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=3oK30oDxnMM3')]
2013-09-12 15:20:05,018 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x1050caa10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ad7b7f642-561a-4a16-aad5-4cfccdef5b34&code=P3nfMn9jnnbhwPoQQUkLX1C7%2FgN5lXwvahcxFh4jHDTsQILPjwmmGPWbkmmhgWdB', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56092', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1050d6590>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x1050d6dd0>, '_accessed_time': 1378992005.018144, 'service': u'https://localhost:8092/', '_creation_time': 1378992004.795482}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3Ad7b7f642-561a-4a16-aad5-4cfccdef5b34&code=P3nfMn9jnnbhwPoQQUkLX1C7%2FgN5lXwvahcxFh4jHDTsQILPjwmmGPWbkmmhgWdB', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1034f5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:20:05,019 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:d7b7f642-561a-4a16-aad5-4cfccdef5b34'], 'code': ['P3nfMn9jnnbhwPoQQUkLX1C7/gN5lXwvahcxFh4jHDTsQILPjwmmGPWbkmmhgWdB']}
2013-09-12 15:20:05,019 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:d7b7f642-561a-4a16-aad5-4cfccdef5b34'], 'code': ['P3nfMn9jnnbhwPoQQUkLX1C7/gN5lXwvahcxFh4jHDTsQILPjwmmGPWbkmmhgWdB']}
2013-09-12 15:20:05,027 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:20:05,057 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-12 15:20:05,061 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 15:20:05,062 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x1050caa10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ad7b7f642-561a-4a16-aad5-4cfccdef5b34&code=P3nfMn9jnnbhwPoQQUkLX1C7%2FgN5lXwvahcxFh4jHDTsQILPjwmmGPWbkmmhgWdB', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56092', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1050d6590>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x1050d6dd0>, '_accessed_time': 1378992005.018144, 'service': u'https://localhost:8092/', '_creation_time': 1378992004.795482}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3Ad7b7f642-561a-4a16-aad5-4cfccdef5b34&code=P3nfMn9jnnbhwPoQQUkLX1C7%2FgN5lXwvahcxFh4jHDTsQILPjwmmGPWbkmmhgWdB', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1034f5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:20:05,063 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x105050e18>]
2013-09-12 15:20:05,064 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=P3nfMn9jnnbhwPoQQUkLX1C7%2FgN5lXwvahcxFh4jHDTsQILPjwmmGPWbkmmhgWdB&client_secret=c599547c73e9f128d70a8a9626f632e65af4ca452577f6208c690602&grant_type=authorization_code&client_id=3oK30oDxnMM3&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7
2013-09-12 15:20:05,064 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 15:20:05,069 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:20:05,115 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 15:20:05,116 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 13:20:05 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 15:20:05,117 oic.oauth2:DEBUG resp.txt: {"access_token": "P3nfMn9jnnbhwPoQQUkLXwOTkbELt63Ymyh4wV7jsywTnvyfeB79+V5MPb6dibEg", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIjNvSzMwb0R4bk1NMyJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA3MTIwNSwgImlhdCI6IDEzNzg5OTIwMDUsICJzdWIiOiAiaGFobzAwMzIifQ.0sjHqCixyS20YgJ1ekuruFw7gsivLdcJavXB5F9TSLLkHK8f8dBYKBN1CBknK1gS90QwW7VtnPjQ7uhFJM3UdXHFocmccW0pspbsdzJpQSbv8uLVDm3sb-FAlASTjNHxsPigmlcSxwDIwPOx-I7xOIq-ig1NFwTbFgCsbabMrd3EIFn3nHzLPrpME7Vh0exC9ZjbSYjhXHXHiuCSFhfaIyoQ5xeKMtlOjXl62ZE8KtBglN_NCHU5AGibMql8gu4NBFu3fkp4nJVYKvBglGPpHlDalajmczAzQxnJAoLMZfcGTSj54D_F7o9cw7KzJ0K2r_SWrG81hOblRhatKQvwFQ", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:d7b7f642-561a-4a16-aad5-4cfccdef5b34", "scope": "openid profile", "refresh_token": "P3nfMn9jnnbhwPoQQUkLX7Uq/AZkfojfvgMOeYd10u9hurpcV/c8jj2D7NhKsfD6"}
2013-09-12 15:20:05,118 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 15:20:05,121 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'P3nfMn9jnnbhwPoQQUkLXwOTkbELt63Ymyh4wV7jsywTnvyfeB79+V5MPb6dibEg', 'request': 'openid', 'schema': 'openid'}
2013-09-12 15:20:05,121 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=P3nfMn9jnnbhwPoQQUkLXwOTkbELt63Ymyh4wV7jsywTnvyfeB79%2BV5MPb6dibEg H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 15:20:05,126 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:20:05,159 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 15:20:05,161 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-12 15:20:05,162 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-12 15:20:05,163 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'P3nfMn9jnnbhwPoQQUkLXwOTkbELt63Ymyh4wV7jsywTnvyfeB79+V5MPb6dibEg', <oic.oic.Client object at 0x1050d6dd0>)
2013-09-12 15:20:38,396 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 15:20:38,425 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 15:20:38,428 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 15:20:38,428 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1050caa50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1035a0fd0>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1050caad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x1050cab10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1050caa50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1035a0fd0>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1050caad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x1050cab10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'919D3F697FDAAF138124B83E09ECB0B7': <oic.oic.Client object at 0x1050d6dd0>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x1050ca9d0>, 'PORT': 8666}
2013-09-12 15:20:38,429 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x1050d6ad0>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:d7b7f642-561a-4a16-aad5-4cfccdef5b34': <oic.oic.Grant object at 0x105043a90>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:11561905-4f7a-4e74-84b0-9d3d00517f3f'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'c599547c73e9f128d70a8a9626f632e65af4ca452577f6208c690602'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x1050d6a90>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/919D3F697FDAAF138124B83E09ECB0B7']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x1050d9cd0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'3oK30oDxnMM3'), ('registration_expires', 1379074804), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x1050d6d90>), ('client_prefs', {}), ('registration_access_token', u'TEdFUpxoBeWpLl5U7j63LM2erQaBul0f'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 15:20:38,430 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:11561905-4f7a-4e74-84b0-9d3d00517f3f', 'response_type': 'code'}
2013-09-12 15:20:38,431 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A11561905-4f7a-4e74-84b0-9d3d00517f3f&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=3oK30oDxnMM3
2013-09-12 15:20:38,432 rp.openidconnect:DEBUG body: None
2013-09-12 15:20:38,432 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A11561905-4f7a-4e74-84b0-9d3d00517f3f&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=3oK30oDxnMM3
2013-09-12 15:20:38,433 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 15:20:38,433 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A11561905-4f7a-4e74-84b0-9d3d00517f3f&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=3oK30oDxnMM3')]
2013-09-12 15:20:38,492 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x1050caa10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A11561905-4f7a-4e74-84b0-9d3d00517f3f&code=xoI98LjlDadDqvKbsFw3UVwC%2BlQYU1GbadNuBjYq98XtL8g1gt3oXP9JMkU1ZblQ', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56100', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1051356d0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x1050d6dd0>, '_accessed_time': 1378992038.491606, 'service': u'https://localhost:8092/', '_creation_time': 1378992004.795482}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3A11561905-4f7a-4e74-84b0-9d3d00517f3f&code=xoI98LjlDadDqvKbsFw3UVwC%2BlQYU1GbadNuBjYq98XtL8g1gt3oXP9JMkU1ZblQ', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1034f5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:20:38,492 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:11561905-4f7a-4e74-84b0-9d3d00517f3f'], 'code': ['xoI98LjlDadDqvKbsFw3UVwC+lQYU1GbadNuBjYq98XtL8g1gt3oXP9JMkU1ZblQ']}
2013-09-12 15:20:38,493 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:11561905-4f7a-4e74-84b0-9d3d00517f3f'], 'code': ['xoI98LjlDadDqvKbsFw3UVwC+lQYU1GbadNuBjYq98XtL8g1gt3oXP9JMkU1ZblQ']}
2013-09-12 15:20:38,494 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 15:20:38,495 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x1050caa10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A11561905-4f7a-4e74-84b0-9d3d00517f3f&code=xoI98LjlDadDqvKbsFw3UVwC%2BlQYU1GbadNuBjYq98XtL8g1gt3oXP9JMkU1ZblQ', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56100', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1051356d0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x1050d6dd0>, '_accessed_time': 1378992038.491606, 'service': u'https://localhost:8092/', '_creation_time': 1378992004.795482}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3A11561905-4f7a-4e74-84b0-9d3d00517f3f&code=xoI98LjlDadDqvKbsFw3UVwC%2BlQYU1GbadNuBjYq98XtL8g1gt3oXP9JMkU1ZblQ', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1034f5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:20:38,495 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x105050e18>]
2013-09-12 15:20:38,496 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=xoI98LjlDadDqvKbsFw3UVwC%2BlQYU1GbadNuBjYq98XtL8g1gt3oXP9JMkU1ZblQ&client_secret=c599547c73e9f128d70a8a9626f632e65af4ca452577f6208c690602&grant_type=authorization_code&client_id=3oK30oDxnMM3&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7
2013-09-12 15:20:38,497 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 15:20:38,501 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:20:38,548 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 15:20:38,550 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 13:20:38 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 15:20:38,551 oic.oauth2:DEBUG resp.txt: {"access_token": "xoI98LjlDadDqvKbsFw3UTUR45yBGpD+1pBtdt//1k/wPIjg9fJKOyetyddZYzdV", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIjNvSzMwb0R4bk1NMyJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA3MTIzOCwgImlhdCI6IDEzNzg5OTIwMzgsICJzdWIiOiAiaGFobzAwMzIifQ.qN5TzGhAG3NYyc_Je8dGL16eFSbDUJjnAiwlLFbVcg2UxQEnxS6Hk_CCUiCLJVZGaDK7zPF1nuAz0X5NIlgANlCWg_7-OFzacjfVG70BgMQwfnYWa8nvOpnPgMAJCnUGW5Qh4gdX3PK2NZ4SF2ssueJqNj9-KBmMS4PHAy2QJEGeLnNDqaql-leFaUOXhayyoqqjwytLr40gHhOoloMix6TUYnVrxWQu8CNqlXHAt7VNyhdyAMy-4N0CiEzFu6DfFMfpR3C8CTUa258_zZsIh5o4_4ymospnipyNwSTwQeYXTPOx7V_062lYCiECPTYF-6Aq65BSd1C9lmAna_R_KA", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:11561905-4f7a-4e74-84b0-9d3d00517f3f", "scope": "openid profile", "refresh_token": "xoI98LjlDadDqvKbsFw3UcvrU71k+FszbIuKbY/1M8QgkGT1LX3JWavJLvnsEy8/"}
2013-09-12 15:20:38,552 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 15:20:38,554 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'xoI98LjlDadDqvKbsFw3UTUR45yBGpD+1pBtdt//1k/wPIjg9fJKOyetyddZYzdV', 'request': 'openid', 'schema': 'openid'}
2013-09-12 15:20:38,555 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=xoI98LjlDadDqvKbsFw3UTUR45yBGpD%2B1pBtdt%2F%2F1k%2FwPIjg9fJKOyetyddZYzdV H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 15:20:38,559 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:20:38,591 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 15:20:38,594 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-12 15:20:38,595 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-12 15:20:38,595 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'xoI98LjlDadDqvKbsFw3UTUR45yBGpD+1pBtdt//1k/wPIjg9fJKOyetyddZYzdV', <oic.oic.Client object at 0x1050d6dd0>)
2013-09-12 15:21:00,302 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 15:21:00,332 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 15:21:00,335 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 15:21:00,336 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1050caa50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1035a0fd0>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1050caad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x1050cab10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1050caa50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1035a0fd0>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1050caad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x1050cab10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'919D3F697FDAAF138124B83E09ECB0B7': <oic.oic.Client object at 0x1050d6dd0>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x1050ca9d0>, 'PORT': 8666}
2013-09-12 15:21:00,337 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x1050d6ad0>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:d7b7f642-561a-4a16-aad5-4cfccdef5b34': <oic.oic.Grant object at 0x105043a90>, 'urn:uuid:11561905-4f7a-4e74-84b0-9d3d00517f3f': <oic.oic.Grant object at 0x105135590>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:03ae9a02-9b84-42b0-8324-de2214b1a590'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'c599547c73e9f128d70a8a9626f632e65af4ca452577f6208c690602'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x1050d6a90>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/919D3F697FDAAF138124B83E09ECB0B7']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x1050d9cd0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'3oK30oDxnMM3'), ('registration_expires', 1379074804), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x1050d6d90>), ('client_prefs', {}), ('registration_access_token', u'TEdFUpxoBeWpLl5U7j63LM2erQaBul0f'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 15:21:00,337 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:03ae9a02-9b84-42b0-8324-de2214b1a590', 'response_type': 'code'}
2013-09-12 15:21:00,338 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A03ae9a02-9b84-42b0-8324-de2214b1a590&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=3oK30oDxnMM3
2013-09-12 15:21:00,339 rp.openidconnect:DEBUG body: None
2013-09-12 15:21:00,340 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A03ae9a02-9b84-42b0-8324-de2214b1a590&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=3oK30oDxnMM3
2013-09-12 15:21:00,340 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 15:21:00,341 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A03ae9a02-9b84-42b0-8324-de2214b1a590&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=3oK30oDxnMM3')]
2013-09-12 15:21:00,388 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x1050caa10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A03ae9a02-9b84-42b0-8324-de2214b1a590&code=kmCzZ4mwHgOFqC%2FpNmH5YBdGHT%2BtsTo9TvWWuOo5NY4xK7x%2B0%2FAACdYnxp%2BCkdOJ', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56106', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x105043ad0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x1050d6dd0>, '_accessed_time': 1378992060.387374, 'service': u'https://localhost:8092/', '_creation_time': 1378992004.795482}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3A03ae9a02-9b84-42b0-8324-de2214b1a590&code=kmCzZ4mwHgOFqC%2FpNmH5YBdGHT%2BtsTo9TvWWuOo5NY4xK7x%2B0%2FAACdYnxp%2BCkdOJ', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1034f5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:21:00,388 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:03ae9a02-9b84-42b0-8324-de2214b1a590'], 'code': ['kmCzZ4mwHgOFqC/pNmH5YBdGHT+tsTo9TvWWuOo5NY4xK7x+0/AACdYnxp+CkdOJ']}
2013-09-12 15:21:00,388 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:03ae9a02-9b84-42b0-8324-de2214b1a590'], 'code': ['kmCzZ4mwHgOFqC/pNmH5YBdGHT+tsTo9TvWWuOo5NY4xK7x+0/AACdYnxp+CkdOJ']}
2013-09-12 15:21:00,389 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 15:21:00,390 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x1050caa10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A03ae9a02-9b84-42b0-8324-de2214b1a590&code=kmCzZ4mwHgOFqC%2FpNmH5YBdGHT%2BtsTo9TvWWuOo5NY4xK7x%2B0%2FAACdYnxp%2BCkdOJ', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56106', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x105043ad0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x1050d6dd0>, '_accessed_time': 1378992060.387374, 'service': u'https://localhost:8092/', '_creation_time': 1378992004.795482}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3A03ae9a02-9b84-42b0-8324-de2214b1a590&code=kmCzZ4mwHgOFqC%2FpNmH5YBdGHT%2BtsTo9TvWWuOo5NY4xK7x%2B0%2FAACdYnxp%2BCkdOJ', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1034f5270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:21:00,391 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x105050e18>]
2013-09-12 15:21:00,392 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=kmCzZ4mwHgOFqC%2FpNmH5YBdGHT%2BtsTo9TvWWuOo5NY4xK7x%2B0%2FAACdYnxp%2BCkdOJ&client_secret=c599547c73e9f128d70a8a9626f632e65af4ca452577f6208c690602&grant_type=authorization_code&client_id=3oK30oDxnMM3&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7
2013-09-12 15:21:00,392 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 15:21:00,397 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:21:00,442 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 15:21:00,444 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 13:21:00 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 15:21:00,444 oic.oauth2:DEBUG resp.txt: {"access_token": "kmCzZ4mwHgOFqC/pNmH5YArS2CAy6/2YlFmSAxodH7CrA1J4R/f7TzAHndPDLgNQ", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIjNvSzMwb0R4bk1NMyJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA3MTI2MCwgImlhdCI6IDEzNzg5OTIwNjAsICJzdWIiOiAiaGFobzAwMzIifQ.L63edCvwGKaPbSVdBfsed4BqCcvLUzS6qGC3YXOpsn4aEnhJtT2QQLjj7HMMffNmss4FiliMc5AKeuYFCEaJa9Hq1dW-_3Mu8zRJzpBetULox4N15EnaRUUwhb7S1gMUCCCLF3WKRzwBBOxN5YmdXmusI3G2xh3qgS4K4NUHPP_B6f5iQtGidozkLEOA4v5Nnu7wU0xGoA1JaTeuVyG_oZuI7SPGli9_6noSjR0Xs87Jj2PL1TtlzpepBRNY7aV3UppJxejktGDkYLEscDurLD6rKwsRzLQrDC02ZdApqSynxTvrEP2Xrv39FMz4M86i6gNFUhH7YBzBaNYmCwX78w", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:03ae9a02-9b84-42b0-8324-de2214b1a590", "scope": "openid profile", "refresh_token": "kmCzZ4mwHgOFqC/pNmH5YJ4zNggQpQnfG15tZ8LVJAkJsSve3P/qYJSIPjbbrtmj"}
2013-09-12 15:21:00,446 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 15:21:00,448 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'kmCzZ4mwHgOFqC/pNmH5YArS2CAy6/2YlFmSAxodH7CrA1J4R/f7TzAHndPDLgNQ', 'request': 'openid', 'schema': 'openid'}
2013-09-12 15:21:00,449 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=kmCzZ4mwHgOFqC%2FpNmH5YArS2CAy6%2F2YlFmSAxodH7CrA1J4R%2Ff7TzAHndPDLgNQ H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 15:21:00,453 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:21:00,486 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 15:21:00,489 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-12 15:21:00,490 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-12 15:21:00,491 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'kmCzZ4mwHgOFqC/pNmH5YArS2CAy6/2YlFmSAxodH7CrA1J4R/f7TzAHndPDLgNQ', <oic.oic.Client object at 0x1050d6dd0>)
2013-09-12 15:22:41,754 root:INFO RP server starting listening on port:8666
2013-09-12 15:22:44,637 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 15:22:44,669 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 15:22:44,674 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 15:22:44,675 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10237ea50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10238ac90>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10237ead0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10237eb10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10237ea50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10238ac90>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10237ead0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10237eb10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10237e9d0>, 'PORT': 8666}
2013-09-12 15:22:44,681 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:22:44,713 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-12 15:22:44,736 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-12 15:22:44,739 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 15:22:44,741 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 15:22:44,741 rp.openidconnect:DEBUG Registering RP
2013-09-12 15:22:44,747 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:22:44,783 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-12 15:22:44,786 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378988564&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DViZMLCkOzTjg&registration_access_token=Br8t2Q6XdwbPChOH4zr4QfVnBhCPj7NV&client_id=ViZMLCkOzTjg&client_secret=23b35f719b07b30425793888a5d360de978d792553c5a854e6f0e3d2&client_secret_expires_at=1379074964
2013-09-12 15:22:44,787 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10238aad0>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:32359b2d-dc36-42ca-a7c6-8c218cac289c'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'23b35f719b07b30425793888a5d360de978d792553c5a854e6f0e3d2'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10238aa90>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/919D3F697FDAAF138124B83E09ECB0B7']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10238db10>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'ViZMLCkOzTjg'), ('registration_expires', 1379074964), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10238ad90>), ('client_prefs', {}), ('registration_access_token', u'Br8t2Q6XdwbPChOH4zr4QfVnBhCPj7NV'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 15:22:44,787 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:32359b2d-dc36-42ca-a7c6-8c218cac289c', 'response_type': 'code'}
2013-09-12 15:22:44,788 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A32359b2d-dc36-42ca-a7c6-8c218cac289c&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=ViZMLCkOzTjg
2013-09-12 15:22:44,789 rp.openidconnect:DEBUG body: None
2013-09-12 15:22:44,790 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A32359b2d-dc36-42ca-a7c6-8c218cac289c&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=ViZMLCkOzTjg
2013-09-12 15:22:44,790 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 15:22:44,791 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A32359b2d-dc36-42ca-a7c6-8c218cac289c&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=ViZMLCkOzTjg')]
2013-09-12 15:22:44,837 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10237ea10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A32359b2d-dc36-42ca-a7c6-8c218cac289c&code=b5ALIuy8ME80nYAx2Eg5R238J%2B5f4YdRn6sOsn3jrVwAY85smoDF1aIOdK8h73EK', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56121', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10238a5d0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10238add0>, '_accessed_time': 1378992164.836997, 'service': u'https://localhost:8092/', '_creation_time': 1378992164.614711}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3A32359b2d-dc36-42ca-a7c6-8c218cac289c&code=b5ALIuy8ME80nYAx2Eg5R238J%2B5f4YdRn6sOsn3jrVwAY85smoDF1aIOdK8h73EK', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1007a7270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:22:44,838 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:32359b2d-dc36-42ca-a7c6-8c218cac289c'], 'code': ['b5ALIuy8ME80nYAx2Eg5R238J+5f4YdRn6sOsn3jrVwAY85smoDF1aIOdK8h73EK']}
2013-09-12 15:22:44,838 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:32359b2d-dc36-42ca-a7c6-8c218cac289c'], 'code': ['b5ALIuy8ME80nYAx2Eg5R238J+5f4YdRn6sOsn3jrVwAY85smoDF1aIOdK8h73EK']}
2013-09-12 15:22:44,842 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:22:44,869 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-12 15:22:44,874 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 15:22:44,875 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10237ea10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A32359b2d-dc36-42ca-a7c6-8c218cac289c&code=b5ALIuy8ME80nYAx2Eg5R238J%2B5f4YdRn6sOsn3jrVwAY85smoDF1aIOdK8h73EK', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56121', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10238a5d0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10238add0>, '_accessed_time': 1378992164.836997, 'service': u'https://localhost:8092/', '_creation_time': 1378992164.614711}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3A32359b2d-dc36-42ca-a7c6-8c218cac289c&code=b5ALIuy8ME80nYAx2Eg5R238J%2B5f4YdRn6sOsn3jrVwAY85smoDF1aIOdK8h73EK', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1007a7270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:22:44,875 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x102304ea8>]
2013-09-12 15:22:44,876 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=b5ALIuy8ME80nYAx2Eg5R238J%2B5f4YdRn6sOsn3jrVwAY85smoDF1aIOdK8h73EK&client_secret=23b35f719b07b30425793888a5d360de978d792553c5a854e6f0e3d2&grant_type=authorization_code&client_id=ViZMLCkOzTjg&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7
2013-09-12 15:22:44,877 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 15:22:44,882 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:22:44,926 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 15:22:44,928 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 13:22:44 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 15:22:44,928 oic.oauth2:DEBUG resp.txt: {"access_token": "b5ALIuy8ME80nYAx2Eg5RxBaetseNRDXUI+tH1MucMiDXzLJwO9ad3ED62gXgxw1", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIlZpWk1MQ2tPelRqZyJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA3MTM2NCwgImlhdCI6IDEzNzg5OTIxNjQsICJzdWIiOiAiaGFobzAwMzIifQ.YEKhRkwXQEweZrG9WuWQgX1HFs220GW9uSOtZthCvbQV7KkgHyvveMroq71IWJ6q96q69D2Paaymyi0XTspxJOhuLI1pLHm6GHWRtegk3gulbPnEy4k5zp45U17zJXGL5yMf8CtlnP9A6uJZL6MAWSVwJwgDjl97UWM7wY1YTDyyLO0Pgd2_2WOnr0ZEQZJeRGWORV9X7eUUE_XeUXJhQJDkeqJeBv0PfGmrYRx3-VkCj5fb7J0O7SUvOsKGD7duHVKy2I9WBfbm9GduO6vb3_OC7Naj5WcgZkYmSmkLUoMavb5IM0s5JDjhWlNwP06U_D76I7-SOfnHBUNzyXEcpg", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:32359b2d-dc36-42ca-a7c6-8c218cac289c", "scope": "openid profile", "refresh_token": "b5ALIuy8ME80nYAx2Eg5Rw+0vR2S4qIdFEPBPiCw3BmkZ7Oe0JLRLZcWROLOtt7k"}
2013-09-12 15:22:44,930 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 15:22:44,932 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'b5ALIuy8ME80nYAx2Eg5RxBaetseNRDXUI+tH1MucMiDXzLJwO9ad3ED62gXgxw1', 'request': 'openid', 'schema': 'openid'}
2013-09-12 15:22:44,933 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=b5ALIuy8ME80nYAx2Eg5RxBaetseNRDXUI%2BtH1MucMiDXzLJwO9ad3ED62gXgxw1 H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 15:22:44,938 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:22:44,970 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 15:22:44,972 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-12 15:22:44,974 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-12 15:22:44,974 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'b5ALIuy8ME80nYAx2Eg5RxBaetseNRDXUI+tH1MucMiDXzLJwO9ad3ED62gXgxw1', <oic.oic.Client object at 0x10238add0>)
2013-09-12 15:22:45,134 root:INFO [static]sending: static/style.css
2013-09-12 15:22:45,135 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 15:22:45,136 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 15:22:45,139 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 15:24:10,866 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 15:24:10,895 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 15:24:10,898 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 15:24:10,899 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10237ea50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x100853fd0>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10237ead0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10237eb10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10237ea50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x100853fd0>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10237ead0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10237eb10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'919D3F697FDAAF138124B83E09ECB0B7': <oic.oic.Client object at 0x10238add0>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10237e9d0>, 'PORT': 8666}
2013-09-12 15:24:10,900 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10238aad0>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:32359b2d-dc36-42ca-a7c6-8c218cac289c': <oic.oic.Grant object at 0x1022dc510>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:202fa4b3-53f6-4e09-a437-37cbb7df52cf'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'23b35f719b07b30425793888a5d360de978d792553c5a854e6f0e3d2'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10238aa90>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/919D3F697FDAAF138124B83E09ECB0B7']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10238db10>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'ViZMLCkOzTjg'), ('registration_expires', 1379074964), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10238ad90>), ('client_prefs', {}), ('registration_access_token', u'Br8t2Q6XdwbPChOH4zr4QfVnBhCPj7NV'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 15:24:10,900 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:202fa4b3-53f6-4e09-a437-37cbb7df52cf', 'response_type': 'code'}
2013-09-12 15:24:10,901 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A202fa4b3-53f6-4e09-a437-37cbb7df52cf&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=ViZMLCkOzTjg
2013-09-12 15:24:10,902 rp.openidconnect:DEBUG body: None
2013-09-12 15:24:10,903 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A202fa4b3-53f6-4e09-a437-37cbb7df52cf&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=ViZMLCkOzTjg
2013-09-12 15:24:10,903 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 15:24:10,904 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A202fa4b3-53f6-4e09-a437-37cbb7df52cf&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=ViZMLCkOzTjg')]
2013-09-12 15:24:10,972 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10237ea10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A202fa4b3-53f6-4e09-a437-37cbb7df52cf&code=CIA4WBMqmun46ufrp8zrsk9hUIP1XNQkDbNRybRnZF7D6tfrjPiZBo7kUECxMDf6', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56140', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x102311a90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10238add0>, '_accessed_time': 1378992250.971619, 'service': u'https://localhost:8092/', '_creation_time': 1378992164.614711}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3A202fa4b3-53f6-4e09-a437-37cbb7df52cf&code=CIA4WBMqmun46ufrp8zrsk9hUIP1XNQkDbNRybRnZF7D6tfrjPiZBo7kUECxMDf6', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1007a7270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:24:10,972 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:202fa4b3-53f6-4e09-a437-37cbb7df52cf'], 'code': ['CIA4WBMqmun46ufrp8zrsk9hUIP1XNQkDbNRybRnZF7D6tfrjPiZBo7kUECxMDf6']}
2013-09-12 15:24:10,973 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:202fa4b3-53f6-4e09-a437-37cbb7df52cf'], 'code': ['CIA4WBMqmun46ufrp8zrsk9hUIP1XNQkDbNRybRnZF7D6tfrjPiZBo7kUECxMDf6']}
2013-09-12 15:24:10,973 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 15:24:10,974 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10237ea10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A202fa4b3-53f6-4e09-a437-37cbb7df52cf&code=CIA4WBMqmun46ufrp8zrsk9hUIP1XNQkDbNRybRnZF7D6tfrjPiZBo7kUECxMDf6', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56140', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x102311a90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10238add0>, '_accessed_time': 1378992250.971619, 'service': u'https://localhost:8092/', '_creation_time': 1378992164.614711}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3A202fa4b3-53f6-4e09-a437-37cbb7df52cf&code=CIA4WBMqmun46ufrp8zrsk9hUIP1XNQkDbNRybRnZF7D6tfrjPiZBo7kUECxMDf6', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1007a7270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:24:10,975 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x102304ea8>]
2013-09-12 15:24:10,976 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=CIA4WBMqmun46ufrp8zrsk9hUIP1XNQkDbNRybRnZF7D6tfrjPiZBo7kUECxMDf6&client_secret=23b35f719b07b30425793888a5d360de978d792553c5a854e6f0e3d2&grant_type=authorization_code&client_id=ViZMLCkOzTjg&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7
2013-09-12 15:24:10,976 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 15:24:10,981 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:24:11,030 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 15:24:11,032 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 13:24:11 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 15:24:11,033 oic.oauth2:DEBUG resp.txt: {"access_token": "CIA4WBMqmun46ufrp8zrsmsYW7yHutdnCNNcFrd0z4dwZkXF1WHimTPl8MgNjryU", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIlZpWk1MQ2tPelRqZyJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA3MTQ1MSwgImlhdCI6IDEzNzg5OTIyNTEsICJzdWIiOiAiaGFobzAwMzIifQ.jfON5Sf5gMntDdlkZ_-h2mS1miYzW9VqAiINAiOxWym_0UTid2Wpo-XeU0WtdyjKdAOFGRPCV5c_6dtSpN-RGnDObCWn0BYEVsPyL_I_P2NoPgBmJJHnYCVgUB0RW50kHX9oFR6A_TeLg4uq6zM0u8aE36owNp3pD0lDEiqqMYQYx_eUS5mLGD9BvDDku9tTUoYGTXljgspzNJcMU-CqotBI3Tks5JuWKO6A_QjEQnFE0nsyDk34q6bHDE4SrHxUjDRoFywu4AnsZVqdRlTfT373DDrqo3_sGSKcJu_HkwJU13MxpH3oZ8wABf4VXLaiVpnebJt61yZfwlggz2jFcw", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:202fa4b3-53f6-4e09-a437-37cbb7df52cf", "scope": "openid profile", "refresh_token": "CIA4WBMqmun46ufrp8zrsjt2uW9zOghNEfPea4J0AZfFF06slObC1nL8K0Qk7R2B"}
2013-09-12 15:24:11,035 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 15:24:11,037 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'CIA4WBMqmun46ufrp8zrsmsYW7yHutdnCNNcFrd0z4dwZkXF1WHimTPl8MgNjryU', 'request': 'openid', 'schema': 'openid'}
2013-09-12 15:24:11,037 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=CIA4WBMqmun46ufrp8zrsmsYW7yHutdnCNNcFrd0z4dwZkXF1WHimTPl8MgNjryU H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 15:24:11,042 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:24:11,077 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 15:24:11,079 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-12 15:24:11,081 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-12 15:24:11,081 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'CIA4WBMqmun46ufrp8zrsmsYW7yHutdnCNNcFrd0z4dwZkXF1WHimTPl8MgNjryU', <oic.oic.Client object at 0x10238add0>)
2013-09-12 15:24:22,723 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 15:24:22,752 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 15:24:22,755 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 15:24:22,755 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10237ea50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x102311a50>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10237ead0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10237eb10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10237ea50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x102311a50>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10237ead0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10237eb10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'919D3F697FDAAF138124B83E09ECB0B7': <oic.oic.Client object at 0x10238add0>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10237e9d0>, 'PORT': 8666}
2013-09-12 15:24:22,756 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10238aad0>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:202fa4b3-53f6-4e09-a437-37cbb7df52cf': <oic.oic.Grant object at 0x102311950>, 'urn:uuid:32359b2d-dc36-42ca-a7c6-8c218cac289c': <oic.oic.Grant object at 0x1022dc510>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:02267e1e-a6b7-4ac5-aabc-e639b46771bd'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'23b35f719b07b30425793888a5d360de978d792553c5a854e6f0e3d2'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10238aa90>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/919D3F697FDAAF138124B83E09ECB0B7']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10238db10>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'ViZMLCkOzTjg'), ('registration_expires', 1379074964), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10238ad90>), ('client_prefs', {}), ('registration_access_token', u'Br8t2Q6XdwbPChOH4zr4QfVnBhCPj7NV'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 15:24:22,757 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:02267e1e-a6b7-4ac5-aabc-e639b46771bd', 'response_type': 'code'}
2013-09-12 15:24:22,758 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A02267e1e-a6b7-4ac5-aabc-e639b46771bd&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=ViZMLCkOzTjg
2013-09-12 15:24:22,759 rp.openidconnect:DEBUG body: None
2013-09-12 15:24:22,759 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A02267e1e-a6b7-4ac5-aabc-e639b46771bd&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=ViZMLCkOzTjg
2013-09-12 15:24:22,759 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 15:24:22,760 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A02267e1e-a6b7-4ac5-aabc-e639b46771bd&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=ViZMLCkOzTjg')]
2013-09-12 15:24:22,805 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10237ea10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A02267e1e-a6b7-4ac5-aabc-e639b46771bd&code=FsOMxCKs%2F8VGQnVmSJBhtK%2BMFk7ToLBQ7OeNLw7f58ooT1HVsCzmud5KnCKqlSXY', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56154', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1023ecd50>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10238add0>, '_accessed_time': 1378992262.805097, 'service': u'https://localhost:8092/', '_creation_time': 1378992164.614711}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3A02267e1e-a6b7-4ac5-aabc-e639b46771bd&code=FsOMxCKs%2F8VGQnVmSJBhtK%2BMFk7ToLBQ7OeNLw7f58ooT1HVsCzmud5KnCKqlSXY', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1007a7270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:24:22,806 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:02267e1e-a6b7-4ac5-aabc-e639b46771bd'], 'code': ['FsOMxCKs/8VGQnVmSJBhtK+MFk7ToLBQ7OeNLw7f58ooT1HVsCzmud5KnCKqlSXY']}
2013-09-12 15:24:22,806 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:02267e1e-a6b7-4ac5-aabc-e639b46771bd'], 'code': ['FsOMxCKs/8VGQnVmSJBhtK+MFk7ToLBQ7OeNLw7f58ooT1HVsCzmud5KnCKqlSXY']}
2013-09-12 15:24:22,807 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 15:24:22,808 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10237ea10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A02267e1e-a6b7-4ac5-aabc-e639b46771bd&code=FsOMxCKs%2F8VGQnVmSJBhtK%2BMFk7ToLBQ7OeNLw7f58ooT1HVsCzmud5KnCKqlSXY', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56154', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1023ecd50>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10238add0>, '_accessed_time': 1378992262.805097, 'service': u'https://localhost:8092/', '_creation_time': 1378992164.614711}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3A02267e1e-a6b7-4ac5-aabc-e639b46771bd&code=FsOMxCKs%2F8VGQnVmSJBhtK%2BMFk7ToLBQ7OeNLw7f58ooT1HVsCzmud5KnCKqlSXY', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1007a7270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:24:22,808 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x102304ea8>]
2013-09-12 15:24:22,810 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=FsOMxCKs%2F8VGQnVmSJBhtK%2BMFk7ToLBQ7OeNLw7f58ooT1HVsCzmud5KnCKqlSXY&client_secret=23b35f719b07b30425793888a5d360de978d792553c5a854e6f0e3d2&grant_type=authorization_code&client_id=ViZMLCkOzTjg&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7
2013-09-12 15:24:22,810 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 15:24:22,815 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:24:22,860 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 15:24:22,862 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 13:24:22 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 15:24:22,863 oic.oauth2:DEBUG resp.txt: {"access_token": "FsOMxCKs/8VGQnVmSJBhtPjuEhtiocqquAgv9xv93Y2JDdTOeRXp97Pvkjn7wpF6", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIlZpWk1MQ2tPelRqZyJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA3MTQ2MiwgImlhdCI6IDEzNzg5OTIyNjIsICJzdWIiOiAiaGFobzAwMzIifQ.qZ5-jdyA90i4hS0QGQf8YLIn6_Lf046dQH72CExEfnfqDusd-GFUXvHkXBFViMpNgaIwV0j-0o_Z_JTBASry9FY7K05DPFnie9oHRZO8MZJzu8ctr5cVnN0ffVSeNCxDoyAL7YydVlLGEabJ77My8mMdbsIw9R-OYi52AHIx9FrcOQNNC9wupRYHGqpwjFaOa2ALqinx_UkFcieyZMIG1b-P1PsBLIuPg7FZ4zciP8tWrGubhuMK0pRKWgCFtGd492pSYCUbsc-MHqaeyIfK6uGQPCZzquio_VsdRNPUOqocUKEtLnqyejsU56d9SBahcD3wG-J45oc8uFpNChQwKg", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:02267e1e-a6b7-4ac5-aabc-e639b46771bd", "scope": "openid profile", "refresh_token": "FsOMxCKs/8VGQnVmSJBhtL9Ed3cR06SgF0KZXXOmA/ZxCiJa3jPo5VSU0fOMAt7z"}
2013-09-12 15:24:22,864 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 15:24:22,867 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'FsOMxCKs/8VGQnVmSJBhtPjuEhtiocqquAgv9xv93Y2JDdTOeRXp97Pvkjn7wpF6', 'request': 'openid', 'schema': 'openid'}
2013-09-12 15:24:22,868 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=FsOMxCKs%2F8VGQnVmSJBhtPjuEhtiocqquAgv9xv93Y2JDdTOeRXp97Pvkjn7wpF6 H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 15:24:22,872 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:24:22,906 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 15:24:22,908 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-12 15:24:22,910 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-12 15:24:22,910 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'FsOMxCKs/8VGQnVmSJBhtPjuEhtiocqquAgv9xv93Y2JDdTOeRXp97Pvkjn7wpF6', <oic.oic.Client object at 0x10238add0>)
2013-09-12 15:24:26,333 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 15:24:26,363 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 15:24:26,365 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 15:24:26,366 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10237ea50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x102311a50>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10237ead0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10237eb10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10237ea50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x102311a50>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10237ead0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10237eb10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'919D3F697FDAAF138124B83E09ECB0B7': <oic.oic.Client object at 0x10238add0>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10237e9d0>, 'PORT': 8666}
2013-09-12 15:24:26,367 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10238aad0>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:202fa4b3-53f6-4e09-a437-37cbb7df52cf': <oic.oic.Grant object at 0x102311950>, 'urn:uuid:32359b2d-dc36-42ca-a7c6-8c218cac289c': <oic.oic.Grant object at 0x1022dc510>, 'urn:uuid:02267e1e-a6b7-4ac5-aabc-e639b46771bd': <oic.oic.Grant object at 0x1023ecc10>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:209accff-34f6-4310-bb3b-ab94b9e9512c'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'23b35f719b07b30425793888a5d360de978d792553c5a854e6f0e3d2'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10238aa90>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/919D3F697FDAAF138124B83E09ECB0B7']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10238db10>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'ViZMLCkOzTjg'), ('registration_expires', 1379074964), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10238ad90>), ('client_prefs', {}), ('registration_access_token', u'Br8t2Q6XdwbPChOH4zr4QfVnBhCPj7NV'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 15:24:26,368 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:209accff-34f6-4310-bb3b-ab94b9e9512c', 'response_type': 'code'}
2013-09-12 15:24:26,369 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A209accff-34f6-4310-bb3b-ab94b9e9512c&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=ViZMLCkOzTjg
2013-09-12 15:24:26,370 rp.openidconnect:DEBUG body: None
2013-09-12 15:24:26,370 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A209accff-34f6-4310-bb3b-ab94b9e9512c&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=ViZMLCkOzTjg
2013-09-12 15:24:26,370 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 15:24:26,371 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A209accff-34f6-4310-bb3b-ab94b9e9512c&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=ViZMLCkOzTjg')]
2013-09-12 15:24:26,395 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10237ea10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A209accff-34f6-4310-bb3b-ab94b9e9512c&code=988Y57jmjiNR4QFQakf7dWTPryLZ%2Fi2mDfB3ltVMd9PyD44pwlbd8w42moGVh%2BFu', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56160', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1023006d0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10238add0>, '_accessed_time': 1378992266.395335, 'service': u'https://localhost:8092/', '_creation_time': 1378992164.614711}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3A209accff-34f6-4310-bb3b-ab94b9e9512c&code=988Y57jmjiNR4QFQakf7dWTPryLZ%2Fi2mDfB3ltVMd9PyD44pwlbd8w42moGVh%2BFu', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1007a7270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:24:26,396 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:209accff-34f6-4310-bb3b-ab94b9e9512c'], 'code': ['988Y57jmjiNR4QFQakf7dWTPryLZ/i2mDfB3ltVMd9PyD44pwlbd8w42moGVh+Fu']}
2013-09-12 15:24:26,396 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:209accff-34f6-4310-bb3b-ab94b9e9512c'], 'code': ['988Y57jmjiNR4QFQakf7dWTPryLZ/i2mDfB3ltVMd9PyD44pwlbd8w42moGVh+Fu']}
2013-09-12 15:24:26,397 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 15:24:26,398 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10237ea10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A209accff-34f6-4310-bb3b-ab94b9e9512c&code=988Y57jmjiNR4QFQakf7dWTPryLZ%2Fi2mDfB3ltVMd9PyD44pwlbd8w42moGVh%2BFu', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56160', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1023006d0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10238add0>, '_accessed_time': 1378992266.395335, 'service': u'https://localhost:8092/', '_creation_time': 1378992164.614711}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3A209accff-34f6-4310-bb3b-ab94b9e9512c&code=988Y57jmjiNR4QFQakf7dWTPryLZ%2Fi2mDfB3ltVMd9PyD44pwlbd8w42moGVh%2BFu', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1007a7270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:24:26,399 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x102304ea8>]
2013-09-12 15:24:26,400 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=988Y57jmjiNR4QFQakf7dWTPryLZ%2Fi2mDfB3ltVMd9PyD44pwlbd8w42moGVh%2BFu&client_secret=23b35f719b07b30425793888a5d360de978d792553c5a854e6f0e3d2&grant_type=authorization_code&client_id=ViZMLCkOzTjg&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7
2013-09-12 15:24:26,400 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 15:24:26,405 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:24:26,449 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 15:24:26,452 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 13:24:26 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 15:24:26,452 oic.oauth2:DEBUG resp.txt: {"access_token": "988Y57jmjiNR4QFQakf7dZJMKQkwnMv93vv3no2i20qhjzb3Hel3jxmSFNRIpNJ/", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIlZpWk1MQ2tPelRqZyJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA3MTQ2NiwgImlhdCI6IDEzNzg5OTIyNjYsICJzdWIiOiAiaGFobzAwMzIifQ.qR0m12vWx2KJLmII_lgYKChsD8FhPWyBtlvwtrD4KOm7DjOy0jcAjEEGkoR2XVEN6D1tVifsB_tnN4ewTqCCN75_8T6KVjJuo0m3gtxmicOCC5uxaBuoCYdIJW3Ewolmp0OwOdMlLciQ3fPUjfmnvPwc49YYpUDZQXzpg2KuoegL-DHFtyDDfWFpuXvNxxoQlWwRWMdRhxk9GT3FF2iwq_zrmSREFXMwEoxSoo7-XGN_zgSzZKK_ln2hcflFT66t22pmExvtT5-bAJmB3dQa-JdXgVmt64iIM1MpFznz8ffiXYONGmNaApEAfMseodNIA-vGyaHMk0Fbg5lxZ-m5SA", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:209accff-34f6-4310-bb3b-ab94b9e9512c", "scope": "openid profile", "refresh_token": "988Y57jmjiNR4QFQakf7dXz0YBEw3bk54cv+Z8ihjQc2Yh0C/dtg0A2mClgHctwD"}
2013-09-12 15:24:26,453 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 15:24:26,456 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'988Y57jmjiNR4QFQakf7dZJMKQkwnMv93vv3no2i20qhjzb3Hel3jxmSFNRIpNJ/', 'request': 'openid', 'schema': 'openid'}
2013-09-12 15:24:26,456 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=988Y57jmjiNR4QFQakf7dZJMKQkwnMv93vv3no2i20qhjzb3Hel3jxmSFNRIpNJ%2F H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 15:24:26,461 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:24:26,493 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 15:24:26,495 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-12 15:24:26,497 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-12 15:24:26,497 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'988Y57jmjiNR4QFQakf7dZJMKQkwnMv93vv3no2i20qhjzb3Hel3jxmSFNRIpNJ/', <oic.oic.Client object at 0x10238add0>)
2013-09-12 15:24:35,620 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 15:24:35,650 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 15:24:35,652 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 15:24:35,653 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10237ea50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x102311a50>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10237ead0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10237eb10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10237ea50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x102311a50>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10237ead0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10237eb10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'919D3F697FDAAF138124B83E09ECB0B7': <oic.oic.Client object at 0x10238add0>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10237e9d0>, 'PORT': 8666}
2013-09-12 15:24:35,654 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10238aad0>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:202fa4b3-53f6-4e09-a437-37cbb7df52cf': <oic.oic.Grant object at 0x102311950>, 'urn:uuid:32359b2d-dc36-42ca-a7c6-8c218cac289c': <oic.oic.Grant object at 0x1022dc510>, 'urn:uuid:209accff-34f6-4310-bb3b-ab94b9e9512c': <oic.oic.Grant object at 0x102300710>, 'urn:uuid:02267e1e-a6b7-4ac5-aabc-e639b46771bd': <oic.oic.Grant object at 0x1023ecc10>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:a9a9e0fd-04ab-46c7-969f-ac93f3e9a621'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'23b35f719b07b30425793888a5d360de978d792553c5a854e6f0e3d2'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10238aa90>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/919D3F697FDAAF138124B83E09ECB0B7']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10238db10>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'ViZMLCkOzTjg'), ('registration_expires', 1379074964), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10238ad90>), ('client_prefs', {}), ('registration_access_token', u'Br8t2Q6XdwbPChOH4zr4QfVnBhCPj7NV'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 15:24:35,654 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:a9a9e0fd-04ab-46c7-969f-ac93f3e9a621', 'response_type': 'code'}
2013-09-12 15:24:35,656 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Aa9a9e0fd-04ab-46c7-969f-ac93f3e9a621&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=ViZMLCkOzTjg
2013-09-12 15:24:35,656 rp.openidconnect:DEBUG body: None
2013-09-12 15:24:35,657 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Aa9a9e0fd-04ab-46c7-969f-ac93f3e9a621&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=ViZMLCkOzTjg
2013-09-12 15:24:35,657 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 15:24:35,658 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Aa9a9e0fd-04ab-46c7-969f-ac93f3e9a621&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=ViZMLCkOzTjg')]
2013-09-12 15:24:35,682 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10237ea10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Aa9a9e0fd-04ab-46c7-969f-ac93f3e9a621&code=SYwu17Bmu6iOgZco8nrExyZBX8cg%2FPq%2Bj3H3HfsiEljL%2FNZ2hzdI6p1A1AeRbhGN', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56165', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1023002d0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10238add0>, '_accessed_time': 1378992275.68199, 'service': u'https://localhost:8092/', '_creation_time': 1378992164.614711}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3Aa9a9e0fd-04ab-46c7-969f-ac93f3e9a621&code=SYwu17Bmu6iOgZco8nrExyZBX8cg%2FPq%2Bj3H3HfsiEljL%2FNZ2hzdI6p1A1AeRbhGN', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1007a7270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:24:35,683 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:a9a9e0fd-04ab-46c7-969f-ac93f3e9a621'], 'code': ['SYwu17Bmu6iOgZco8nrExyZBX8cg/Pq+j3H3HfsiEljL/NZ2hzdI6p1A1AeRbhGN']}
2013-09-12 15:24:35,683 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:a9a9e0fd-04ab-46c7-969f-ac93f3e9a621'], 'code': ['SYwu17Bmu6iOgZco8nrExyZBX8cg/Pq+j3H3HfsiEljL/NZ2hzdI6p1A1AeRbhGN']}
2013-09-12 15:24:35,684 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 15:24:35,685 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10237ea10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Aa9a9e0fd-04ab-46c7-969f-ac93f3e9a621&code=SYwu17Bmu6iOgZco8nrExyZBX8cg%2FPq%2Bj3H3HfsiEljL%2FNZ2hzdI6p1A1AeRbhGN', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56165', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1023002d0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10238add0>, '_accessed_time': 1378992275.68199, 'service': u'https://localhost:8092/', '_creation_time': 1378992164.614711}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3Aa9a9e0fd-04ab-46c7-969f-ac93f3e9a621&code=SYwu17Bmu6iOgZco8nrExyZBX8cg%2FPq%2Bj3H3HfsiEljL%2FNZ2hzdI6p1A1AeRbhGN', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1007a7270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:24:35,685 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x102304ea8>]
2013-09-12 15:24:35,686 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=SYwu17Bmu6iOgZco8nrExyZBX8cg%2FPq%2Bj3H3HfsiEljL%2FNZ2hzdI6p1A1AeRbhGN&client_secret=23b35f719b07b30425793888a5d360de978d792553c5a854e6f0e3d2&grant_type=authorization_code&client_id=ViZMLCkOzTjg&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7
2013-09-12 15:24:35,687 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 15:24:35,692 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:24:35,736 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 15:24:35,738 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 13:24:35 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 15:24:35,738 oic.oauth2:DEBUG resp.txt: {"access_token": "SYwu17Bmu6iOgZco8nrEx0sWn9BE+FfFL6XHun/gp1tqtcnhwV/uUZHTvgw6Vh44", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIlZpWk1MQ2tPelRqZyJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA3MTQ3NSwgImlhdCI6IDEzNzg5OTIyNzUsICJzdWIiOiAiaGFobzAwMzIifQ.fs2zGC_yxsr7AOFzUhYI3fhwMj9h5H10OS1xgqHgPoz_jWkyONgzPbIXJvJoMe4IABzag5ZpyABmjlq9e8iZLPV2e5tENTRyywPV-IKrTI3ohWZ0cZE34u8ywZRsvXHUWojR8267oMUpRh2SrFejMEDNBiH1uPaMVsjlMh_rthfYCFQ_k7iwuhS4h08PAl6j3Amm5uEHZrljXSD41Z8V0qSspWHJVuTSZMZPc5oMFHM_6Ogo5xVivNuNoh-UOBttqeA2V2JKSXgnX5G_ZDmoVJCcS9nLFiYoYWkET5FO7ya4yaqUAtmZcG1Y5x-ELKe2CY97ZYuJvzYUq5tLCQXQgw", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:a9a9e0fd-04ab-46c7-969f-ac93f3e9a621", "scope": "openid profile", "refresh_token": "SYwu17Bmu6iOgZco8nrEx61LKgP/bFzB30PrHAkfMruVvzh9fQwdBgJ5TbeNjLLB"}
2013-09-12 15:24:35,740 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 15:24:35,742 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'SYwu17Bmu6iOgZco8nrEx0sWn9BE+FfFL6XHun/gp1tqtcnhwV/uUZHTvgw6Vh44', 'request': 'openid', 'schema': 'openid'}
2013-09-12 15:24:35,743 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=SYwu17Bmu6iOgZco8nrEx0sWn9BE%2BFfFL6XHun%2Fgp1tqtcnhwV%2FuUZHTvgw6Vh44 H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 15:24:35,747 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:24:35,780 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 15:24:35,782 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-12 15:24:35,784 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-12 15:24:35,784 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'SYwu17Bmu6iOgZco8nrEx0sWn9BE+FfFL6XHun/gp1tqtcnhwV/uUZHTvgw6Vh44', <oic.oic.Client object at 0x10238add0>)
2013-09-12 15:26:28,358 root:INFO RP server starting listening on port:8666
2013-09-12 15:26:34,082 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 15:26:34,111 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 15:26:34,114 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 15:26:34,115 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b4b7a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b4c64d0>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b4b7ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10b4b7b10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b4b7a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b4c64d0>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b4b7ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10b4b7b10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10b4b79d0>, 'PORT': 8666}
2013-09-12 15:26:34,119 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:26:34,152 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-12 15:26:34,174 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-12 15:26:34,177 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 15:26:34,180 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 15:26:34,180 rp.openidconnect:DEBUG Registering RP
2013-09-12 15:26:34,187 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:26:34,224 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-12 15:26:34,227 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378988794&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DeMQ8j15EBsWa&registration_access_token=UzlNkutWdcOzSbvQH96BpuOUeghMM4sv&client_id=eMQ8j15EBsWa&client_secret=17d2a32a4766b617b0ecad2cfac5a6d8e991b948a13e4b259550cc3f&client_secret_expires_at=1379075194
2013-09-12 15:26:34,229 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10b4c6310>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:d9e9e78e-3502-4d8c-814e-d377053e685f'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'17d2a32a4766b617b0ecad2cfac5a6d8e991b948a13e4b259550cc3f'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10b4c62d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/919D3F697FDAAF138124B83E09ECB0B7']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10b414510>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'eMQ8j15EBsWa'), ('registration_expires', 1379075194), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10b4c65d0>), ('client_prefs', {}), ('registration_access_token', u'UzlNkutWdcOzSbvQH96BpuOUeghMM4sv'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 15:26:34,229 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:d9e9e78e-3502-4d8c-814e-d377053e685f', 'response_type': 'code'}
2013-09-12 15:26:34,230 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Ad9e9e78e-3502-4d8c-814e-d377053e685f&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=eMQ8j15EBsWa
2013-09-12 15:26:34,231 rp.openidconnect:DEBUG body: None
2013-09-12 15:26:34,231 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ad9e9e78e-3502-4d8c-814e-d377053e685f&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=eMQ8j15EBsWa
2013-09-12 15:26:34,232 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 15:26:34,232 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ad9e9e78e-3502-4d8c-814e-d377053e685f&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=eMQ8j15EBsWa')]
2013-09-12 15:26:34,291 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10b4b7a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ad9e9e78e-3502-4d8c-814e-d377053e685f&code=3E3mKfORKpor90Ri4Lf5k6QxgW%2F9X1dPYFbzIJ76SnRhDQ5TdZfcJKtpCRfePHFw', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56227', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10b4c3fd0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10b4c6610>, '_accessed_time': 1378992394.290691, 'service': u'https://localhost:8092/', '_creation_time': 1378992394.059827}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3Ad9e9e78e-3502-4d8c-814e-d377053e685f&code=3E3mKfORKpor90Ri4Lf5k6QxgW%2F9X1dPYFbzIJ76SnRhDQ5TdZfcJKtpCRfePHFw', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1098e3270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:26:34,291 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:d9e9e78e-3502-4d8c-814e-d377053e685f'], 'code': ['3E3mKfORKpor90Ri4Lf5k6QxgW/9X1dPYFbzIJ76SnRhDQ5TdZfcJKtpCRfePHFw']}
2013-09-12 15:26:34,292 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:d9e9e78e-3502-4d8c-814e-d377053e685f'], 'code': ['3E3mKfORKpor90Ri4Lf5k6QxgW/9X1dPYFbzIJ76SnRhDQ5TdZfcJKtpCRfePHFw']}
2013-09-12 15:26:34,298 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:26:34,327 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-12 15:26:34,331 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 15:26:34,332 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10b4b7a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ad9e9e78e-3502-4d8c-814e-d377053e685f&code=3E3mKfORKpor90Ri4Lf5k6QxgW%2F9X1dPYFbzIJ76SnRhDQ5TdZfcJKtpCRfePHFw', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56227', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10b4c3fd0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10b4c6610>, '_accessed_time': 1378992394.290691, 'service': u'https://localhost:8092/', '_creation_time': 1378992394.059827}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3Ad9e9e78e-3502-4d8c-814e-d377053e685f&code=3E3mKfORKpor90Ri4Lf5k6QxgW%2F9X1dPYFbzIJ76SnRhDQ5TdZfcJKtpCRfePHFw', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1098e3270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:26:34,333 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10b43dea8>]
2013-09-12 15:26:34,334 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=3E3mKfORKpor90Ri4Lf5k6QxgW%2F9X1dPYFbzIJ76SnRhDQ5TdZfcJKtpCRfePHFw&client_secret=17d2a32a4766b617b0ecad2cfac5a6d8e991b948a13e4b259550cc3f&grant_type=authorization_code&client_id=eMQ8j15EBsWa&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7
2013-09-12 15:26:34,335 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 15:26:34,340 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:26:34,384 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 15:26:34,386 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 13:26:34 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 15:26:34,387 oic.oauth2:DEBUG resp.txt: {"access_token": "3E3mKfORKpor90Ri4Lf5k6Nf8/ZrqJabyIvOT0QYLMm/EowgB/EIZiMWQ9dqfpsF", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbImVNUThqMTVFQnNXYSJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA3MTU5NCwgImlhdCI6IDEzNzg5OTIzOTQsICJzdWIiOiAiaGFobzAwMzIifQ.XYdElMyDY183pjhppb0ZsyfXFIsYt1Exz_rVmSAyVG83wi9eZ4gE7p2ibdMEs4UhvdU-hMEQiOXklgF5s2Nx1FQC3Hhqeb1mp3fqsfZKb0eeurktgL0lgMZLSUuPExFuBWCB-Vau16yrwaSgIQPjx7JywvAA3nsUvuTAAXfnvrcWMXop8PKIkGnrjSq1wre6w84gJ8MMsgvZOWoKV30GqQ429srjiRTraPMeYbnHv4-dqTh1M8rGSUxoOU9Gn9YTQzZ7UFj2uHWlcVcOalJ_8aeywYQWfu9qzQHwMZMILXbqXFE41GoVJn5ij_cUFPP6Yzu8Y2jWKVRoFdaMh6K4jg", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:d9e9e78e-3502-4d8c-814e-d377053e685f", "scope": "openid profile", "refresh_token": "3E3mKfORKpor90Ri4Lf5k56s95ihZsa5HYr5BJoXPACS9s/qgnwKezU//qSEXF/t"}
2013-09-12 15:26:34,388 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 15:26:34,390 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'3E3mKfORKpor90Ri4Lf5k6Nf8/ZrqJabyIvOT0QYLMm/EowgB/EIZiMWQ9dqfpsF', 'request': 'openid', 'schema': 'openid'}
2013-09-12 15:26:34,391 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=3E3mKfORKpor90Ri4Lf5k6Nf8%2FZrqJabyIvOT0QYLMm%2FEowgB%2FEIZiMWQ9dqfpsF H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 15:26:34,396 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:26:34,429 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 15:26:34,431 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-12 15:26:34,433 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-12 15:26:34,433 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'3E3mKfORKpor90Ri4Lf5k6Nf8/ZrqJabyIvOT0QYLMm/EowgB/EIZiMWQ9dqfpsF', <oic.oic.Client object at 0x10b4c6610>)
2013-09-12 15:26:53,878 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 15:26:53,907 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 15:26:53,910 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 15:26:53,910 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b4b7a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b544ed0>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b4b7ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10b4b7b10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b4b7a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b544ed0>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b4b7ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10b4b7b10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'919D3F697FDAAF138124B83E09ECB0B7': <oic.oic.Client object at 0x10b4c6610>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10b4b79d0>, 'PORT': 8666}
2013-09-12 15:26:53,911 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10b4c6310>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:d9e9e78e-3502-4d8c-814e-d377053e685f': <oic.oic.Grant object at 0x10b414210>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:158c5133-eccd-465a-ba77-66ba0f87ae34'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'17d2a32a4766b617b0ecad2cfac5a6d8e991b948a13e4b259550cc3f'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10b4c62d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/919D3F697FDAAF138124B83E09ECB0B7']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10b414510>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'eMQ8j15EBsWa'), ('registration_expires', 1379075194), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10b4c65d0>), ('client_prefs', {}), ('registration_access_token', u'UzlNkutWdcOzSbvQH96BpuOUeghMM4sv'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 15:26:53,912 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:158c5133-eccd-465a-ba77-66ba0f87ae34', 'response_type': 'code'}
2013-09-12 15:26:53,913 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A158c5133-eccd-465a-ba77-66ba0f87ae34&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=eMQ8j15EBsWa
2013-09-12 15:26:53,914 rp.openidconnect:DEBUG body: None
2013-09-12 15:26:53,914 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A158c5133-eccd-465a-ba77-66ba0f87ae34&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=eMQ8j15EBsWa
2013-09-12 15:26:53,915 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 15:26:53,915 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A158c5133-eccd-465a-ba77-66ba0f87ae34&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=eMQ8j15EBsWa')]
2013-09-12 15:26:53,963 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10b4b7a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A158c5133-eccd-465a-ba77-66ba0f87ae34&code=g8wNiN7xhl8bXJoHCjkd6AzMZogjmJ93VSqcQKRQmepjfXu4FrXpu7FzshyZlSg2', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56235', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10b544b10>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10b4c6610>, '_accessed_time': 1378992413.963228, 'service': u'https://localhost:8092/', '_creation_time': 1378992394.059827}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3A158c5133-eccd-465a-ba77-66ba0f87ae34&code=g8wNiN7xhl8bXJoHCjkd6AzMZogjmJ93VSqcQKRQmepjfXu4FrXpu7FzshyZlSg2', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1098e3270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:26:53,964 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:158c5133-eccd-465a-ba77-66ba0f87ae34'], 'code': ['g8wNiN7xhl8bXJoHCjkd6AzMZogjmJ93VSqcQKRQmepjfXu4FrXpu7FzshyZlSg2']}
2013-09-12 15:26:53,964 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:158c5133-eccd-465a-ba77-66ba0f87ae34'], 'code': ['g8wNiN7xhl8bXJoHCjkd6AzMZogjmJ93VSqcQKRQmepjfXu4FrXpu7FzshyZlSg2']}
2013-09-12 15:26:53,965 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 15:26:53,966 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10b4b7a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A158c5133-eccd-465a-ba77-66ba0f87ae34&code=g8wNiN7xhl8bXJoHCjkd6AzMZogjmJ93VSqcQKRQmepjfXu4FrXpu7FzshyZlSg2', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56235', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10b544b10>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10b4c6610>, '_accessed_time': 1378992413.963228, 'service': u'https://localhost:8092/', '_creation_time': 1378992394.059827}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3A158c5133-eccd-465a-ba77-66ba0f87ae34&code=g8wNiN7xhl8bXJoHCjkd6AzMZogjmJ93VSqcQKRQmepjfXu4FrXpu7FzshyZlSg2', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x1098e3270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:26:53,966 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10b43dea8>]
2013-09-12 15:26:53,967 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=g8wNiN7xhl8bXJoHCjkd6AzMZogjmJ93VSqcQKRQmepjfXu4FrXpu7FzshyZlSg2&client_secret=17d2a32a4766b617b0ecad2cfac5a6d8e991b948a13e4b259550cc3f&grant_type=authorization_code&client_id=eMQ8j15EBsWa&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7
2013-09-12 15:26:53,968 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 15:26:53,973 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:26:54,019 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 15:26:54,021 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 13:26:54 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 15:26:54,022 oic.oauth2:DEBUG resp.txt: {"access_token": "g8wNiN7xhl8bXJoHCjkd6GF8HbYwNIsw6byquWnK0yO3AfiubTtROn8LUQcdDEaH", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbImVNUThqMTVFQnNXYSJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA3MTYxNCwgImlhdCI6IDEzNzg5OTI0MTQsICJzdWIiOiAiaGFobzAwMzIifQ.htkZhnJ1NYsbB5HHmWyA_dg56LpzH72g99wXR7j67jmAKlFAwqY3UeYcPZlsFmmabo8YglNz4BLAzgk0nlsFOnUag2T-nbzE0nx8Gnv37Eb3XqtOQUlfpiXf8nYAMO-JSgvCxDW2SyKgyeImiGe-6olj2XhKNMAJfjswn-vQkt8r_uvxozrMWA0ce5A4fEzqJ33EcctfrfRoN6pTtaeagyGs0-8fSqNZ8y8wC_oZD3axYQdj2Vs7j7yZuhjvOCPpv68J2Wxl8BdBxWTtRfQGZlUQG8uVMwKaKM7fQhewRSqnxddoBbJV2aAR-ejWb5ulNPaWhugU1ny7H5W6gVrTsQ", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:158c5133-eccd-465a-ba77-66ba0f87ae34", "scope": "openid profile", "refresh_token": "g8wNiN7xhl8bXJoHCjkd6OxP2OXwoUnTWvgEm32WjpNOUHoZ2pbd/2SwI8jTecng"}
2013-09-12 15:26:54,023 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 15:26:54,025 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'g8wNiN7xhl8bXJoHCjkd6GF8HbYwNIsw6byquWnK0yO3AfiubTtROn8LUQcdDEaH', 'request': 'openid', 'schema': 'openid'}
2013-09-12 15:26:54,026 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=g8wNiN7xhl8bXJoHCjkd6GF8HbYwNIsw6byquWnK0yO3AfiubTtROn8LUQcdDEaH H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 15:26:54,030 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:26:54,063 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 15:26:54,065 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-12 15:26:54,067 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-12 15:26:54,067 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'g8wNiN7xhl8bXJoHCjkd6GF8HbYwNIsw6byquWnK0yO3AfiubTtROn8LUQcdDEaH', <oic.oic.Client object at 0x10b4c6610>)
2013-09-12 15:30:49,546 root:INFO RP server starting listening on port:8666
2013-09-12 15:30:53,292 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 15:30:53,321 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 15:30:53,324 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 15:30:53,324 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10da2ea50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10da3d4d0>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10da2ead0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10da2eb10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10da2ea50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10da3d4d0>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10da2ead0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10da2eb10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10da2e9d0>, 'PORT': 8666}
2013-09-12 15:30:53,329 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:30:53,361 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-12 15:30:53,382 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-12 15:30:53,384 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 15:30:53,387 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 15:30:53,387 rp.openidconnect:DEBUG Registering RP
2013-09-12 15:30:53,393 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:30:53,429 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-12 15:30:53,432 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378989053&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DWQF3qB4V1Q5t&registration_access_token=jss0Cwa8ScUXd2FpwSOGzFsYIxZ3LpFO&client_id=WQF3qB4V1Q5t&client_secret=bccd9f2db4b9d7f4c44b4f519dc585b583ee771627ed90303fead749&client_secret_expires_at=1379075453
2013-09-12 15:30:53,433 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10da3d310>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:79919c3e-d364-4fb1-b517-42b85b7c10e8'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'bccd9f2db4b9d7f4c44b4f519dc585b583ee771627ed90303fead749'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10da3d2d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/919D3F697FDAAF138124B83E09ECB0B7']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10d98b510>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'WQF3qB4V1Q5t'), ('registration_expires', 1379075453), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10da3d5d0>), ('client_prefs', {}), ('registration_access_token', u'jss0Cwa8ScUXd2FpwSOGzFsYIxZ3LpFO'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 15:30:53,434 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:79919c3e-d364-4fb1-b517-42b85b7c10e8', 'response_type': 'code'}
2013-09-12 15:30:53,435 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A79919c3e-d364-4fb1-b517-42b85b7c10e8&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=WQF3qB4V1Q5t
2013-09-12 15:30:53,436 rp.openidconnect:DEBUG body: None
2013-09-12 15:30:53,436 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A79919c3e-d364-4fb1-b517-42b85b7c10e8&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=WQF3qB4V1Q5t
2013-09-12 15:30:53,437 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 15:30:53,437 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A79919c3e-d364-4fb1-b517-42b85b7c10e8&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=WQF3qB4V1Q5t')]
2013-09-12 15:30:53,489 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10da2ea10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A79919c3e-d364-4fb1-b517-42b85b7c10e8&code=5eCMcCprFlhkxdcc0RroetBTN%2FEE%2FgIQalWEJpOH4xV9ZPjfACSIyN1KWQr3v8Zg', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56292', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10da3afd0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10da3d610>, '_accessed_time': 1378992653.488713, 'service': u'https://localhost:8092/', '_creation_time': 1378992653.269999}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3A79919c3e-d364-4fb1-b517-42b85b7c10e8&code=5eCMcCprFlhkxdcc0RroetBTN%2FEE%2FgIQalWEJpOH4xV9ZPjfACSIyN1KWQr3v8Zg', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10be5a270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:30:53,489 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:79919c3e-d364-4fb1-b517-42b85b7c10e8'], 'code': ['5eCMcCprFlhkxdcc0RroetBTN/EE/gIQalWEJpOH4xV9ZPjfACSIyN1KWQr3v8Zg']}
2013-09-12 15:30:53,490 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:79919c3e-d364-4fb1-b517-42b85b7c10e8'], 'code': ['5eCMcCprFlhkxdcc0RroetBTN/EE/gIQalWEJpOH4xV9ZPjfACSIyN1KWQr3v8Zg']}
2013-09-12 15:30:53,494 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:30:53,522 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-12 15:30:53,527 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 15:30:53,528 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10da2ea10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A79919c3e-d364-4fb1-b517-42b85b7c10e8&code=5eCMcCprFlhkxdcc0RroetBTN%2FEE%2FgIQalWEJpOH4xV9ZPjfACSIyN1KWQr3v8Zg', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56292', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10da3afd0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10da3d610>, '_accessed_time': 1378992653.488713, 'service': u'https://localhost:8092/', '_creation_time': 1378992653.269999}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3A79919c3e-d364-4fb1-b517-42b85b7c10e8&code=5eCMcCprFlhkxdcc0RroetBTN%2FEE%2FgIQalWEJpOH4xV9ZPjfACSIyN1KWQr3v8Zg', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10be5a270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:30:53,528 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10d9b4ea8>]
2013-09-12 15:30:53,530 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=5eCMcCprFlhkxdcc0RroetBTN%2FEE%2FgIQalWEJpOH4xV9ZPjfACSIyN1KWQr3v8Zg&client_secret=bccd9f2db4b9d7f4c44b4f519dc585b583ee771627ed90303fead749&grant_type=authorization_code&client_id=WQF3qB4V1Q5t&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7
2013-09-12 15:30:53,530 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 15:30:53,535 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:30:53,579 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 15:30:53,581 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 13:30:53 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 15:30:53,581 oic.oauth2:DEBUG resp.txt: {"access_token": "5eCMcCprFlhkxdcc0RroehDilo/PIepy52gNlkSCOYO9e+t7fCIwBLkjIEDU6yTn", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIldRRjNxQjRWMVE1dCJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA3MTg1MywgImlhdCI6IDEzNzg5OTI2NTMsICJzdWIiOiAiaGFobzAwMzIifQ.L4jLK5vAxeooIEQgsSJq6eTLAtgAMFjW8D_eHIS-mRsqp_iK5p2cmkjv6iHckFKD8VTAIs4dwQPam1Gf4ZYWbKbq8-xC_pUl3Uqq8YriDyC89lJg7l0DD86Zp32JD3mpaWGNr3PkY8KP89S9DcPZIGY8tNSotyOn3sGGSM-o6ZaqMrNRDaG6rL6LIwrsbOp3gh9QCPlbQ1Ebtlxvl-YQg4VQ5m0H3wDBzfG3Qu2xb--aj-z44yTgGk_vbBo0HIPC8eXw_vumlLATHQKu9dpF4lfeCfF6xLk-shbObBfhqBQTn_vsv95Cd51vA8OLkybHLKQpbJE4xPjMXAD63idEsg", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:79919c3e-d364-4fb1-b517-42b85b7c10e8", "scope": "openid profile", "refresh_token": "5eCMcCprFlhkxdcc0RroepVua221D0euYTD/iCAVNSlvElYmckdWM37c6Lcu4KqM"}
2013-09-12 15:30:53,583 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 15:30:53,585 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'5eCMcCprFlhkxdcc0RroehDilo/PIepy52gNlkSCOYO9e+t7fCIwBLkjIEDU6yTn', 'request': 'openid', 'schema': 'openid'}
2013-09-12 15:30:53,585 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=5eCMcCprFlhkxdcc0RroehDilo%2FPIepy52gNlkSCOYO9e%2Bt7fCIwBLkjIEDU6yTn H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 15:30:53,590 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:30:53,623 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 15:30:53,625 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-12 15:30:53,626 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-12 15:30:53,627 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'5eCMcCprFlhkxdcc0RroehDilo/PIepy52gNlkSCOYO9e+t7fCIwBLkjIEDU6yTn', <oic.oic.Client object at 0x10da3d610>)
2013-09-12 15:42:47,873 root:INFO RP server starting listening on port:8666
2013-09-12 15:42:51,964 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 15:42:51,994 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 15:42:51,997 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 15:42:51,998 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10545da50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10546c4d0>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10545dad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10545db10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10545da50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10546c4d0>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10545dad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10545db10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10545d9d0>, 'PORT': 8666}
2013-09-12 15:42:52,003 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:42:52,035 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-12 15:42:52,057 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-12 15:42:52,060 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 15:42:52,062 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 15:42:52,063 rp.openidconnect:DEBUG Registering RP
2013-09-12 15:42:52,069 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:42:52,106 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-12 15:42:52,112 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378989772&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3Dg3Mc4j6g61ed&registration_access_token=vWllsl0MjvhNOf3iFrfI14wqc26uRGUw&client_id=g3Mc4j6g61ed&client_secret=36b8559488bbf03ce257d3ad38cfdc0b577a2126f30aecddefb886f9&client_secret_expires_at=1379076172
2013-09-12 15:42:52,114 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10546c310>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:90e07796-c4f6-4bef-9ac5-62830bd2383c'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'36b8559488bbf03ce257d3ad38cfdc0b577a2126f30aecddefb886f9'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10546c2d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/919D3F697FDAAF138124B83E09ECB0B7']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x1053ba510>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'g3Mc4j6g61ed'), ('registration_expires', 1379076172), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10546c5d0>), ('client_prefs', {}), ('registration_access_token', u'vWllsl0MjvhNOf3iFrfI14wqc26uRGUw'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 15:42:52,114 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:90e07796-c4f6-4bef-9ac5-62830bd2383c', 'response_type': 'code'}
2013-09-12 15:42:52,117 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A90e07796-c4f6-4bef-9ac5-62830bd2383c&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=g3Mc4j6g61ed
2013-09-12 15:42:52,118 rp.openidconnect:DEBUG body: None
2013-09-12 15:42:52,119 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A90e07796-c4f6-4bef-9ac5-62830bd2383c&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=g3Mc4j6g61ed
2013-09-12 15:42:52,120 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 15:42:52,121 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A90e07796-c4f6-4bef-9ac5-62830bd2383c&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=g3Mc4j6g61ed')]
2013-09-12 15:42:52,198 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10545da10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A90e07796-c4f6-4bef-9ac5-62830bd2383c&code=ps1E0PnxBtXEy5mVwOmX2n60PxhEykdNF0%2FmSMH6PEhp5%2FiLPew3dd9VU48Ztd5G', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56493', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x105469fd0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10546c610>, '_accessed_time': 1378993372.197244, 'service': u'https://localhost:8092/', '_creation_time': 1378993371.942288}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3A90e07796-c4f6-4bef-9ac5-62830bd2383c&code=ps1E0PnxBtXEy5mVwOmX2n60PxhEykdNF0%2FmSMH6PEhp5%2FiLPew3dd9VU48Ztd5G', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x103886270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:42:52,198 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:90e07796-c4f6-4bef-9ac5-62830bd2383c'], 'code': ['ps1E0PnxBtXEy5mVwOmX2n60PxhEykdNF0/mSMH6PEhp5/iLPew3dd9VU48Ztd5G']}
2013-09-12 15:42:52,199 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:90e07796-c4f6-4bef-9ac5-62830bd2383c'], 'code': ['ps1E0PnxBtXEy5mVwOmX2n60PxhEykdNF0/mSMH6PEhp5/iLPew3dd9VU48Ztd5G']}
2013-09-12 15:42:52,203 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:42:52,231 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-12 15:42:52,236 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 15:42:52,237 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10545da10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A90e07796-c4f6-4bef-9ac5-62830bd2383c&code=ps1E0PnxBtXEy5mVwOmX2n60PxhEykdNF0%2FmSMH6PEhp5%2FiLPew3dd9VU48Ztd5G', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56493', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x105469fd0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10546c610>, '_accessed_time': 1378993372.197244, 'service': u'https://localhost:8092/', '_creation_time': 1378993371.942288}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3A90e07796-c4f6-4bef-9ac5-62830bd2383c&code=ps1E0PnxBtXEy5mVwOmX2n60PxhEykdNF0%2FmSMH6PEhp5%2FiLPew3dd9VU48Ztd5G', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x103886270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:42:52,237 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x1053e3ea8>]
2013-09-12 15:42:52,238 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=ps1E0PnxBtXEy5mVwOmX2n60PxhEykdNF0%2FmSMH6PEhp5%2FiLPew3dd9VU48Ztd5G&client_secret=36b8559488bbf03ce257d3ad38cfdc0b577a2126f30aecddefb886f9&grant_type=authorization_code&client_id=g3Mc4j6g61ed&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7
2013-09-12 15:42:52,239 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 15:42:52,244 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:42:52,289 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 15:42:52,291 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 13:42:52 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 15:42:52,292 oic.oauth2:DEBUG resp.txt: {"access_token": "ps1E0PnxBtXEy5mVwOmX2h5eyFoNn633l0YbNO6RuR6wPRZ1V+yu0XkPiKgOXXxp", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbImczTWM0ajZnNjFlZCJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA3MjU3MiwgImlhdCI6IDEzNzg5OTMzNzIsICJzdWIiOiAiaGFobzAwMzIifQ.IUtCKQCNCq0sgIMm0C9mnxgucbG9FLJUA9B8GWiVtddNFZnZJForSBvNyODJGsMU6MMuDoRzRyRLmX4F9Chvc81wFtkwFG1PkeV36fRj_z4YPa3paciHRf-Q4jCU3c0aevjPkxVQxcjLup_JZhYuLEwOe6xSE6PG-9P9TjJbmEVbGDxHywUZDMkG4RgHJPocNTKSA7XhtT4f9zO2RGafZ8FzNBfT3gPLZEPe-NA6PESM-9w7GmDxXxUgPUnUgbbPNG45-2-xRUlqmZXzUHaHppZ23Asl0EZm5dYjRNfLLNnhiS9Yfp08w9KNpBInLaJILrINug6oYtkLbr3u7BTULQ", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:90e07796-c4f6-4bef-9ac5-62830bd2383c", "scope": "openid profile", "refresh_token": "ps1E0PnxBtXEy5mVwOmX2l/sAo0N7rsR7HfQjUBF+WwxJIEhCBNx811sAFIvOVYL"}
2013-09-12 15:42:52,293 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 15:42:52,296 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'ps1E0PnxBtXEy5mVwOmX2h5eyFoNn633l0YbNO6RuR6wPRZ1V+yu0XkPiKgOXXxp', 'request': 'openid', 'schema': 'openid'}
2013-09-12 15:42:52,296 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=ps1E0PnxBtXEy5mVwOmX2h5eyFoNn633l0YbNO6RuR6wPRZ1V%2Byu0XkPiKgOXXxp H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 15:42:52,301 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:42:52,334 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 15:42:52,337 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-12 15:42:52,338 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-12 15:42:52,338 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'ps1E0PnxBtXEy5mVwOmX2h5eyFoNn633l0YbNO6RuR6wPRZ1V+yu0XkPiKgOXXxp', <oic.oic.Client object at 0x10546c610>)
2013-09-12 15:43:36,981 root:INFO RP server starting listening on port:8666
2013-09-12 15:43:41,001 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 15:43:41,031 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 15:43:41,034 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 15:43:41,035 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110f33a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110f424d0>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110f33ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110f33b10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110f33a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110f424d0>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110f33ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110f33b10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x110f339d0>, 'PORT': 8666}
2013-09-12 15:43:41,039 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:43:41,071 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-12 15:43:41,092 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-12 15:43:41,095 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 15:43:41,097 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 15:43:41,097 rp.openidconnect:DEBUG Registering RP
2013-09-12 15:43:41,104 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:43:41,140 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-12 15:43:41,143 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378989821&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DIe6mdaIBxnDU&registration_access_token=CoLgQRLLph4AqhO7etMdz0n7OE80ou9p&client_id=Ie6mdaIBxnDU&client_secret=22dccd25b093f1e2b142de1c9d313e1fb49f950d48f19d9fbde4957d&client_secret_expires_at=1379076221
2013-09-12 15:43:41,144 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x110f42310>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:b0f39729-842a-4b91-824d-33890ba918a9'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'22dccd25b093f1e2b142de1c9d313e1fb49f950d48f19d9fbde4957d'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x110f422d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/919D3F697FDAAF138124B83E09ECB0B7']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x110e90510>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'Ie6mdaIBxnDU'), ('registration_expires', 1379076221), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x110f425d0>), ('client_prefs', {}), ('registration_access_token', u'CoLgQRLLph4AqhO7etMdz0n7OE80ou9p'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 15:43:41,144 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:b0f39729-842a-4b91-824d-33890ba918a9', 'response_type': 'code'}
2013-09-12 15:43:41,146 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Ab0f39729-842a-4b91-824d-33890ba918a9&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=Ie6mdaIBxnDU
2013-09-12 15:43:41,146 rp.openidconnect:DEBUG body: None
2013-09-12 15:43:41,147 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ab0f39729-842a-4b91-824d-33890ba918a9&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=Ie6mdaIBxnDU
2013-09-12 15:43:41,147 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 15:43:41,148 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ab0f39729-842a-4b91-824d-33890ba918a9&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=Ie6mdaIBxnDU')]
2013-09-12 15:43:41,199 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110f33a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ab0f39729-842a-4b91-824d-33890ba918a9&code=Zwf6w6p2dLghhOJHySwEbTZwkePCg9vIFLFYjW%2BlyjbMt1FLDbiBa01v7Nqy57lq', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56511', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110f3ffd0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x110f42610>, '_accessed_time': 1378993421.198818, 'service': u'https://localhost:8092/', '_creation_time': 1378993420.979787}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3Ab0f39729-842a-4b91-824d-33890ba918a9&code=Zwf6w6p2dLghhOJHySwEbTZwkePCg9vIFLFYjW%2BlyjbMt1FLDbiBa01v7Nqy57lq', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f35e270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:43:41,199 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:b0f39729-842a-4b91-824d-33890ba918a9'], 'code': ['Zwf6w6p2dLghhOJHySwEbTZwkePCg9vIFLFYjW+lyjbMt1FLDbiBa01v7Nqy57lq']}
2013-09-12 15:43:41,200 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:b0f39729-842a-4b91-824d-33890ba918a9'], 'code': ['Zwf6w6p2dLghhOJHySwEbTZwkePCg9vIFLFYjW+lyjbMt1FLDbiBa01v7Nqy57lq']}
2013-09-12 15:43:41,204 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:43:41,232 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-12 15:43:41,236 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 15:43:41,237 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110f33a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ab0f39729-842a-4b91-824d-33890ba918a9&code=Zwf6w6p2dLghhOJHySwEbTZwkePCg9vIFLFYjW%2BlyjbMt1FLDbiBa01v7Nqy57lq', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56511', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110f3ffd0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x110f42610>, '_accessed_time': 1378993421.198818, 'service': u'https://localhost:8092/', '_creation_time': 1378993420.979787}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3Ab0f39729-842a-4b91-824d-33890ba918a9&code=Zwf6w6p2dLghhOJHySwEbTZwkePCg9vIFLFYjW%2BlyjbMt1FLDbiBa01v7Nqy57lq', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f35e270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:43:41,238 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x110eb9ea8>]
2013-09-12 15:43:41,239 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=Zwf6w6p2dLghhOJHySwEbTZwkePCg9vIFLFYjW%2BlyjbMt1FLDbiBa01v7Nqy57lq&client_secret=22dccd25b093f1e2b142de1c9d313e1fb49f950d48f19d9fbde4957d&grant_type=authorization_code&client_id=Ie6mdaIBxnDU&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7
2013-09-12 15:43:41,239 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 15:43:41,244 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:43:41,289 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 15:43:41,291 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 13:43:41 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 15:43:41,291 oic.oauth2:DEBUG resp.txt: {"access_token": "Zwf6w6p2dLghhOJHySwEbTrJcLfZbqwZdpdKJJDFgxdrdb7PLcE+H9wudnt/U5Zb", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIkllNm1kYUlCeG5EVSJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA3MjYyMSwgImlhdCI6IDEzNzg5OTM0MjEsICJzdWIiOiAiaGFobzAwMzIifQ.XacI257UsD5nvf67XQlVYV2y925wap7jPECHksP6X6W9tAE3D0seF9fI99DgQWOapQC3Rp6kXCoFSh9P4k7qQ432JjLsX08IeVJY-Y2_87t8KUq8wOYO9bI4DfipjkUplHMOh_06Xm2Q-6K4n0ENEKM2sJqRkkWiVRqS_LfxEiH8XesJ_6lSOZ2GGTHSLqvuP_Dbu__YzSNUGJf0zOj-bRMGaTLxxZkiIbhR5Apk8aGAvuKXtkTBuuOuslAG5rWRTujcfesvm74QIsDHvFpZmmgsFEG3CG2Pui7g4xKi7jduUIFNCZqeSqt4Xlv_HHJ-Ap-glS1Ir5EruR78wSrjzQ", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:b0f39729-842a-4b91-824d-33890ba918a9", "scope": "openid profile", "refresh_token": "Zwf6w6p2dLghhOJHySwEbWVKtcSuj7gK+ZzIE5hkTB3dk5aWyqKMbysNsDpi9R9g"}
2013-09-12 15:43:41,292 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 15:43:41,295 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'Zwf6w6p2dLghhOJHySwEbTrJcLfZbqwZdpdKJJDFgxdrdb7PLcE+H9wudnt/U5Zb', 'request': 'openid', 'schema': 'openid'}
2013-09-12 15:43:41,295 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=Zwf6w6p2dLghhOJHySwEbTrJcLfZbqwZdpdKJJDFgxdrdb7PLcE%2BH9wudnt%2FU5Zb H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 15:43:41,300 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:43:41,332 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 15:43:41,334 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-12 15:43:41,336 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-12 15:43:41,336 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'Zwf6w6p2dLghhOJHySwEbTrJcLfZbqwZdpdKJJDFgxdrdb7PLcE+H9wudnt/U5Zb', <oic.oic.Client object at 0x110f42610>)
2013-09-12 15:45:19,661 root:INFO RP server starting listening on port:8666
2013-09-12 15:45:23,079 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 15:45:23,109 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 15:45:23,112 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 15:45:23,113 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1028d8a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1028e74d0>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1028d8ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x1028d8b10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1028d8a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1028e74d0>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x1028d8ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x1028d8b10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x1028d89d0>, 'PORT': 8666}
2013-09-12 15:45:23,117 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:45:23,150 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-12 15:45:23,172 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-12 15:45:23,174 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 15:45:23,177 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 15:45:23,178 rp.openidconnect:DEBUG Registering RP
2013-09-12 15:45:23,184 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:45:23,224 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-12 15:45:23,227 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378989923&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DiANfEflq4GKr&registration_access_token=1GbmlCuVpyZEupO6yYeT7qdM73CrhJGG&client_id=iANfEflq4GKr&client_secret=78567b908ed6fc4698676421b1aae9126e298724e109dd0ca71082b2&client_secret_expires_at=1379076323
2013-09-12 15:45:23,228 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x1028e7310>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:c284b52c-c7b9-436e-9ddd-f4666db78b91'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'78567b908ed6fc4698676421b1aae9126e298724e109dd0ca71082b2'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x1028e72d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/919D3F697FDAAF138124B83E09ECB0B7']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x102835510>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'iANfEflq4GKr'), ('registration_expires', 1379076323), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x1028e75d0>), ('client_prefs', {}), ('registration_access_token', u'1GbmlCuVpyZEupO6yYeT7qdM73CrhJGG'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 15:45:23,229 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:c284b52c-c7b9-436e-9ddd-f4666db78b91', 'response_type': 'code'}
2013-09-12 15:45:23,229 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Ac284b52c-c7b9-436e-9ddd-f4666db78b91&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=iANfEflq4GKr
2013-09-12 15:45:23,230 rp.openidconnect:DEBUG body: None
2013-09-12 15:45:23,231 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ac284b52c-c7b9-436e-9ddd-f4666db78b91&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=iANfEflq4GKr
2013-09-12 15:45:23,231 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 15:45:23,232 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ac284b52c-c7b9-436e-9ddd-f4666db78b91&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=iANfEflq4GKr')]
2013-09-12 15:45:23,291 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x1028d8a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ac284b52c-c7b9-436e-9ddd-f4666db78b91&code=zkemSPgOASssRPy0F5cf1XtHDeRzCY9uwx%2B8RObQuGm%2Bjo7aVmFZafVTosbtMQdQ', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56576', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1028e4fd0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x1028e7610>, '_accessed_time': 1378993523.29068, 'service': u'https://localhost:8092/', '_creation_time': 1378993523.057407}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3Ac284b52c-c7b9-436e-9ddd-f4666db78b91&code=zkemSPgOASssRPy0F5cf1XtHDeRzCY9uwx%2B8RObQuGm%2Bjo7aVmFZafVTosbtMQdQ', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x100d01270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:45:23,291 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:c284b52c-c7b9-436e-9ddd-f4666db78b91'], 'code': ['zkemSPgOASssRPy0F5cf1XtHDeRzCY9uwx+8RObQuGm+jo7aVmFZafVTosbtMQdQ']}
2013-09-12 15:45:23,292 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:c284b52c-c7b9-436e-9ddd-f4666db78b91'], 'code': ['zkemSPgOASssRPy0F5cf1XtHDeRzCY9uwx+8RObQuGm+jo7aVmFZafVTosbtMQdQ']}
2013-09-12 15:45:23,296 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:45:23,324 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-12 15:45:23,328 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 15:45:23,329 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x1028d8a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ac284b52c-c7b9-436e-9ddd-f4666db78b91&code=zkemSPgOASssRPy0F5cf1XtHDeRzCY9uwx%2B8RObQuGm%2Bjo7aVmFZafVTosbtMQdQ', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56576', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1028e4fd0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x1028e7610>, '_accessed_time': 1378993523.29068, 'service': u'https://localhost:8092/', '_creation_time': 1378993523.057407}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3Ac284b52c-c7b9-436e-9ddd-f4666db78b91&code=zkemSPgOASssRPy0F5cf1XtHDeRzCY9uwx%2B8RObQuGm%2Bjo7aVmFZafVTosbtMQdQ', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x100d01270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:45:23,330 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10285eea8>]
2013-09-12 15:45:23,331 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=zkemSPgOASssRPy0F5cf1XtHDeRzCY9uwx%2B8RObQuGm%2Bjo7aVmFZafVTosbtMQdQ&client_secret=78567b908ed6fc4698676421b1aae9126e298724e109dd0ca71082b2&grant_type=authorization_code&client_id=iANfEflq4GKr&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7
2013-09-12 15:45:23,332 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 15:45:23,337 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:45:23,381 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 15:45:23,383 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 13:45:23 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 15:45:23,384 oic.oauth2:DEBUG resp.txt: {"access_token": "zkemSPgOASssRPy0F5cf1f8ZwOE7mYRSBbkLBseFyNl5EXJVaxqYCRdgaDowUD6p", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbImlBTmZFZmxxNEdLciJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA3MjcyMywgImlhdCI6IDEzNzg5OTM1MjMsICJzdWIiOiAiaGFobzAwMzIifQ.rGlHscbgsEMjQFT3VOQMQ3u4cPGx-tYHzDW0xP81igYoKvyr4mxdrUYgOov3kFV_Ms6FhYMorKjdAO28aUkj0Vu03TX62eXa39C03x0S5-Tag0NHj65dgZHiWw1e8J7eYRK5YnvNZEmdZJs6XnKvidoVk3z540AiFX3z2Q_IqzIpGOdLpqjrS9Lq3OxC6_tYij53iPEKOOU3UU6yzxsWryW4mccRhIsX8m0d66c1kL7qo6SoT9qLIGWiEVT_JNzdbdndYj8jBIcF29vfTdEmeRJu3XCZAP8q5SLL3bbi-6wgyw2C32yH2dM4xHjD4keHiyepex3eE1ZdNcIGkFIpcQ", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:c284b52c-c7b9-436e-9ddd-f4666db78b91", "scope": "openid profile", "refresh_token": "zkemSPgOASssRPy0F5cf1YoYbV2HUHopd54D2eken/D+LLQIagTu/ejmDN21cA02"}
2013-09-12 15:45:23,385 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 15:45:23,387 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'zkemSPgOASssRPy0F5cf1f8ZwOE7mYRSBbkLBseFyNl5EXJVaxqYCRdgaDowUD6p', 'request': 'openid', 'schema': 'openid'}
2013-09-12 15:45:23,388 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=zkemSPgOASssRPy0F5cf1f8ZwOE7mYRSBbkLBseFyNl5EXJVaxqYCRdgaDowUD6p H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 15:45:23,392 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:45:23,426 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 15:45:23,428 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-12 15:45:23,430 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-12 15:45:23,430 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'zkemSPgOASssRPy0F5cf1f8ZwOE7mYRSBbkLBseFyNl5EXJVaxqYCRdgaDowUD6p', <oic.oic.Client object at 0x1028e7610>)
2013-09-12 15:46:47,253 root:INFO RP server starting listening on port:8666
2013-09-12 15:46:51,954 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 15:46:51,984 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 15:46:51,986 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 15:46:51,987 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10dd05a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10dd144d0>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10dd05ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10dd05b10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10dd05a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10dd144d0>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10dd05ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10dd05b10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10dd059d0>, 'PORT': 8666}
2013-09-12 15:46:51,992 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:46:52,027 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-12 15:46:52,050 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-12 15:46:52,052 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 15:46:52,055 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 15:46:52,056 rp.openidconnect:DEBUG Registering RP
2013-09-12 15:46:52,063 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:46:52,099 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-12 15:46:52,102 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378990012&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3D6GGgLfnxP0vA&registration_access_token=VkDzizSUj9Ws8PiTdaQCHZSdIwVTMLLC&client_id=6GGgLfnxP0vA&client_secret=65dec2413d2e20860811eda9aecf3e83eb8a5efe5161b5ec6ea4c80a&client_secret_expires_at=1379076412
2013-09-12 15:46:52,103 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10dd14310>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:eca6d603-900e-44f3-8d0a-7621acf4847f'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'65dec2413d2e20860811eda9aecf3e83eb8a5efe5161b5ec6ea4c80a'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10dd142d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/919D3F697FDAAF138124B83E09ECB0B7']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10dc62510>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'6GGgLfnxP0vA'), ('registration_expires', 1379076412), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10dd145d0>), ('client_prefs', {}), ('registration_access_token', u'VkDzizSUj9Ws8PiTdaQCHZSdIwVTMLLC'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 15:46:52,104 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:eca6d603-900e-44f3-8d0a-7621acf4847f', 'response_type': 'code'}
2013-09-12 15:46:52,105 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Aeca6d603-900e-44f3-8d0a-7621acf4847f&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=6GGgLfnxP0vA
2013-09-12 15:46:52,106 rp.openidconnect:DEBUG body: None
2013-09-12 15:46:52,106 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Aeca6d603-900e-44f3-8d0a-7621acf4847f&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=6GGgLfnxP0vA
2013-09-12 15:46:52,106 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 15:46:52,107 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Aeca6d603-900e-44f3-8d0a-7621acf4847f&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=6GGgLfnxP0vA')]
2013-09-12 15:46:52,154 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10dd05a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Aeca6d603-900e-44f3-8d0a-7621acf4847f&code=SO%2BHhkI6QHXwPD2xRFaZubC7PNrXykzejrBnlojyBDYwPtDMQuq5gmwdMcPyFnvH', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56598', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10dd11fd0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10dd14610>, '_accessed_time': 1378993612.153797, 'service': u'https://localhost:8092/', '_creation_time': 1378993611.932832}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3Aeca6d603-900e-44f3-8d0a-7621acf4847f&code=SO%2BHhkI6QHXwPD2xRFaZubC7PNrXykzejrBnlojyBDYwPtDMQuq5gmwdMcPyFnvH', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10c12e270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:46:52,154 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:eca6d603-900e-44f3-8d0a-7621acf4847f'], 'code': ['SO+HhkI6QHXwPD2xRFaZubC7PNrXykzejrBnlojyBDYwPtDMQuq5gmwdMcPyFnvH']}
2013-09-12 15:46:52,155 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:eca6d603-900e-44f3-8d0a-7621acf4847f'], 'code': ['SO+HhkI6QHXwPD2xRFaZubC7PNrXykzejrBnlojyBDYwPtDMQuq5gmwdMcPyFnvH']}
2013-09-12 15:46:52,159 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:46:52,186 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-12 15:46:52,191 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 15:46:52,192 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10dd05a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Aeca6d603-900e-44f3-8d0a-7621acf4847f&code=SO%2BHhkI6QHXwPD2xRFaZubC7PNrXykzejrBnlojyBDYwPtDMQuq5gmwdMcPyFnvH', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56598', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10dd11fd0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10dd14610>, '_accessed_time': 1378993612.153797, 'service': u'https://localhost:8092/', '_creation_time': 1378993611.932832}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3Aeca6d603-900e-44f3-8d0a-7621acf4847f&code=SO%2BHhkI6QHXwPD2xRFaZubC7PNrXykzejrBnlojyBDYwPtDMQuq5gmwdMcPyFnvH', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10c12e270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:46:52,192 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10dc8bea8>]
2013-09-12 15:46:52,194 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=SO%2BHhkI6QHXwPD2xRFaZubC7PNrXykzejrBnlojyBDYwPtDMQuq5gmwdMcPyFnvH&client_secret=65dec2413d2e20860811eda9aecf3e83eb8a5efe5161b5ec6ea4c80a&grant_type=authorization_code&client_id=6GGgLfnxP0vA&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7
2013-09-12 15:46:52,194 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 15:46:52,199 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:46:52,243 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 15:46:52,244 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 13:46:52 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 15:46:52,245 oic.oauth2:DEBUG resp.txt: {"access_token": "SO+HhkI6QHXwPD2xRFaZuZs9lzuzsk8VCfZnCaqQAqX/YPUgWhZHAu8Ijp6dxtrh", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIjZHR2dMZm54UDB2QSJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA3MjgxMiwgImlhdCI6IDEzNzg5OTM2MTIsICJzdWIiOiAiaGFobzAwMzIifQ.zvyXJce5LQ-zDK0ZXXo-ItL4AuzPebV0zl-mEnnu5geXY1JrOth_74fzINhCGC04dalWRpMPvPVFvTeGwYQAs3A9Fvzfdomj0bq1Px49hsZUZR9uVyPT0vaB4-1eDYWbKjuRUH9v7p6h-uesjtXsNOZqab6Trkt0Ox_omO8oQ7vp154Dyhl5m5dsmCUC1IH7MNlEtJjfQ92hu39XB0EIeoNYeAMnPcrSylWb4Sce_4BubSYaDspM2uwh5kgt3uugD2i0LwbhJvXvNy7Amrk0uhzr06q325sFkQYG6IdFlbgOPb_l21ZY6thIk99xDHFynzKx4XwDlSW4FQrP586D5w", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:eca6d603-900e-44f3-8d0a-7621acf4847f", "scope": "openid profile", "refresh_token": "SO+HhkI6QHXwPD2xRFaZuUZTJYmr0iWR+k4x5Os5jeyYNftQL0N7ocKgdBt97Yra"}
2013-09-12 15:46:52,246 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 15:46:52,248 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'SO+HhkI6QHXwPD2xRFaZuZs9lzuzsk8VCfZnCaqQAqX/YPUgWhZHAu8Ijp6dxtrh', 'request': 'openid', 'schema': 'openid'}
2013-09-12 15:46:52,249 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=SO%2BHhkI6QHXwPD2xRFaZuZs9lzuzsk8VCfZnCaqQAqX%2FYPUgWhZHAu8Ijp6dxtrh H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 15:46:52,254 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:46:52,287 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 15:46:52,289 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-12 15:46:52,291 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-12 15:46:52,291 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'SO+HhkI6QHXwPD2xRFaZuZs9lzuzsk8VCfZnCaqQAqX/YPUgWhZHAu8Ijp6dxtrh', <oic.oic.Client object at 0x10dd14610>)
2013-09-12 15:50:31,218 root:INFO RP server starting listening on port:8666
2013-09-12 15:51:19,136 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 15:51:19,166 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 15:51:19,169 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 15:51:19,169 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110f52a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110f624d0>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110f52ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110f52b10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110f52a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110f624d0>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110f52ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110f52b10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x110f529d0>, 'PORT': 8666}
2013-09-12 15:51:19,174 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:51:19,205 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-12 15:51:19,228 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-12 15:51:19,230 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 15:51:19,233 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 15:51:19,233 rp.openidconnect:DEBUG Registering RP
2013-09-12 15:51:19,239 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:51:19,276 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-12 15:51:19,280 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378990279&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DRrxZQy0JLarE&registration_access_token=urEdwD4BnxsbE5Yj3qqKt1McLmFSoeti&client_id=RrxZQy0JLarE&client_secret=5b90eea319c7ecc96cf6d59a6fa56b671605ad44ff01b1e63e374557&client_secret_expires_at=1379076679
2013-09-12 15:51:19,281 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x110f62310>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:f59ca8e5-2eb9-493a-8ba8-852301c1e38c'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'5b90eea319c7ecc96cf6d59a6fa56b671605ad44ff01b1e63e374557'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x110f622d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/919D3F697FDAAF138124B83E09ECB0B7']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x110eb0510>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'RrxZQy0JLarE'), ('registration_expires', 1379076679), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x110f625d0>), ('client_prefs', {}), ('registration_access_token', u'urEdwD4BnxsbE5Yj3qqKt1McLmFSoeti'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 15:51:19,281 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:f59ca8e5-2eb9-493a-8ba8-852301c1e38c', 'response_type': 'code'}
2013-09-12 15:51:19,282 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Af59ca8e5-2eb9-493a-8ba8-852301c1e38c&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=RrxZQy0JLarE
2013-09-12 15:51:19,283 rp.openidconnect:DEBUG body: None
2013-09-12 15:51:19,284 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Af59ca8e5-2eb9-493a-8ba8-852301c1e38c&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=RrxZQy0JLarE
2013-09-12 15:51:19,284 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 15:51:19,285 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Af59ca8e5-2eb9-493a-8ba8-852301c1e38c&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=RrxZQy0JLarE')]
2013-09-12 15:51:19,343 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110f52a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Af59ca8e5-2eb9-493a-8ba8-852301c1e38c&code=%2BvokxMnSS%2FxyFtnRRDtFR2vJuVXn0fZpuq1F6bp4j3aybYSLPd8oEY9bPA1JjJcj', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56638', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110f5efd0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x110f62610>, '_accessed_time': 1378993879.342961, 'service': u'https://localhost:8092/', '_creation_time': 1378993879.114768}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3Af59ca8e5-2eb9-493a-8ba8-852301c1e38c&code=%2BvokxMnSS%2FxyFtnRRDtFR2vJuVXn0fZpuq1F6bp4j3aybYSLPd8oEY9bPA1JjJcj', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f37d270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:51:19,344 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:f59ca8e5-2eb9-493a-8ba8-852301c1e38c'], 'code': ['+vokxMnSS/xyFtnRRDtFR2vJuVXn0fZpuq1F6bp4j3aybYSLPd8oEY9bPA1JjJcj']}
2013-09-12 15:51:19,344 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:f59ca8e5-2eb9-493a-8ba8-852301c1e38c'], 'code': ['+vokxMnSS/xyFtnRRDtFR2vJuVXn0fZpuq1F6bp4j3aybYSLPd8oEY9bPA1JjJcj']}
2013-09-12 15:51:19,348 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:51:19,376 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-12 15:51:19,380 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 15:51:19,381 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110f52a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Af59ca8e5-2eb9-493a-8ba8-852301c1e38c&code=%2BvokxMnSS%2FxyFtnRRDtFR2vJuVXn0fZpuq1F6bp4j3aybYSLPd8oEY9bPA1JjJcj', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56638', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110f5efd0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x110f62610>, '_accessed_time': 1378993879.342961, 'service': u'https://localhost:8092/', '_creation_time': 1378993879.114768}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3Af59ca8e5-2eb9-493a-8ba8-852301c1e38c&code=%2BvokxMnSS%2FxyFtnRRDtFR2vJuVXn0fZpuq1F6bp4j3aybYSLPd8oEY9bPA1JjJcj', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f37d270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:51:19,382 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x110ed9440>]
2013-09-12 15:51:19,383 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=%2BvokxMnSS%2FxyFtnRRDtFR2vJuVXn0fZpuq1F6bp4j3aybYSLPd8oEY9bPA1JjJcj&client_secret=5b90eea319c7ecc96cf6d59a6fa56b671605ad44ff01b1e63e374557&grant_type=authorization_code&client_id=RrxZQy0JLarE&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7
2013-09-12 15:51:19,383 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 15:51:19,388 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:51:19,433 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 15:51:19,435 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 13:51:19 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 15:51:19,435 oic.oauth2:DEBUG resp.txt: {"access_token": "+vokxMnSS/xyFtnRRDtFRwdcndqUXd8CjObn3ZykQiSngUvtv6w4SpJey4odEQE+", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIlJyeFpReTBKTGFyRSJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA3MzA3OSwgImlhdCI6IDEzNzg5OTM4NzksICJzdWIiOiAiaGFobzAwMzIifQ.wCbLnEVhfd2XuaZoT48gIc08rXZfB8wwVb1u5XWe-6V6Qv4KqQWqkdyqA9NUznYh_RGOTfpw0Q2IDYsF7-PfIt-MNStKAdIMsLgTn6xdKh-6jYJE_BPEfn06iErSdDlk7ffTQWFPiqv49gGKXFuy55r-YnWbkUDjRNSqtrnB4Z4Xx8-22J5jcoWMdK0_r1IeopPIzw0SGJI-n8n8SL2rsQLsuIqBDN57tSZPx6hfaxCfpS_apu6PEFYGFBsNZ3P19t7tekIKYiq03KAhBC8gbp4vgmXrnifGdL0tqi53rXv9y9Czly6P2c17T2i38AGhNsquUal15-O0Vu1ok5iPJA", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:f59ca8e5-2eb9-493a-8ba8-852301c1e38c", "scope": "openid profile", "refresh_token": "+vokxMnSS/xyFtnRRDtFR7eQ5xutZDQaM4KCGHsFlYAC8nOB5T3UDtGRKjNrJiG7"}
2013-09-12 15:51:19,437 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 15:51:19,439 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'+vokxMnSS/xyFtnRRDtFRwdcndqUXd8CjObn3ZykQiSngUvtv6w4SpJey4odEQE+', 'request': 'openid', 'schema': 'openid'}
2013-09-12 15:51:19,439 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=%2BvokxMnSS%2FxyFtnRRDtFRwdcndqUXd8CjObn3ZykQiSngUvtv6w4SpJey4odEQE%2B H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 15:51:19,445 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:51:19,478 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 15:51:19,480 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-12 15:51:19,481 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-12 15:51:19,482 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'+vokxMnSS/xyFtnRRDtFRwdcndqUXd8CjObn3ZykQiSngUvtv6w4SpJey4odEQE+', <oic.oic.Client object at 0x110f62610>)
2013-09-12 15:52:25,588 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 15:52:25,589 root:INFO [static]sending: static/style.css
2013-09-12 15:52:25,590 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 15:52:25,593 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 15:53:00,022 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 15:53:00,052 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 15:53:00,055 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 15:53:00,055 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110f52a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f428fd0>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110f52ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110f52b10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110f52a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10f428fd0>, 'scope': ['openid', 'profile'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110f52ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110f52b10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'919D3F697FDAAF138124B83E09ECB0B7': <oic.oic.Client object at 0x110f62610>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x110f529d0>, 'PORT': 8666}
2013-09-12 15:53:00,057 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x110f62310>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:f59ca8e5-2eb9-493a-8ba8-852301c1e38c': <oic.oic.Grant object at 0x110eb0210>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:7e648c75-c1ec-474c-b6bf-12ab9f4f8718'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'5b90eea319c7ecc96cf6d59a6fa56b671605ad44ff01b1e63e374557'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x110f622d0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/919D3F697FDAAF138124B83E09ECB0B7']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x110eb0510>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'RrxZQy0JLarE'), ('registration_expires', 1379076679), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x110f625d0>), ('client_prefs', {}), ('registration_access_token', u'urEdwD4BnxsbE5Yj3qqKt1McLmFSoeti'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 15:53:00,057 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:7e648c75-c1ec-474c-b6bf-12ab9f4f8718', 'response_type': 'code'}
2013-09-12 15:53:00,058 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A7e648c75-c1ec-474c-b6bf-12ab9f4f8718&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=RrxZQy0JLarE
2013-09-12 15:53:00,059 rp.openidconnect:DEBUG body: None
2013-09-12 15:53:00,059 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A7e648c75-c1ec-474c-b6bf-12ab9f4f8718&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=RrxZQy0JLarE
2013-09-12 15:53:00,060 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 15:53:00,060 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A7e648c75-c1ec-474c-b6bf-12ab9f4f8718&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=RrxZQy0JLarE')]
2013-09-12 15:53:00,121 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110f52a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A7e648c75-c1ec-474c-b6bf-12ab9f4f8718&code=nIvWf%2BxSejmz1i5C%2FoSDF5PJyPkei21DVYrWifpoWcWW6WWeoZtBATf1WdqZixYi', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56653', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110f80f50>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x110f62610>, '_accessed_time': 1378993980.12093, 'service': u'https://localhost:8092/', '_creation_time': 1378993879.114768}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3A7e648c75-c1ec-474c-b6bf-12ab9f4f8718&code=nIvWf%2BxSejmz1i5C%2FoSDF5PJyPkei21DVYrWifpoWcWW6WWeoZtBATf1WdqZixYi', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f37d270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:53:00,122 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:7e648c75-c1ec-474c-b6bf-12ab9f4f8718'], 'code': ['nIvWf+xSejmz1i5C/oSDF5PJyPkei21DVYrWifpoWcWW6WWeoZtBATf1WdqZixYi']}
2013-09-12 15:53:00,122 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:7e648c75-c1ec-474c-b6bf-12ab9f4f8718'], 'code': ['nIvWf+xSejmz1i5C/oSDF5PJyPkei21DVYrWifpoWcWW6WWeoZtBATf1WdqZixYi']}
2013-09-12 15:53:00,123 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 15:53:00,124 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110f52a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A7e648c75-c1ec-474c-b6bf-12ab9f4f8718&code=nIvWf%2BxSejmz1i5C%2FoSDF5PJyPkei21DVYrWifpoWcWW6WWeoZtBATf1WdqZixYi', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56653', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110f80f50>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x110f62610>, '_accessed_time': 1378993980.12093, 'service': u'https://localhost:8092/', '_creation_time': 1378993879.114768}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile&state=urn%3Auuid%3A7e648c75-c1ec-474c-b6bf-12ab9f4f8718&code=nIvWf%2BxSejmz1i5C%2FoSDF5PJyPkei21DVYrWifpoWcWW6WWeoZtBATf1WdqZixYi', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10f37d270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:53:00,124 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x110ed9440>]
2013-09-12 15:53:00,125 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=nIvWf%2BxSejmz1i5C%2FoSDF5PJyPkei21DVYrWifpoWcWW6WWeoZtBATf1WdqZixYi&client_secret=5b90eea319c7ecc96cf6d59a6fa56b671605ad44ff01b1e63e374557&grant_type=authorization_code&client_id=RrxZQy0JLarE&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7
2013-09-12 15:53:00,126 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 15:53:00,131 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:53:00,176 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 15:53:00,178 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 13:53:00 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 15:53:00,179 oic.oauth2:DEBUG resp.txt: {"access_token": "nIvWf+xSejmz1i5C/oSDF57BDWnsdDCCRqX3K0+eYG3E/7UEj1VACf8Jw7CXRF54", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIlJyeFpReTBKTGFyRSJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA3MzE4MCwgImlhdCI6IDEzNzg5OTM5ODAsICJzdWIiOiAiaGFobzAwMzIifQ.h0pU_E3kcqkfrnc413sRfRFlyIHuQboS7LOQ7_oWX61JCISA5317nJXbybMj0L5BibCc-HP9Cuv4Ccw-FhmBsjGvoEjXV5GYWKbP4EcgL1iN74RdHHttncX7Lxit3900uTee-5gy9KwV2rMsZ4P2pdozWy_9l4hejS58OBgpuv4NsVWSFdPo6Z9LgvzMnLmvCjVikbAsCyL9gVRIfxQNbY3Li40JV6AYY-Yt2QxpF3I_Z16X7dg4M5fTsmKqp8RAqKxbdXWCIfDYjOexzXoW5lAkcO4fizavPcupsjffSpcIumvj1WPisxw6dOvLs2LDnyD_u6dug8UxA2zCjuwzAw", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:7e648c75-c1ec-474c-b6bf-12ab9f4f8718", "scope": "openid profile", "refresh_token": "nIvWf+xSejmz1i5C/oSDF1IPPKvWE5eJsO3WBvG1x4HAp+SRPgN4XfwLSv/1Rll7"}
2013-09-12 15:53:00,180 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 15:53:00,182 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'nIvWf+xSejmz1i5C/oSDF57BDWnsdDCCRqX3K0+eYG3E/7UEj1VACf8Jw7CXRF54', 'request': 'openid', 'schema': 'openid'}
2013-09-12 15:53:00,183 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=nIvWf%2BxSejmz1i5C%2FoSDF57BDWnsdDCCRqX3K0%2BeYG3E%2F7UEj1VACf8Jw7CXRF54 H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 15:53:00,188 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:53:00,221 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 15:53:00,223 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-12 15:53:00,224 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-12 15:53:00,225 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'nIvWf+xSejmz1i5C/oSDF57BDWnsdDCCRqX3K0+eYG3E/7UEj1VACf8Jw7CXRF54', <oic.oic.Client object at 0x110f62610>)
2013-09-12 15:53:30,888 root:INFO RP server starting listening on port:8666
2013-09-12 15:53:32,239 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 15:53:32,268 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 15:53:32,271 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 15:53:32,272 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110661a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x11066dc90>, 'scope': ['openid', 'profile', 'email', 'address', 'phone'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110661ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110661b10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110661a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x11066dc90>, 'scope': ['openid', 'profile', 'email', 'address', 'phone'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110661ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110661b10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x1106619d0>, 'PORT': 8666}
2013-09-12 15:53:32,276 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:53:32,308 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-12 15:53:32,330 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-12 15:53:32,332 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 15:53:32,335 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 15:53:32,335 rp.openidconnect:DEBUG Registering RP
2013-09-12 15:53:32,340 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:53:32,376 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-12 15:53:32,379 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378990412&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3Dch6FlV4P7g1d&registration_access_token=WKfVWqlEnk1qfIHG3tjulaIMVughIsC6&client_id=ch6FlV4P7g1d&client_secret=9fb5f04419e127170237d95fa291746bbf090194ce2c9bd3cb48ee37&client_secret_expires_at=1379076812
2013-09-12 15:53:32,380 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x11066dad0>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:d5ca638c-3636-4369-b417-f970034f9bea'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'9fb5f04419e127170237d95fa291746bbf090194ce2c9bd3cb48ee37'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x11066da90>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/919D3F697FDAAF138124B83E09ECB0B7']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x110670cd0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'ch6FlV4P7g1d'), ('registration_expires', 1379076812), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x11066dd90>), ('client_prefs', {}), ('registration_access_token', u'WKfVWqlEnk1qfIHG3tjulaIMVughIsC6'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 15:53:32,381 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile', 'email', 'address', 'phone'], 'state': 'urn:uuid:d5ca638c-3636-4369-b417-f970034f9bea', 'response_type': 'code'}
2013-09-12 15:53:32,382 rp.openidconnect:DEBUG request: scope=openid+profile+email+address+phone&state=urn%3Auuid%3Ad5ca638c-3636-4369-b417-f970034f9bea&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=ch6FlV4P7g1d
2013-09-12 15:53:32,383 rp.openidconnect:DEBUG body: None
2013-09-12 15:53:32,383 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile+email+address+phone&state=urn%3Auuid%3Ad5ca638c-3636-4369-b417-f970034f9bea&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=ch6FlV4P7g1d
2013-09-12 15:53:32,383 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 15:53:32,384 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile+email+address+phone&state=urn%3Auuid%3Ad5ca638c-3636-4369-b417-f970034f9bea&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=ch6FlV4P7g1d')]
2013-09-12 15:53:32,435 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110661a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile+email+address+phone&state=urn%3Auuid%3Ad5ca638c-3636-4369-b417-f970034f9bea&code=Z3navbgyv%2Fi4TrIfkW%2BgHLG6DqaIBtcK7KVxHltDOP%2B89z4B58i%2FWcnWLMg7syWV', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56666', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x11066d950>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x11066ddd0>, '_accessed_time': 1378994012.434725, 'service': u'https://localhost:8092/', '_creation_time': 1378994012.217614}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile+email+address+phone&state=urn%3Auuid%3Ad5ca638c-3636-4369-b417-f970034f9bea&code=Z3navbgyv%2Fi4TrIfkW%2BgHLG6DqaIBtcK7KVxHltDOP%2B89z4B58i%2FWcnWLMg7syWV', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10ea8d270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:53:32,435 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile email address phone'], 'state': ['urn:uuid:d5ca638c-3636-4369-b417-f970034f9bea'], 'code': ['Z3navbgyv/i4TrIfkW+gHLG6DqaIBtcK7KVxHltDOP+89z4B58i/WcnWLMg7syWV']}
2013-09-12 15:53:32,436 rp.openidconnect:DEBUG info: {'scope': ['openid profile email address phone'], 'state': ['urn:uuid:d5ca638c-3636-4369-b417-f970034f9bea'], 'code': ['Z3navbgyv/i4TrIfkW+gHLG6DqaIBtcK7KVxHltDOP+89z4B58i/WcnWLMg7syWV']}
2013-09-12 15:53:32,440 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:53:32,467 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-12 15:53:32,472 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 15:53:32,473 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110661a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile+email+address+phone&state=urn%3Auuid%3Ad5ca638c-3636-4369-b417-f970034f9bea&code=Z3navbgyv%2Fi4TrIfkW%2BgHLG6DqaIBtcK7KVxHltDOP%2B89z4B58i%2FWcnWLMg7syWV', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56666', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x11066d950>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x11066ddd0>, '_accessed_time': 1378994012.434725, 'service': u'https://localhost:8092/', '_creation_time': 1378994012.217614}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile+email+address+phone&state=urn%3Auuid%3Ad5ca638c-3636-4369-b417-f970034f9bea&code=Z3navbgyv%2Fi4TrIfkW%2BgHLG6DqaIBtcK7KVxHltDOP%2B89z4B58i%2FWcnWLMg7syWV', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10ea8d270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:53:32,473 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x1105e4128>]
2013-09-12 15:53:32,474 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=Z3navbgyv%2Fi4TrIfkW%2BgHLG6DqaIBtcK7KVxHltDOP%2B89z4B58i%2FWcnWLMg7syWV&client_secret=9fb5f04419e127170237d95fa291746bbf090194ce2c9bd3cb48ee37&grant_type=authorization_code&client_id=ch6FlV4P7g1d&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7
2013-09-12 15:53:32,475 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 15:53:32,480 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:53:32,525 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 15:53:32,527 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 13:53:32 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 15:53:32,527 oic.oauth2:DEBUG resp.txt: {"access_token": "Z3navbgyv/i4TrIfkW+gHErfRiSLvkAi6n1pHMg3vfg0SGRbMzuKD9EuJCcMdtmA", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbImNoNkZsVjRQN2cxZCJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA3MzIxMiwgImlhdCI6IDEzNzg5OTQwMTIsICJzdWIiOiAiaGFobzAwMzIifQ.ztGACBXsUAzP8AdUE6jlS4X0f4yj6gS688Pe7GA9ceh4b5deFkncgqakurC9PwGqef849TWj2BeukZb63qmwD1daykj66Rz7LZRX9WwDncXwsl6qmwGIBpVJrr8XBTYpQpI71lkczOQV5auqtfrURnG1Bty12AhLFsix3yA_Wz-z6Uj2FHihSul3Mxr1aUaMvfu--U2Qils7AoQGkUFfE_VT3MT1hoGGG14Fytto15EPWDNty-Uw9IOJQvp6WhDykb2X3FF5_d72r7nhuOW2d-lC8AyqQLKaeRl16A0MUYMuQCPXLAxvVBKKSsYFQxD1pQNMh7HznzF5MnCyVNXXUQ", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:d5ca638c-3636-4369-b417-f970034f9bea", "scope": "openid profile email address phone", "refresh_token": "Z3navbgyv/i4TrIfkW+gHDI+bmQ4yRIF8GQk9XH5AGIwc3ipGYAQNDK7TvinjbRO"}
2013-09-12 15:53:32,529 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 15:53:32,531 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'Z3navbgyv/i4TrIfkW+gHErfRiSLvkAi6n1pHMg3vfg0SGRbMzuKD9EuJCcMdtmA', 'request': 'openid', 'schema': 'openid'}
2013-09-12 15:53:32,532 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=Z3navbgyv%2Fi4TrIfkW%2BgHErfRiSLvkAi6n1pHMg3vfg0SGRbMzuKD9EuJCcMdtmA H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 15:53:32,536 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:53:32,570 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 15:53:32,572 oic.oic:DEBUG Reponse text: '{"phone_number": "+46 90 7865000", "family_name": "H\u00f6rberg", "name": "Hans H\u00f6rberg", "email_verified": false, "given_name": "Hans", "address": {"country": "Sweden", "postal_code": "SE-90187", "street_address": "Ume\u00e5 Universitet", "locality": "Ume\u00e5"}, "nickname": "Hasse", "email": "hans@example.org", "sub": "haho0032"}'
2013-09-12 15:53:32,574 rp.openidconnect:DEBUG UserInfo: phone_number=%2B46+90+7865000&family_name=H%C3%B6rberg&name=Hans+H%C3%B6rberg&email_verified=False&given_name=Hans&address=country%3DSweden%26postal_code%3DSE-90187%26street_address%3DUme%25C3%25A5%2BUniversitet%26locality%3DUme%25C3%25A5&nickname=Hasse&email=hans%40example.org&sub=haho0032
2013-09-12 15:53:32,575 rp:DEBUG [do_pyoidcOIC] response: (True, {'phone_number': u'+46 90 7865000', 'family_name': u'H\xf6rberg', 'name': u'Hans H\xf6rberg', 'email_verified': False, 'given_name': u'Hans', 'address': {'country': u'Sweden', 'postal_code': u'SE-90187', 'street_address': u'Ume\xe5 Universitet', 'locality': u'Ume\xe5'}, 'nickname': u'Hasse', 'email': u'hans@example.org', 'sub': u'haho0032'}, u'Z3navbgyv/i4TrIfkW+gHErfRiSLvkAi6n1pHMg3vfg0SGRbMzuKD9EuJCcMdtmA', <oic.oic.Client object at 0x11066ddd0>)
2013-09-12 15:53:39,734 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 15:53:39,737 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 15:53:39,738 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 15:53:39,742 root:INFO [static]sending: static/style.css
2013-09-12 15:53:58,912 root:INFO [static]sending: static/style.css
2013-09-12 15:53:58,919 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 15:53:58,920 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 15:53:58,921 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 15:54:03,547 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 15:54:03,548 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110661a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x11066dc90>, 'scope': ['openid', 'profile', 'email', 'address', 'phone'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110661ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110661b10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110661a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': 'Automatic OIDC', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x11066dc90>, 'scope': ['openid', 'profile', 'email', 'address', 'phone'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x110661ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x110661b10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'919D3F697FDAAF138124B83E09ECB0B7': <oic.oic.Client object at 0x11066ddd0>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x1106619d0>, 'PORT': 8666}
2013-09-12 15:54:03,549 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x11066dad0>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:d5ca638c-3636-4369-b417-f970034f9bea': <oic.oic.Grant object at 0x110670a10>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:694e87ec-fafe-405e-a828-95128a1596e1'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'9fb5f04419e127170237d95fa291746bbf090194ce2c9bd3cb48ee37'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x11066da90>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/919D3F697FDAAF138124B83E09ECB0B7']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x110670cd0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'ch6FlV4P7g1d'), ('registration_expires', 1379076812), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x11066dd90>), ('client_prefs', {}), ('registration_access_token', u'WKfVWqlEnk1qfIHG3tjulaIMVughIsC6'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 15:54:03,550 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile', 'email', 'address', 'phone'], 'state': 'urn:uuid:694e87ec-fafe-405e-a828-95128a1596e1', 'response_type': 'code'}
2013-09-12 15:54:03,551 rp.openidconnect:DEBUG request: scope=openid+profile+email+address+phone&state=urn%3Auuid%3A694e87ec-fafe-405e-a828-95128a1596e1&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=ch6FlV4P7g1d
2013-09-12 15:54:03,552 rp.openidconnect:DEBUG body: None
2013-09-12 15:54:03,553 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile+email+address+phone&state=urn%3Auuid%3A694e87ec-fafe-405e-a828-95128a1596e1&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=ch6FlV4P7g1d
2013-09-12 15:54:03,553 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 15:54:03,554 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile+email+address+phone&state=urn%3Auuid%3A694e87ec-fafe-405e-a828-95128a1596e1&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=ch6FlV4P7g1d')]
2013-09-12 15:54:03,592 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110661a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile+email+address+phone&state=urn%3Auuid%3A694e87ec-fafe-405e-a828-95128a1596e1&code=xgGfhTIEQ2MQVMJbfDyyqIJYAWGzNBVnzdvm770WxUg0bWUurLLmIGE54WdI63ee', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56680', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110688c90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x11066ddd0>, '_accessed_time': 1378994043.59162, 'service': u'https://localhost:8092/', '_creation_time': 1378994012.217614}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile+email+address+phone&state=urn%3Auuid%3A694e87ec-fafe-405e-a828-95128a1596e1&code=xgGfhTIEQ2MQVMJbfDyyqIJYAWGzNBVnzdvm770WxUg0bWUurLLmIGE54WdI63ee', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10ea8d270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:54:03,592 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile email address phone'], 'state': ['urn:uuid:694e87ec-fafe-405e-a828-95128a1596e1'], 'code': ['xgGfhTIEQ2MQVMJbfDyyqIJYAWGzNBVnzdvm770WxUg0bWUurLLmIGE54WdI63ee']}
2013-09-12 15:54:03,593 rp.openidconnect:DEBUG info: {'scope': ['openid profile email address phone'], 'state': ['urn:uuid:694e87ec-fafe-405e-a828-95128a1596e1'], 'code': ['xgGfhTIEQ2MQVMJbfDyyqIJYAWGzNBVnzdvm770WxUg0bWUurLLmIGE54WdI63ee']}
2013-09-12 15:54:03,594 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 15:54:03,594 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x110661a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile+email+address+phone&state=urn%3Auuid%3A694e87ec-fafe-405e-a828-95128a1596e1&code=xgGfhTIEQ2MQVMJbfDyyqIJYAWGzNBVnzdvm770WxUg0bWUurLLmIGE54WdI63ee', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56680', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x110688c90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x11066ddd0>, '_accessed_time': 1378994043.59162, 'service': u'https://localhost:8092/', '_creation_time': 1378994012.217614}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile+email+address+phone&state=urn%3Auuid%3A694e87ec-fafe-405e-a828-95128a1596e1&code=xgGfhTIEQ2MQVMJbfDyyqIJYAWGzNBVnzdvm770WxUg0bWUurLLmIGE54WdI63ee', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10ea8d270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:54:03,595 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x1105e4128>]
2013-09-12 15:54:03,596 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=xgGfhTIEQ2MQVMJbfDyyqIJYAWGzNBVnzdvm770WxUg0bWUurLLmIGE54WdI63ee&client_secret=9fb5f04419e127170237d95fa291746bbf090194ce2c9bd3cb48ee37&grant_type=authorization_code&client_id=ch6FlV4P7g1d&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7
2013-09-12 15:54:03,597 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 15:54:03,602 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:54:03,647 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 15:54:03,649 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 13:54:03 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 15:54:03,650 oic.oauth2:DEBUG resp.txt: {"access_token": "xgGfhTIEQ2MQVMJbfDyyqIT/YeheqqoYIBrx8VUnIe78Au1lKRVgg7j5AL1BXFeg", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbImNoNkZsVjRQN2cxZCJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA3MzI0MywgImlhdCI6IDEzNzg5OTQwNDMsICJzdWIiOiAiaGFobzAwMzIifQ.PThlH2aUT25if_RckEdYb3eAuIcHUeSPjnJsaJmmUxhRjbhJXb8AzTIdOiG4qc-Lr9B18ZuK2ygFchhE2KrXS9cYD_WPxR11TWgph8t_WdX7xFdV7yveyU17iyqn8i3gnZD8L2P2Rxfqn1aDxmnluir2_0EzqATuIl0A7I5rRBQjeC6_MqUv7X7rDY9cO7hBpsNYOdU_VZvFc0zPVyW6yWa35MgKT1Cq6T1BoYzp9lUUD5cZfswtr5BtSzwhc_Wgc9uebUr_CcM71O2f_mZCyi9Fs0ELWQfx1fr9J6MX7KYcDosJER0-B_972dUI1kVOpfDJweTevrrtMN2pua7Zeg", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:694e87ec-fafe-405e-a828-95128a1596e1", "scope": "openid profile email address phone", "refresh_token": "xgGfhTIEQ2MQVMJbfDyyqMnJ+ZJzjk8Gw4DUTm0bFZZ/ZNNzk7SEt/9x3/FOCPeu"}
2013-09-12 15:54:03,651 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 15:54:03,654 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'xgGfhTIEQ2MQVMJbfDyyqIT/YeheqqoYIBrx8VUnIe78Au1lKRVgg7j5AL1BXFeg', 'request': 'openid', 'schema': 'openid'}
2013-09-12 15:54:03,654 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=xgGfhTIEQ2MQVMJbfDyyqIT%2FYeheqqoYIBrx8VUnIe78Au1lKRVgg7j5AL1BXFeg H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 15:54:03,659 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:54:03,693 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 15:54:03,696 oic.oic:DEBUG Reponse text: '{"phone_number": "+46 90 7865000", "family_name": "H\u00f6rberg", "name": "Hans H\u00f6rberg", "email_verified": false, "given_name": "Hans", "address": {"country": "Sweden", "postal_code": "SE-90187", "street_address": "Ume\u00e5 Universitet", "locality": "Ume\u00e5"}, "nickname": "Hasse", "email": "hans@example.org", "sub": "haho0032"}'
2013-09-12 15:54:03,698 rp.openidconnect:DEBUG UserInfo: phone_number=%2B46+90+7865000&family_name=H%C3%B6rberg&name=Hans+H%C3%B6rberg&email_verified=False&given_name=Hans&address=country%3DSweden%26postal_code%3DSE-90187%26street_address%3DUme%25C3%25A5%2BUniversitet%26locality%3DUme%25C3%25A5&nickname=Hasse&email=hans%40example.org&sub=haho0032
2013-09-12 15:54:03,699 rp:DEBUG [do_pyoidcOIC] response: (True, {'phone_number': u'+46 90 7865000', 'family_name': u'H\xf6rberg', 'name': u'Hans H\xf6rberg', 'email_verified': False, 'given_name': u'Hans', 'address': {'country': u'Sweden', 'postal_code': u'SE-90187', 'street_address': u'Ume\xe5 Universitet', 'locality': u'Ume\xe5'}, 'nickname': u'Hasse', 'email': u'hans@example.org', 'sub': u'haho0032'}, u'xgGfhTIEQ2MQVMJbfDyyqIT/YeheqqoYIBrx8VUnIe78Au1lKRVgg7j5AL1BXFeg', <oic.oic.Client object at 0x11066ddd0>)
2013-09-12 15:54:10,666 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 15:54:10,670 root:INFO [static]sending: static/style.css
2013-09-12 15:54:10,673 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 15:54:10,675 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 15:55:17,381 root:INFO RP server starting listening on port:8666
2013-09-12 15:55:20,088 root:INFO [static]sending: static/style.css
2013-09-12 15:55:20,089 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 15:55:20,090 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 15:55:20,092 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 15:55:22,345 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 15:55:22,346 root:INFO [static]sending: static/style.css
2013-09-12 15:55:22,351 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 15:55:22,352 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 15:55:23,436 root:INFO [static]sending: static/style.css
2013-09-12 15:55:23,439 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 15:55:23,441 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 15:55:23,442 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 15:55:29,509 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 15:55:29,538 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 15:55:29,541 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 15:55:29,542 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b8c2a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': u'OIDC server with discovery url: https://localhost:8092/', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b8d74d0>, 'scope': ['openid', 'profile', 'email', 'address', 'phone'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b8c2ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10b8c2b10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b8c2a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': u'OIDC server with discovery url: https://localhost:8092/', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b8d74d0>, 'scope': ['openid', 'profile', 'email', 'address', 'phone'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b8c2ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10b8c2b10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10b8c29d0>, 'PORT': 8666}
2013-09-12 15:55:29,546 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:55:29,578 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-12 15:55:29,600 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-12 15:55:29,602 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 15:55:29,605 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 15:55:29,605 rp.openidconnect:DEBUG Registering RP
2013-09-12 15:55:29,610 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:55:29,646 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-12 15:55:29,649 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378990529&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DG59vGmri6fNL&registration_access_token=hR5c1zXNO6HlspZsFUtCcra8NbqEv9Vi&client_id=G59vGmri6fNL&client_secret=752d0efd580196880c72f1a5e68d9e46f25c856a855b350a2d988ea9&client_secret_expires_at=1379076929
2013-09-12 15:55:29,650 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10b8d78d0>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:04e9166b-4e9e-4fc4-90de-c6f2d87234f7'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'752d0efd580196880c72f1a5e68d9e46f25c856a855b350a2d988ea9'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10b8d7a90>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/919D3F697FDAAF138124B83E09ECB0B7']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10b8d7210>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'G59vGmri6fNL'), ('registration_expires', 1379076929), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10b8d7890>), ('client_prefs', {}), ('registration_access_token', u'hR5c1zXNO6HlspZsFUtCcra8NbqEv9Vi'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 15:55:29,651 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile', 'email', 'address', 'phone'], 'state': 'urn:uuid:04e9166b-4e9e-4fc4-90de-c6f2d87234f7', 'response_type': 'code'}
2013-09-12 15:55:29,652 rp.openidconnect:DEBUG request: scope=openid+profile+email+address+phone&state=urn%3Auuid%3A04e9166b-4e9e-4fc4-90de-c6f2d87234f7&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=G59vGmri6fNL
2013-09-12 15:55:29,653 rp.openidconnect:DEBUG body: None
2013-09-12 15:55:29,653 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile+email+address+phone&state=urn%3Auuid%3A04e9166b-4e9e-4fc4-90de-c6f2d87234f7&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=G59vGmri6fNL
2013-09-12 15:55:29,654 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 15:55:29,654 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile+email+address+phone&state=urn%3Auuid%3A04e9166b-4e9e-4fc4-90de-c6f2d87234f7&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=G59vGmri6fNL')]
2013-09-12 15:55:29,715 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10b8c2a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile+email+address+phone&state=urn%3Auuid%3A04e9166b-4e9e-4fc4-90de-c6f2d87234f7&code=i9JjTAdhdK0BTZUmSJuMDoHmkxEqE2vPMKu%2Bu7ILljUvXHfKgStWxwiAulANIBl6', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56728', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x109d97ad0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10b8d7850>, '_accessed_time': 1378994129.71481, 'service': u'https://localhost:8092/', '_creation_time': 1378994120.062857}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile+email+address+phone&state=urn%3Auuid%3A04e9166b-4e9e-4fc4-90de-c6f2d87234f7&code=i9JjTAdhdK0BTZUmSJuMDoHmkxEqE2vPMKu%2Bu7ILljUvXHfKgStWxwiAulANIBl6', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x109ceb270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:55:29,715 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile email address phone'], 'state': ['urn:uuid:04e9166b-4e9e-4fc4-90de-c6f2d87234f7'], 'code': ['i9JjTAdhdK0BTZUmSJuMDoHmkxEqE2vPMKu+u7ILljUvXHfKgStWxwiAulANIBl6']}
2013-09-12 15:55:29,716 rp.openidconnect:DEBUG info: {'scope': ['openid profile email address phone'], 'state': ['urn:uuid:04e9166b-4e9e-4fc4-90de-c6f2d87234f7'], 'code': ['i9JjTAdhdK0BTZUmSJuMDoHmkxEqE2vPMKu+u7ILljUvXHfKgStWxwiAulANIBl6']}
2013-09-12 15:55:29,721 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:55:29,749 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-12 15:55:29,753 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 15:55:29,754 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10b8c2a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile+email+address+phone&state=urn%3Auuid%3A04e9166b-4e9e-4fc4-90de-c6f2d87234f7&code=i9JjTAdhdK0BTZUmSJuMDoHmkxEqE2vPMKu%2Bu7ILljUvXHfKgStWxwiAulANIBl6', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56728', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x109d97ad0>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10b8d7850>, '_accessed_time': 1378994129.71481, 'service': u'https://localhost:8092/', '_creation_time': 1378994120.062857}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile+email+address+phone&state=urn%3Auuid%3A04e9166b-4e9e-4fc4-90de-c6f2d87234f7&code=i9JjTAdhdK0BTZUmSJuMDoHmkxEqE2vPMKu%2Bu7ILljUvXHfKgStWxwiAulANIBl6', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x109ceb270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:55:29,755 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10b84d998>]
2013-09-12 15:55:29,756 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=i9JjTAdhdK0BTZUmSJuMDoHmkxEqE2vPMKu%2Bu7ILljUvXHfKgStWxwiAulANIBl6&client_secret=752d0efd580196880c72f1a5e68d9e46f25c856a855b350a2d988ea9&grant_type=authorization_code&client_id=G59vGmri6fNL&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7
2013-09-12 15:55:29,757 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 15:55:29,763 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:55:29,808 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 15:55:29,810 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 13:55:29 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 15:55:29,810 oic.oauth2:DEBUG resp.txt: {"access_token": "i9JjTAdhdK0BTZUmSJuMDgxN5EMlsT7yEqH8k/uidEzrDkqrZGHi0pvaDTB2RUvk", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIkc1OXZHbXJpNmZOTCJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA3MzMyOSwgImlhdCI6IDEzNzg5OTQxMjksICJzdWIiOiAiaGFobzAwMzIifQ.g6AMT8oDmoPaMnBa8giK3q9woye_MaqFXK6R0RCBHxD52VQInVTNoa27ASsBbGTi7Qvp3mUDBV7yngHReSaBQOjuYMLMoDPqR4eW2b0F2f42asUfMj9AWVidh8oxlNzJLrZC12cKouh7bOZ9ygeaysjaBjYgMv-_WPJCJlFItLjWgbajwyeknPthj-zPB9dkmTlmjlkTK_69xiDMzNFrO8G_ZluiKsqnIl92Gy-ohk0QM1HZaVMq1a1w7E79ITX6Q65VwBQN80J5EDLOSc2secHo-M89qQzKfJngnv42vR3l-wl1IWOtA_LAxZmqzdhEXPPnO4xn5Pfk3_bBmWwkSQ", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:04e9166b-4e9e-4fc4-90de-c6f2d87234f7", "scope": "openid profile email address phone", "refresh_token": "i9JjTAdhdK0BTZUmSJuMDr/CxB6pz5gxTEPd5k6ex/VhwVn0/O3qU7eh3ok++TGs"}
2013-09-12 15:55:29,812 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 15:55:29,814 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'i9JjTAdhdK0BTZUmSJuMDgxN5EMlsT7yEqH8k/uidEzrDkqrZGHi0pvaDTB2RUvk', 'request': 'openid', 'schema': 'openid'}
2013-09-12 15:55:29,815 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=i9JjTAdhdK0BTZUmSJuMDgxN5EMlsT7yEqH8k%2FuidEzrDkqrZGHi0pvaDTB2RUvk H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 15:55:29,819 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:55:29,852 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 15:55:29,855 oic.oic:DEBUG Reponse text: '{"phone_number": "+46 90 7865000", "family_name": "H\u00f6rberg", "name": "Hans H\u00f6rberg", "email_verified": false, "given_name": "Hans", "address": {"country": "Sweden", "postal_code": "SE-90187", "street_address": "Ume\u00e5 Universitet", "locality": "Ume\u00e5"}, "nickname": "Hasse", "email": "hans@example.org", "sub": "haho0032"}'
2013-09-12 15:55:29,858 rp.openidconnect:DEBUG UserInfo: phone_number=%2B46+90+7865000&family_name=H%C3%B6rberg&name=Hans+H%C3%B6rberg&email_verified=False&given_name=Hans&address=country%3DSweden%26postal_code%3DSE-90187%26street_address%3DUme%25C3%25A5%2BUniversitet%26locality%3DUme%25C3%25A5&nickname=Hasse&email=hans%40example.org&sub=haho0032
2013-09-12 15:55:29,859 rp:DEBUG [do_pyoidcOIC] response: (True, {'phone_number': u'+46 90 7865000', 'family_name': u'H\xf6rberg', 'name': u'Hans H\xf6rberg', 'email_verified': False, 'given_name': u'Hans', 'address': {'country': u'Sweden', 'postal_code': u'SE-90187', 'street_address': u'Ume\xe5 Universitet', 'locality': u'Ume\xe5'}, 'nickname': u'Hasse', 'email': u'hans@example.org', 'sub': u'haho0032'}, u'i9JjTAdhdK0BTZUmSJuMDgxN5EMlsT7yEqH8k/uidEzrDkqrZGHi0pvaDTB2RUvk', <oic.oic.Client object at 0x10b8d7850>)
2013-09-12 15:55:34,176 root:INFO [static]sending: static/style.css
2013-09-12 15:55:34,183 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 15:55:34,185 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 15:55:34,186 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 15:55:38,975 root:INFO [static]sending: static/style.css
2013-09-12 15:55:38,980 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 15:55:38,981 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 15:55:38,984 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 15:55:45,612 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 15:55:45,640 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 15:55:45,643 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 15:55:45,643 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b8c2a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': u'OIDC server with discovery url: https://localhost:8092/', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x109d97fd0>, 'scope': ['openid', 'profile', 'email', 'address', 'phone'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b8c2ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10b8c2b10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b8c2a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': u'OIDC server with discovery url: https://localhost:8092/', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x109d97fd0>, 'scope': ['openid', 'profile', 'email', 'address', 'phone'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b8c2ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10b8c2b10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'919D3F697FDAAF138124B83E09ECB0B7': <oic.oic.Client object at 0x10b8d7850>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10b8c29d0>, 'PORT': 8666}
2013-09-12 15:55:45,644 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10b8d78d0>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:04e9166b-4e9e-4fc4-90de-c6f2d87234f7': <oic.oic.Grant object at 0x10b8d7b90>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:d564bb53-bcd3-4681-bb99-d0049b958157'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'752d0efd580196880c72f1a5e68d9e46f25c856a855b350a2d988ea9'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10b8d7a90>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/919D3F697FDAAF138124B83E09ECB0B7']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10b8d7210>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'G59vGmri6fNL'), ('registration_expires', 1379076929), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10b8d7890>), ('client_prefs', {}), ('registration_access_token', u'hR5c1zXNO6HlspZsFUtCcra8NbqEv9Vi'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 15:55:45,645 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile', 'email', 'address', 'phone'], 'state': 'urn:uuid:d564bb53-bcd3-4681-bb99-d0049b958157', 'response_type': 'code'}
2013-09-12 15:55:45,646 rp.openidconnect:DEBUG request: scope=openid+profile+email+address+phone&state=urn%3Auuid%3Ad564bb53-bcd3-4681-bb99-d0049b958157&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=G59vGmri6fNL
2013-09-12 15:55:45,647 rp.openidconnect:DEBUG body: None
2013-09-12 15:55:45,647 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile+email+address+phone&state=urn%3Auuid%3Ad564bb53-bcd3-4681-bb99-d0049b958157&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=G59vGmri6fNL
2013-09-12 15:55:45,647 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 15:55:45,648 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile+email+address+phone&state=urn%3Auuid%3Ad564bb53-bcd3-4681-bb99-d0049b958157&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=G59vGmri6fNL')]
2013-09-12 15:55:45,697 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10b8c2a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile+email+address+phone&state=urn%3Auuid%3Ad564bb53-bcd3-4681-bb99-d0049b958157&code=dzENaHft0RHdsT%2FIDJNTtMXPoJb4Wp1YywvRyXvfgWej7reD75JpAR9VHbPC3PSL', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56739', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10b8d2890>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10b8d7850>, '_accessed_time': 1378994145.696619, 'service': u'https://localhost:8092/', '_creation_time': 1378994120.062857}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile+email+address+phone&state=urn%3Auuid%3Ad564bb53-bcd3-4681-bb99-d0049b958157&code=dzENaHft0RHdsT%2FIDJNTtMXPoJb4Wp1YywvRyXvfgWej7reD75JpAR9VHbPC3PSL', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x109ceb270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:55:45,697 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile email address phone'], 'state': ['urn:uuid:d564bb53-bcd3-4681-bb99-d0049b958157'], 'code': ['dzENaHft0RHdsT/IDJNTtMXPoJb4Wp1YywvRyXvfgWej7reD75JpAR9VHbPC3PSL']}
2013-09-12 15:55:45,698 rp.openidconnect:DEBUG info: {'scope': ['openid profile email address phone'], 'state': ['urn:uuid:d564bb53-bcd3-4681-bb99-d0049b958157'], 'code': ['dzENaHft0RHdsT/IDJNTtMXPoJb4Wp1YywvRyXvfgWej7reD75JpAR9VHbPC3PSL']}
2013-09-12 15:55:45,699 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 15:55:45,700 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10b8c2a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile+email+address+phone&state=urn%3Auuid%3Ad564bb53-bcd3-4681-bb99-d0049b958157&code=dzENaHft0RHdsT%2FIDJNTtMXPoJb4Wp1YywvRyXvfgWej7reD75JpAR9VHbPC3PSL', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56739', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10b8d2890>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10b8d7850>, '_accessed_time': 1378994145.696619, 'service': u'https://localhost:8092/', '_creation_time': 1378994120.062857}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile+email+address+phone&state=urn%3Auuid%3Ad564bb53-bcd3-4681-bb99-d0049b958157&code=dzENaHft0RHdsT%2FIDJNTtMXPoJb4Wp1YywvRyXvfgWej7reD75JpAR9VHbPC3PSL', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x109ceb270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:55:45,700 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10b84d998>]
2013-09-12 15:55:45,701 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=dzENaHft0RHdsT%2FIDJNTtMXPoJb4Wp1YywvRyXvfgWej7reD75JpAR9VHbPC3PSL&client_secret=752d0efd580196880c72f1a5e68d9e46f25c856a855b350a2d988ea9&grant_type=authorization_code&client_id=G59vGmri6fNL&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7
2013-09-12 15:55:45,702 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 15:55:45,707 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:55:45,752 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 15:55:45,754 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 13:55:45 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 15:55:45,755 oic.oauth2:DEBUG resp.txt: {"access_token": "dzENaHft0RHdsT/IDJNTtN2IVKLfF07pqVnczciAjENMVqrM9RojsEAAYqRKNc8f", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIkc1OXZHbXJpNmZOTCJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA3MzM0NSwgImlhdCI6IDEzNzg5OTQxNDUsICJzdWIiOiAiaGFobzAwMzIifQ.pmd8FO1fMqjgEik1dIZhF0ygWiE45QMoonu_ItrVsf4NzfVdCF2smxf_5K-pgAB8x0xHkve41b0f_n_bR-5xKXE8UA0SP9Jp_jsu1B9vVRBqNgIVmpELGie6v7w4uyaW5kNCaDRQ3t-wO4h1CAIYsPy9ewmeKVtZdg9PRo4QKvqWcsUqoJUjjKL-TbboPPh6CAsNtWTPDrQH7tq58bqbrJ0LGw-ooJ_rekhDxZ5sEo3F_bUDb2Ecqz-V5ppJoQsqF_Oq2Siph0B8VAhCLNuyVc5yjKgsoKeQ-SStNV80_FaWujjSQF61iS0j8nEZiPtXg7XuiE27-yY4TNVd8KmRdA", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:d564bb53-bcd3-4681-bb99-d0049b958157", "scope": "openid profile email address phone", "refresh_token": "dzENaHft0RHdsT/IDJNTtIU5AVPZQXtzoGqSDVxb3Qkgj1Mo/nEG/BP6WX/vnIbV"}
2013-09-12 15:55:45,756 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 15:55:45,759 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'dzENaHft0RHdsT/IDJNTtN2IVKLfF07pqVnczciAjENMVqrM9RojsEAAYqRKNc8f', 'request': 'openid', 'schema': 'openid'}
2013-09-12 15:55:45,759 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=dzENaHft0RHdsT%2FIDJNTtN2IVKLfF07pqVnczciAjENMVqrM9RojsEAAYqRKNc8f H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 15:55:45,764 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:55:45,798 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 15:55:45,800 oic.oic:DEBUG Reponse text: '{"phone_number": "+46 90 7865000", "family_name": "H\u00f6rberg", "name": "Hans H\u00f6rberg", "email_verified": false, "given_name": "Hans", "address": {"country": "Sweden", "postal_code": "SE-90187", "street_address": "Ume\u00e5 Universitet", "locality": "Ume\u00e5"}, "nickname": "Hasse", "email": "hans@example.org", "sub": "haho0032"}'
2013-09-12 15:55:45,803 rp.openidconnect:DEBUG UserInfo: phone_number=%2B46+90+7865000&family_name=H%C3%B6rberg&name=Hans+H%C3%B6rberg&email_verified=False&given_name=Hans&address=country%3DSweden%26postal_code%3DSE-90187%26street_address%3DUme%25C3%25A5%2BUniversitet%26locality%3DUme%25C3%25A5&nickname=Hasse&email=hans%40example.org&sub=haho0032
2013-09-12 15:55:45,804 rp:DEBUG [do_pyoidcOIC] response: (True, {'phone_number': u'+46 90 7865000', 'family_name': u'H\xf6rberg', 'name': u'Hans H\xf6rberg', 'email_verified': False, 'given_name': u'Hans', 'address': {'country': u'Sweden', 'postal_code': u'SE-90187', 'street_address': u'Ume\xe5 Universitet', 'locality': u'Ume\xe5'}, 'nickname': u'Hasse', 'email': u'hans@example.org', 'sub': u'haho0032'}, u'dzENaHft0RHdsT/IDJNTtN2IVKLfF07pqVnczciAjENMVqrM9RojsEAAYqRKNc8f', <oic.oic.Client object at 0x10b8d7850>)
2013-09-12 15:55:45,872 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 15:55:45,875 root:INFO [static]sending: static/style.css
2013-09-12 15:55:45,877 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 15:55:45,880 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 15:55:48,691 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 15:55:48,692 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 15:55:48,692 root:INFO [static]sending: static/style.css
2013-09-12 15:55:48,697 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 15:55:55,263 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 15:55:55,264 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b8c2a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': u'OIDC server with discovery url: https://localhost:8092/', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x109d97fd0>, 'scope': ['openid', 'profile', 'email', 'address', 'phone'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b8c2ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10b8c2b10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b8c2a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': u'OIDC server with discovery url: https://localhost:8092/', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x109d97fd0>, 'scope': ['openid', 'profile', 'email', 'address', 'phone'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b8c2ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10b8c2b10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'919D3F697FDAAF138124B83E09ECB0B7': <oic.oic.Client object at 0x10b8d7850>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10b8c29d0>, 'PORT': 8666}
2013-09-12 15:55:59,864 rp.openidconnect:INFO client args: [('registration_endpoint', ''), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', 'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:de5b8d62-af43-4b4d-a41a-79c490ee58d6'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10b8e4850>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICStatic']), ('id_token', None), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', 'VJNL62bPdOnn'), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', 'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10b8e4a50>), ('client_prefs', {}), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', 'https://localhost:8092/authorization')]
2013-09-12 15:55:59,864 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:de5b8d62-af43-4b4d-a41a-79c490ee58d6', 'response_type': 'code'}
2013-09-12 15:55:59,866 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Ade5b8d62-af43-4b4d-a41a-79c490ee58d6&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 15:55:59,866 rp.openidconnect:DEBUG body: None
2013-09-12 15:55:59,867 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ade5b8d62-af43-4b4d-a41a-79c490ee58d6&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 15:55:59,867 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 15:55:59,868 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ade5b8d62-af43-4b4d-a41a-79c490ee58d6&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn')]
2013-09-12 15:55:59,909 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10b8c2a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ade5b8d62-af43-4b4d-a41a-79c490ee58d6&code=Ah3hcbI9fV0OWkJFGjYN%2BI3Oy%2BecyznIdW5OCjjaqLbnjHcW77epXtJC5zdeQX0M', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56753', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10b8e4790>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10b8e4ad0>, '_accessed_time': 1378994159.908894, 'service': u'https://localhost:8092/', '_creation_time': 1378994120.062857}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&state=urn%3Auuid%3Ade5b8d62-af43-4b4d-a41a-79c490ee58d6&code=Ah3hcbI9fV0OWkJFGjYN%2BI3Oy%2BecyznIdW5OCjjaqLbnjHcW77epXtJC5zdeQX0M', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x109ceb270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:55:59,910 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:de5b8d62-af43-4b4d-a41a-79c490ee58d6'], 'code': ['Ah3hcbI9fV0OWkJFGjYN+I3Oy+ecyznIdW5OCjjaqLbnjHcW77epXtJC5zdeQX0M']}
2013-09-12 15:55:59,910 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:de5b8d62-af43-4b4d-a41a-79c490ee58d6'], 'code': ['Ah3hcbI9fV0OWkJFGjYN+I3Oy+ecyznIdW5OCjjaqLbnjHcW77epXtJC5zdeQX0M']}
2013-09-12 15:55:59,914 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:55:59,942 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-12 15:55:59,947 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}'], 'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 15:55:59,947 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10b8c2a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ade5b8d62-af43-4b4d-a41a-79c490ee58d6&code=Ah3hcbI9fV0OWkJFGjYN%2BI3Oy%2BecyznIdW5OCjjaqLbnjHcW77epXtJC5zdeQX0M', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56753', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10b8e4790>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10b8e4ad0>, '_accessed_time': 1378994159.908894, 'service': u'https://localhost:8092/', '_creation_time': 1378994120.062857}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&state=urn%3Auuid%3Ade5b8d62-af43-4b4d-a41a-79c490ee58d6&code=Ah3hcbI9fV0OWkJFGjYN%2BI3Oy%2BecyznIdW5OCjjaqLbnjHcW77epXtJC5zdeQX0M', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x109ceb270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:55:59,949 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=Ah3hcbI9fV0OWkJFGjYN%2BI3Oy%2BecyznIdW5OCjjaqLbnjHcW77epXtJC5zdeQX0M&client_secret=1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1&grant_type=authorization_code&client_id=VJNL62bPdOnn&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic
2013-09-12 15:55:59,949 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 15:55:59,954 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:55:59,999 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 15:56:00,001 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 13:55:59 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 15:56:00,002 oic.oauth2:DEBUG resp.txt: {"access_token": "Ah3hcbI9fV0OWkJFGjYN+KgyWm94f9GOq95Xk3lylRnx03YJr2xZfCntVCKrkxYk", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIlZKTkw2MmJQZE9ubiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA3MzM1OSwgImlhdCI6IDEzNzg5OTQxNTksICJzdWIiOiAiaGFobzAwMzIifQ.x3dZQbBfy0T9D4mGgapZx7dvFqhgFRCXGc1aU2b9DIsMdlsbCAJGw_5h-FW05DdaZJwVqSu7bUFKtlJuvH4dxPtywK3QRh2AoAM6IJf8tXxHA43ng8qdWbEW_SWWKBQ5mha0Rx4IaFL2k_BLDN1q_LJcKA-Tj8SCJGBgNWB_yqsAypvvOGi8BDskndLRUpEH_nZ-tbST8S1j0bInDhOA_zRJ-ojPJbpsgi_sjeYiEDx2AxWBcAMqIPBwxbGwEZ-6cUOcsHzAHiBDjy_0-FQRDU8vIFC7Lx-pnZv1p-k3M1pC_EZLl5uPnJWSL0nJJhpFai9bf63aqwHceaIESeBaxg", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:de5b8d62-af43-4b4d-a41a-79c490ee58d6", "scope": "openid profile", "refresh_token": "Ah3hcbI9fV0OWkJFGjYN+OVfOY5jk83k7kvj8tfoIJN9FZw/8aNaCKFV5ktXvyai"}
2013-09-12 15:56:00,003 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 15:56:00,006 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'Ah3hcbI9fV0OWkJFGjYN+KgyWm94f9GOq95Xk3lylRnx03YJr2xZfCntVCKrkxYk', 'request': 'openid', 'schema': 'openid'}
2013-09-12 15:56:00,007 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=Ah3hcbI9fV0OWkJFGjYN%2BKgyWm94f9GOq95Xk3lylRnx03YJr2xZfCntVCKrkxYk H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 15:56:00,011 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:56:00,044 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 15:56:00,046 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-12 15:56:00,048 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-12 15:56:00,048 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'Ah3hcbI9fV0OWkJFGjYN+KgyWm94f9GOq95Xk3lylRnx03YJr2xZfCntVCKrkxYk', <oic.oic.Client object at 0x10b8e4ad0>)
2013-09-12 15:56:00,062 root:INFO [static]sending: static/style.css
2013-09-12 15:56:00,070 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 15:56:00,070 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 15:56:00,071 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 15:56:06,076 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 15:56:06,079 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 15:56:06,079 root:INFO [static]sending: static/style.css
2013-09-12 15:56:06,080 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 15:56:07,821 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 15:56:07,822 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b8c2a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': u'OIDC server with discovery url: https://localhost:8092/', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x109d97fd0>, 'scope': ['openid', 'profile', 'email', 'address', 'phone'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b8c2ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10b8c2b10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b8c2a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': u'OIDC server with discovery url: https://localhost:8092/', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x109d97fd0>, 'scope': ['openid', 'profile', 'email', 'address', 'phone'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'opKey': 'pyoidcOICDyn', 'client_id': 'None', 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10b8c2ad0>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'srv_discovery_url': 'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10b8c2b10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICStatic': <oic.oic.Client object at 0x10b8e4ad0>, '919D3F697FDAAF138124B83E09ECB0B7': <oic.oic.Client object at 0x10b8d7850>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10b8c29d0>, 'PORT': 8666}
2013-09-12 15:56:07,823 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10b8d78d0>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {'urn:uuid:d564bb53-bcd3-4681-bb99-d0049b958157': <oic.oic.Grant object at 0x10b8e4e90>, 'urn:uuid:04e9166b-4e9e-4fc4-90de-c6f2d87234f7': <oic.oic.Grant object at 0x10b8d7b90>}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:e04f460b-26c7-4d5c-9e65-0de7edfc17ec'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'752d0efd580196880c72f1a5e68d9e46f25c856a855b350a2d988ea9'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10b8d7a90>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/919D3F697FDAAF138124B83E09ECB0B7']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10b8d7210>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'G59vGmri6fNL'), ('registration_expires', 1379076929), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10b8d7890>), ('client_prefs', {}), ('registration_access_token', u'hR5c1zXNO6HlspZsFUtCcra8NbqEv9Vi'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 15:56:07,823 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile', 'email', 'address', 'phone'], 'state': 'urn:uuid:e04f460b-26c7-4d5c-9e65-0de7edfc17ec', 'response_type': 'code'}
2013-09-12 15:56:07,825 rp.openidconnect:DEBUG request: scope=openid+profile+email+address+phone&state=urn%3Auuid%3Ae04f460b-26c7-4d5c-9e65-0de7edfc17ec&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=G59vGmri6fNL
2013-09-12 15:56:07,826 rp.openidconnect:DEBUG body: None
2013-09-12 15:56:07,826 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile+email+address+phone&state=urn%3Auuid%3Ae04f460b-26c7-4d5c-9e65-0de7edfc17ec&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=G59vGmri6fNL
2013-09-12 15:56:07,826 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 15:56:07,827 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile+email+address+phone&state=urn%3Auuid%3Ae04f460b-26c7-4d5c-9e65-0de7edfc17ec&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=G59vGmri6fNL')]
2013-09-12 15:56:07,860 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10b8c2a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile+email+address+phone&state=urn%3Auuid%3Ae04f460b-26c7-4d5c-9e65-0de7edfc17ec&code=bb7Dxt%2FoOs0DUJiKY%2FZWHtxCeswgJJ5Hlx%2F%2FVa%2FxUOvYvDhFd61k%2BfGtJOAcY0lc', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56765', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10b8e4550>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10b8d7850>, '_accessed_time': 1378994167.859721, 'service': u'https://localhost:8092/', '_creation_time': 1378994120.062857}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile+email+address+phone&state=urn%3Auuid%3Ae04f460b-26c7-4d5c-9e65-0de7edfc17ec&code=bb7Dxt%2FoOs0DUJiKY%2FZWHtxCeswgJJ5Hlx%2F%2FVa%2FxUOvYvDhFd61k%2BfGtJOAcY0lc', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x109ceb270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:56:07,861 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile email address phone'], 'state': ['urn:uuid:e04f460b-26c7-4d5c-9e65-0de7edfc17ec'], 'code': ['bb7Dxt/oOs0DUJiKY/ZWHtxCeswgJJ5Hlx//Va/xUOvYvDhFd61k+fGtJOAcY0lc']}
2013-09-12 15:56:07,861 rp.openidconnect:DEBUG info: {'scope': ['openid profile email address phone'], 'state': ['urn:uuid:e04f460b-26c7-4d5c-9e65-0de7edfc17ec'], 'code': ['bb7Dxt/oOs0DUJiKY/ZWHtxCeswgJJ5Hlx//Va/xUOvYvDhFd61k+fGtJOAcY0lc']}
2013-09-12 15:56:07,862 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 15:56:07,863 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10b8c2a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile+email+address+phone&state=urn%3Auuid%3Ae04f460b-26c7-4d5c-9e65-0de7edfc17ec&code=bb7Dxt%2FoOs0DUJiKY%2FZWHtxCeswgJJ5Hlx%2F%2FVa%2FxUOvYvDhFd61k%2BfGtJOAcY0lc', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56765', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10b8e4550>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10b8d7850>, '_accessed_time': 1378994167.859721, 'service': u'https://localhost:8092/', '_creation_time': 1378994120.062857}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile+email+address+phone&state=urn%3Auuid%3Ae04f460b-26c7-4d5c-9e65-0de7edfc17ec&code=bb7Dxt%2FoOs0DUJiKY%2FZWHtxCeswgJJ5Hlx%2F%2FVa%2FxUOvYvDhFd61k%2BfGtJOAcY0lc', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x109ceb270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:56:07,864 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10b84d998>]
2013-09-12 15:56:07,865 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=bb7Dxt%2FoOs0DUJiKY%2FZWHtxCeswgJJ5Hlx%2F%2FVa%2FxUOvYvDhFd61k%2BfGtJOAcY0lc&client_secret=752d0efd580196880c72f1a5e68d9e46f25c856a855b350a2d988ea9&grant_type=authorization_code&client_id=G59vGmri6fNL&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7
2013-09-12 15:56:07,865 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 15:56:07,870 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:56:07,915 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 15:56:07,917 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 13:56:07 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 15:56:07,918 oic.oauth2:DEBUG resp.txt: {"access_token": "bb7Dxt/oOs0DUJiKY/ZWHj1GaqqxT/jOM7zxdgYAQsERPXyXoIUeNtPLwdzkStE3", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIkc1OXZHbXJpNmZOTCJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA3MzM2NywgImlhdCI6IDEzNzg5OTQxNjcsICJzdWIiOiAiaGFobzAwMzIifQ.AELYq8Ob8fpzwc83D6r0l04ButcPUIIM_DaM-Zm0ssnVHjCgIWCyMlMntun6eeBg5Sfj5xeGv4b30__Chrhsu84dPXGJXPS56eTZ4EYzchU8iDLwx2PoQUyvVoiNzRPYtG6obo0GsBXgogkvNipiLN_VZcAtwNLtjuUvj9D5pK5uMeBT5BZ8ANWi-Pw3LVG15wHrqNDS-1kss8l_m6li8qoLNoBJ4mG5UFSnKpVO_ZuilY3k02wKr-AoGqDMIgnvgdIF5qq4-LmbWC6TNSiXq8iQrk4cvUeCyppYJlv69vABBd7odyDgCNNzbckowupfJbt_KAPgBX0U11y4yu-79A", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:e04f460b-26c7-4d5c-9e65-0de7edfc17ec", "scope": "openid profile email address phone", "refresh_token": "bb7Dxt/oOs0DUJiKY/ZWHtWlwc2eOfUmxnzn0V0pAnPJiG1yfMm2N/rLLtWpZKtC"}
2013-09-12 15:56:07,919 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 15:56:07,921 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'bb7Dxt/oOs0DUJiKY/ZWHj1GaqqxT/jOM7zxdgYAQsERPXyXoIUeNtPLwdzkStE3', 'request': 'openid', 'schema': 'openid'}
2013-09-12 15:56:07,922 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=bb7Dxt%2FoOs0DUJiKY%2FZWHj1GaqqxT%2FjOM7zxdgYAQsERPXyXoIUeNtPLwdzkStE3 H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 15:56:07,927 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:56:07,961 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 15:56:07,963 oic.oic:DEBUG Reponse text: '{"phone_number": "+46 90 7865000", "family_name": "H\u00f6rberg", "name": "Hans H\u00f6rberg", "email_verified": false, "given_name": "Hans", "address": {"country": "Sweden", "postal_code": "SE-90187", "street_address": "Ume\u00e5 Universitet", "locality": "Ume\u00e5"}, "nickname": "Hasse", "email": "hans@example.org", "sub": "haho0032"}'
2013-09-12 15:56:07,966 rp.openidconnect:DEBUG UserInfo: phone_number=%2B46+90+7865000&family_name=H%C3%B6rberg&name=Hans+H%C3%B6rberg&email_verified=False&given_name=Hans&address=country%3DSweden%26postal_code%3DSE-90187%26street_address%3DUme%25C3%25A5%2BUniversitet%26locality%3DUme%25C3%25A5&nickname=Hasse&email=hans%40example.org&sub=haho0032
2013-09-12 15:56:07,966 rp:DEBUG [do_pyoidcOIC] response: (True, {'phone_number': u'+46 90 7865000', 'family_name': u'H\xf6rberg', 'name': u'Hans H\xf6rberg', 'email_verified': False, 'given_name': u'Hans', 'address': {'country': u'Sweden', 'postal_code': u'SE-90187', 'street_address': u'Ume\xe5 Universitet', 'locality': u'Ume\xe5'}, 'nickname': u'Hasse', 'email': u'hans@example.org', 'sub': u'haho0032'}, u'bb7Dxt/oOs0DUJiKY/ZWHj1GaqqxT/jOM7zxdgYAQsERPXyXoIUeNtPLwdzkStE3', <oic.oic.Client object at 0x10b8d7850>)
2013-09-12 15:56:07,978 root:INFO [static]sending: static/style.css
2013-09-12 15:56:07,981 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 15:56:07,984 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 15:56:07,987 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 15:56:10,166 root:INFO [static]sending: static/style.css
2013-09-12 15:56:10,167 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 15:56:10,168 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 15:56:10,171 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 15:56:12,033 rp.oauth2:INFO [OAuth2] callback url: https://localhost:8092/authorization?scope=openid+profile&state=YlrLEjYVrhiP2tHR&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth&response_type=code&client_id=u1fD2wvxhw0S
2013-09-12 15:56:12,074 rp:DEBUG [do_pyoidcOAuth2] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10b8c2a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOAuth', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=YlrLEjYVrhiP2tHR&code=Q%2FF3sqcSv8P1u1xcei9lMZU5AyO56JD%2Bwd1UAWRohGS9fEPCMIX0EzmoKqgDqwxI', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56773', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10b8f3950>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10b8d7850>, '_accessed_time': 1378994172.073692, 'service': u'https://localhost:8092/', '_creation_time': 1378994120.062857}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOAuth?scope=openid+profile&state=YlrLEjYVrhiP2tHR&code=Q%2FF3sqcSv8P1u1xcei9lMZU5AyO56JD%2Bwd1UAWRohGS9fEPCMIX0EzmoKqgDqwxI', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x109ceb270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:56:12,074 rp:DEBUG [do_pyoidcOAuth2] query: {'scope': ['openid profile'], 'state': ['YlrLEjYVrhiP2tHR'], 'code': ['Q/F3sqcSv8P1u1xcei9lMZU5AyO56JD+wd1UAWRohGS9fEPCMIX0EzmoKqgDqwxI']}
2013-09-12 15:56:12,076 rp.oauth2:INFO Response: scope=openid+profile&state=YlrLEjYVrhiP2tHR&code=Q%2FF3sqcSv8P1u1xcei9lMZU5AyO56JD%2Bwd1UAWRohGS9fEPCMIX0EzmoKqgDqwxI
2013-09-12 15:56:12,077 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=Q%2FF3sqcSv8P1u1xcei9lMZU5AyO56JD%2Bwd1UAWRohGS9fEPCMIX0EzmoKqgDqwxI&client_secret=1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560&grant_type=authorization_code&client_id=u1fD2wvxhw0S&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth
2013-09-12 15:56:12,077 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oauth2.message.AccessTokenResponse'>
2013-09-12 15:56:12,082 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:56:12,127 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 15:56:12,130 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 13:56:12 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 15:56:12,130 oic.oauth2:DEBUG resp.txt: {"access_token": "Q/F3sqcSv8P1u1xcei9lMR7cratOM3RDfRZOKbDKDmKYtW/gehTlxQ367YTsasKx", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbInUxZkQyd3Z4aHcwUyJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA3MzM3MiwgImlhdCI6IDEzNzg5OTQxNzIsICJzdWIiOiAiaGFobzAwMzIifQ.XTjOqb7avv9jgNrQB8oW1hHiHqym2ADFcY-errrAYxViKKSv3g7kPVjN3c7By2IqDKKclimeyrtIgMFCVSYTXHfQ6tOby18K4WkvpPusXQjXtwEcNPpxcswwdAfw6bBY5I8cLMOmIDGmHX98xaNt7e6zZEJ3yKX1X8sjyOpZQ6yeTpB-IXPgk-3irQGtriXEdbaSw10vx_BEAO3N-1ZcekQjMFXSc3TbPdpm-x0Mf4aeDkftwtojEN6_Kr8VJAkJWQy9hLiKQzmRaTNPVN6l54XODJYrJcYGbLbN__QHj1dMwGlcmV-fDvoQ3-spyP0sYWLbSSEb6-TRhlNyzjTtaQ", "expires_in": 3600, "token_type": "Bearer", "state": "YlrLEjYVrhiP2tHR", "scope": "openid profile", "refresh_token": "Q/F3sqcSv8P1u1xcei9lMcgJ8oPffiMHoyiACasFxf39x/NqnAVog5+N9NTprhxq"}
2013-09-12 15:56:12,132 oic.oauth2:DEBUG Fetch URI: https://localhost:8092/userinfo
2013-09-12 15:56:12,136 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:56:12,168 requests.packages.urllib3.connectionpool:DEBUG "GET /userinfo HTTP/1.1" 200 None
2013-09-12 15:56:12,170 rp.oauth2:INFO Userinfo: {"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}
2013-09-12 15:56:15,268 rp:DEBUG [do_pyoidcOAuth2] response: (True, {u'family_name': u'H\xf6rberg', u'sub': u'haho0032', u'nickname': u'Hasse', u'given_name': u'Hans', u'name': u'Hans H\xf6rberg'}, u'Q/F3sqcSv8P1u1xcei9lMR7cratOM3RDfRZOKbDKDmKYtW/gehTlxQ367YTsasKx', <oic.oauth2.Client object at 0x10b8dc8d0>)
2013-09-12 15:56:15,286 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 15:56:15,286 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 15:56:15,287 root:INFO [static]sending: static/style.css
2013-09-12 15:56:15,288 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 15:56:43,590 root:INFO [static]sending: static/style.css
2013-09-12 15:56:43,594 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 15:56:43,597 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 15:56:43,600 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 15:56:44,849 rp.oauth2:INFO [OAuth2] callback url: https://localhost:8092/authorization?scope=openid+profile&state=hfApy3TRo50LbPj5&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth&response_type=code&client_id=u1fD2wvxhw0S
2013-09-12 15:56:44,903 rp:DEBUG [do_pyoidcOAuth2] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10b8c2a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOAuth', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=hfApy3TRo50LbPj5&code=QRMNYffFvYF0p1fP0ke8A3bEQuHDLHQYiou3MCGfo1zVpzUHgDZgKT%2FcvbLmdogl', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56785', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10b8e7c90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10b8d7850>, '_accessed_time': 1378994204.90271, 'service': u'https://localhost:8092/', '_creation_time': 1378994120.062857}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOAuth?scope=openid+profile&state=hfApy3TRo50LbPj5&code=QRMNYffFvYF0p1fP0ke8A3bEQuHDLHQYiou3MCGfo1zVpzUHgDZgKT%2FcvbLmdogl', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x109ceb270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:56:44,903 rp:DEBUG [do_pyoidcOAuth2] query: {'scope': ['openid profile'], 'state': ['hfApy3TRo50LbPj5'], 'code': ['QRMNYffFvYF0p1fP0ke8A3bEQuHDLHQYiou3MCGfo1zVpzUHgDZgKT/cvbLmdogl']}
2013-09-12 15:56:44,904 rp.oauth2:INFO Response: scope=openid+profile&state=hfApy3TRo50LbPj5&code=QRMNYffFvYF0p1fP0ke8A3bEQuHDLHQYiou3MCGfo1zVpzUHgDZgKT%2FcvbLmdogl
2013-09-12 15:56:44,906 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=QRMNYffFvYF0p1fP0ke8A3bEQuHDLHQYiou3MCGfo1zVpzUHgDZgKT%2FcvbLmdogl&client_secret=1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560&grant_type=authorization_code&client_id=u1fD2wvxhw0S&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth
2013-09-12 15:56:44,906 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oauth2.message.AccessTokenResponse'>
2013-09-12 15:56:44,910 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:56:44,961 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 15:56:44,962 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 13:56:44 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 15:56:44,963 oic.oauth2:DEBUG resp.txt: {"access_token": "QRMNYffFvYF0p1fP0ke8A9pWb4dAbxnoVnIbrouInPbhcWFt0P4Z1v5jYFy1lhXC", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbInUxZkQyd3Z4aHcwUyJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA3MzQwNCwgImlhdCI6IDEzNzg5OTQyMDQsICJzdWIiOiAiaGFobzAwMzIifQ.sLoNOyYVK8mFI0BzQ5T_Yt-_zaHiEnUBsCZcqC1BmncpwBs7_BFvYLIMXVqwHpDoay75QYlsLX5Pu06AKZki7R4_RDqDZD60D-ZVX4t_2x9NOCXT-jkHvuIrHzGl2BuemaIIU4qGMmcRSUO_6qTQ2qdfcArXJfDpl4agqD3ASvxFhrkjX1QycapLqckNw9OYsb027IsfgBmSAOC5enzNWP6mKiLJupV_0pYkQFcR_jPqPo9BmC5FosKZ5wBvjIN3unr6PJbDIQKr8SRA-cGzmUzbO4fZgns1ucAI1_eICHtXb0FzwrsZ9xe3e2qaB_TQuTMgVBS0hOgunmLE1ztbYw", "expires_in": 3600, "token_type": "Bearer", "state": "hfApy3TRo50LbPj5", "scope": "openid profile", "refresh_token": "QRMNYffFvYF0p1fP0ke8Ay75YO9tdQC8CEVY7R1+3SZabqyW47e5iBVgOMyzcomN"}
2013-09-12 15:56:44,964 oic.oauth2:DEBUG Fetch URI: https://localhost:8092/userinfo
2013-09-12 15:56:44,969 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:56:45,002 requests.packages.urllib3.connectionpool:DEBUG "GET /userinfo HTTP/1.1" 200 None
2013-09-12 15:56:45,004 rp.oauth2:INFO Userinfo: {"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}
2013-09-12 15:56:45,005 rp:DEBUG [do_pyoidcOAuth2] response: (True, {u'family_name': u'H\xf6rberg', u'sub': u'haho0032', u'nickname': u'Hasse', u'given_name': u'Hans', u'name': u'Hans H\xf6rberg'}, u'QRMNYffFvYF0p1fP0ke8A9pWb4dAbxnoVnIbrouInPbhcWFt0P4Z1v5jYFy1lhXC', <oic.oauth2.Client object at 0x10b8e7fd0>)
2013-09-12 15:56:54,852 root:INFO [static]sending: static/style.css
2013-09-12 15:56:54,853 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 15:56:54,859 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 15:56:54,860 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 15:58:10,034 root:INFO RP server starting listening on port:8666
2013-09-12 15:58:10,985 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 15:58:10,986 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 15:58:10,989 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 15:58:10,990 root:INFO [static]sending: static/style.css
2013-09-12 15:58:12,125 rp.oauth2:INFO [OAuth2] callback url: https://localhost:8092/authorization?scope=openid+profile&state=JOxarmnZFktBnX5D&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth&response_type=code&client_id=u1fD2wvxhw0S
2013-09-12 15:58:12,159 rp:DEBUG [do_pyoidcOAuth2] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x107258a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOAuth', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=JOxarmnZFktBnX5D&code=L2MW%2F%2Bd0w4yYRb9fGBw95m3TciYpIQM7METPbomIqRLjaMrWRskSibP%2FaXvmX2y0', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56804', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x107268390>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378994292.159091, '_creation_time': 1378994290.962447}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOAuth?scope=openid+profile&state=JOxarmnZFktBnX5D&code=L2MW%2F%2Bd0w4yYRb9fGBw95m3TciYpIQM7METPbomIqRLjaMrWRskSibP%2FaXvmX2y0', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x105684270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:58:12,160 rp:DEBUG [do_pyoidcOAuth2] query: {'scope': ['openid profile'], 'state': ['JOxarmnZFktBnX5D'], 'code': ['L2MW/+d0w4yYRb9fGBw95m3TciYpIQM7METPbomIqRLjaMrWRskSibP/aXvmX2y0']}
2013-09-12 15:58:12,161 rp.oauth2:INFO Response: scope=openid+profile&state=JOxarmnZFktBnX5D&code=L2MW%2F%2Bd0w4yYRb9fGBw95m3TciYpIQM7METPbomIqRLjaMrWRskSibP%2FaXvmX2y0
2013-09-12 15:58:12,163 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=L2MW%2F%2Bd0w4yYRb9fGBw95m3TciYpIQM7METPbomIqRLjaMrWRskSibP%2FaXvmX2y0&client_secret=1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560&grant_type=authorization_code&client_id=u1fD2wvxhw0S&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth
2013-09-12 15:58:12,163 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oauth2.message.AccessTokenResponse'>
2013-09-12 15:58:12,184 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:58:12,230 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 15:58:12,232 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 13:58:12 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 15:58:12,251 oic.oauth2:DEBUG resp.txt: {"access_token": "L2MW/+d0w4yYRb9fGBw95lY+CMP9iwI3QbVab6pEdN1Ny46koPGJVQmsHd3U0csQ", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbInUxZkQyd3Z4aHcwUyJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA3MzQ5MiwgImlhdCI6IDEzNzg5OTQyOTIsICJzdWIiOiAiaGFobzAwMzIifQ.A5xAElV5sDzRer5abllH2Ibkg3PySWGoahJoc3CCFeEjqiL7Dgxzd3ZwUX1aCCKD9BkTxBjZqzE2dDWQ03PBeqnf4DVd7KxrPcZlD8SCym8bI29myxarwvCjxyktlz5EEJih-6mwB6n7v8Y4v0MtFyF9wzjmFcvpeSbBw09r2NGmXivQnwcB4ouljPNiLkxBCrJVzBoQsvrcVv-D6ssKVEEld1C4BkjllyMulyegEsRZd02KNaIBBUVwcBUlTd_7vt_Bh0PGkESnes7QILLcGkzJ_qzbadAWP5bS_6W0Pz6eJ0ixDZWONPZ58PIn-ilHd09PoLETvPH1qhkjlErR7g", "expires_in": 3600, "token_type": "Bearer", "state": "JOxarmnZFktBnX5D", "scope": "openid profile", "refresh_token": "L2MW/+d0w4yYRb9fGBw95oBvIB8vvtykUMGlNoYWlImxnyTL9G159w93HiTSOs+m"}
2013-09-12 15:58:12,253 oic.oauth2:DEBUG Fetch URI: https://localhost:8092/userinfo
2013-09-12 15:58:12,257 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:58:12,290 requests.packages.urllib3.connectionpool:DEBUG "GET /userinfo HTTP/1.1" 200 None
2013-09-12 15:58:12,291 rp.oauth2:INFO Userinfo: {"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}
2013-09-12 15:58:12,292 rp:DEBUG [do_pyoidcOAuth2] response: (True, {u'family_name': u'H\xf6rberg', u'sub': u'haho0032', u'nickname': u'Hasse', u'given_name': u'Hans', u'name': u'Hans H\xf6rberg'}, u'L2MW/+d0w4yYRb9fGBw95lY+CMP9iwI3QbVab6pEdN1Ny46koPGJVQmsHd3U0csQ', <oic.oauth2.Client object at 0x107268510>)
2013-09-12 15:58:15,950 root:INFO [static]sending: static/style.css
2013-09-12 15:58:15,951 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 15:58:15,954 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 15:58:15,955 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 15:59:06,479 root:INFO RP server starting listening on port:8666
2013-09-12 15:59:07,577 root:INFO [static]sending: static/style.css
2013-09-12 15:59:07,581 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 15:59:07,582 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 15:59:07,587 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 15:59:08,771 rp.oauth2:INFO [OAuth2] callback url: https://localhost:8092/authorization?scope=openid+profile&state=IqZIAx9EIhLhWWjD&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth&response_type=code&client_id=u1fD2wvxhw0S
2013-09-12 15:59:08,814 rp:DEBUG [do_pyoidcOAuth2] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10bff5a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOAuth', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=IqZIAx9EIhLhWWjD&code=CmjISqYfhoxMQHZ%2FIYFoSVw2d%2F2E%2FYukR97P8NXiuc9bFV0urDlwS2%2Fj2SLZh%2FLw', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56820', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10c001d90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'_accessed_time': 1378994348.814011, '_creation_time': 1378994347.56193}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOAuth?scope=openid+profile&state=IqZIAx9EIhLhWWjD&code=CmjISqYfhoxMQHZ%2FIYFoSVw2d%2F2E%2FYukR97P8NXiuc9bFV0urDlwS2%2Fj2SLZh%2FLw', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10a41e270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:59:08,815 rp:DEBUG [do_pyoidcOAuth2] query: {'scope': ['openid profile'], 'state': ['IqZIAx9EIhLhWWjD'], 'code': ['CmjISqYfhoxMQHZ/IYFoSVw2d/2E/YukR97P8NXiuc9bFV0urDlwS2/j2SLZh/Lw']}
2013-09-12 15:59:08,816 rp.oauth2:INFO Response: scope=openid+profile&state=IqZIAx9EIhLhWWjD&code=CmjISqYfhoxMQHZ%2FIYFoSVw2d%2F2E%2FYukR97P8NXiuc9bFV0urDlwS2%2Fj2SLZh%2FLw
2013-09-12 15:59:08,817 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=CmjISqYfhoxMQHZ%2FIYFoSVw2d%2F2E%2FYukR97P8NXiuc9bFV0urDlwS2%2Fj2SLZh%2FLw&client_secret=1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560&grant_type=authorization_code&client_id=u1fD2wvxhw0S&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOAuth
2013-09-12 15:59:08,818 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oauth2.message.AccessTokenResponse'>
2013-09-12 15:59:08,839 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:59:08,884 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 15:59:08,886 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 13:59:08 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 15:59:08,905 oic.oauth2:DEBUG resp.txt: {"access_token": "CmjISqYfhoxMQHZ/IYFoSbIY7ABsekRsP5VB1Zd9z+KJCjBVtYdVuPmRpnFXcbGG", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbInUxZkQyd3Z4aHcwUyJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA3MzU0OCwgImlhdCI6IDEzNzg5OTQzNDgsICJzdWIiOiAiaGFobzAwMzIifQ.XZrvZ3SxEIViEp4zkKi48_rFyx3oyvi9VZXh2A_9LAh0j0So0yOk__j-zzouAjvQ0LspaO_BEGU2abis6yAeftbYzf_ZXPzBg9u5yAwlKmDBrfuvZvSbSqgFZxRvjenIYVuO11pA1dSBe48szNvQEPW6Ui_ndjpFHQqSHFl0vYI027q9Z6vQEx35V50Deu36EFEobsUXwbTKMuC2FcFj30yHLXGQoBXA35oPJmTUYnhC64PeVr43YjX4gL1T-eVcuO8bedmgXJKthV1MjvJbqWeTYbzPq2bCw6aVjVsumvAcrLNQyw31zJStwst4zM8BQ9feF_LqYSKx-hpkK7jtBg", "expires_in": 3600, "token_type": "Bearer", "state": "IqZIAx9EIhLhWWjD", "scope": "openid profile", "refresh_token": "CmjISqYfhoxMQHZ/IYFoSb3ED6JaPwq0hbKi9h5iZmNcYvxM48XuXaaoP8g+43r+"}
2013-09-12 15:59:08,907 oic.oauth2:DEBUG Fetch URI: https://localhost:8092/userinfo
2013-09-12 15:59:08,911 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:59:08,945 requests.packages.urllib3.connectionpool:DEBUG "GET /userinfo HTTP/1.1" 200 None
2013-09-12 15:59:08,947 rp.oauth2:INFO Userinfo: {"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}
2013-09-12 15:59:08,948 rp:DEBUG [do_pyoidcOAuth2] response: (True, {u'family_name': u'H\xf6rberg', u'sub': u'haho0032', u'nickname': u'Hasse', u'given_name': u'Hans', u'name': u'Hans H\xf6rberg'}, u'CmjISqYfhoxMQHZ/IYFoSbIY7ABsekRsP5VB1Zd9z+KJCjBVtYdVuPmRpnFXcbGG', <oic.oauth2.Client object at 0x10c005690>)
2013-09-12 15:59:08,965 root:INFO [static]sending: static/style.css
2013-09-12 15:59:08,971 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 15:59:08,974 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 15:59:08,975 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 15:59:10,545 root:INFO [static]sending: static/style.css
2013-09-12 15:59:10,550 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 15:59:10,553 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 15:59:10,557 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 15:59:11,859 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 15:59:11,859 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10bff5a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'instance': <rp.pyoidc.pyoidcOIC object at 0x10bff5ad0>, 'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'scope': ['openid', 'profile'], 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'pyoidcOIC', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'opKey': 'pyoidcOICDyn'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10bff5b10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10bff5a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'instance': <rp.pyoidc.pyoidcOIC object at 0x10bff5ad0>, 'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'scope': ['openid', 'profile'], 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'pyoidcOIC', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'opKey': 'pyoidcOICDyn'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10bff5b10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10bff59d0>, 'PORT': 8666}
2013-09-12 15:59:11,864 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:59:11,895 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-12 15:59:11,899 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-12 15:59:11,901 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 15:59:11,903 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 15:59:11,904 rp.openidconnect:DEBUG Registering RP
2013-09-12 15:59:11,909 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:59:11,944 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-12 15:59:11,947 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378990751&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DCO60IcBLwJLO&registration_access_token=HqTGOLFp6tgElYqnu5kx2e4hkLcnpBmk&client_id=CO60IcBLwJLO&client_secret=ff2981f6cce17c8ca6502684e27054277999bed269d79058031d62b4&client_secret_expires_at=1379077151
2013-09-12 15:59:11,949 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10a973a90>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:c158ab60-99b4-4b73-9b10-43d0ef43aa3f'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'ff2981f6cce17c8ca6502684e27054277999bed269d79058031d62b4'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10bf87290>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICDyn']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10bf81d10>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'CO60IcBLwJLO'), ('registration_expires', 1379077151), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10bf87310>), ('client_prefs', {}), ('registration_access_token', u'HqTGOLFp6tgElYqnu5kx2e4hkLcnpBmk'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 15:59:11,949 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:c158ab60-99b4-4b73-9b10-43d0ef43aa3f', 'response_type': 'code'}
2013-09-12 15:59:11,950 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3Ac158ab60-99b4-4b73-9b10-43d0ef43aa3f&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=CO60IcBLwJLO
2013-09-12 15:59:11,951 rp.openidconnect:DEBUG body: None
2013-09-12 15:59:11,951 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ac158ab60-99b4-4b73-9b10-43d0ef43aa3f&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=CO60IcBLwJLO
2013-09-12 15:59:11,952 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 15:59:11,952 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3Ac158ab60-99b4-4b73-9b10-43d0ef43aa3f&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn&response_type=code&client_id=CO60IcBLwJLO')]
2013-09-12 15:59:11,987 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10bff5a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ac158ab60-99b4-4b73-9b10-43d0ef43aa3f&code=fi%2B5LHTMbrvwN3pCiI4yzeKmpg86HONMXFdVT%2Fkfe%2Bhz%2Fh5vo7azvS4Z%2F%2Fqsiwwk', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56829', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10c001b90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10bf87210>, '_accessed_time': 1378994351.986937, 'service': u'https://localhost:8092/', '_creation_time': 1378994347.56193}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3Ac158ab60-99b4-4b73-9b10-43d0ef43aa3f&code=fi%2B5LHTMbrvwN3pCiI4yzeKmpg86HONMXFdVT%2Fkfe%2Bhz%2Fh5vo7azvS4Z%2F%2Fqsiwwk', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10a41e270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:59:11,988 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:c158ab60-99b4-4b73-9b10-43d0ef43aa3f'], 'code': ['fi+5LHTMbrvwN3pCiI4yzeKmpg86HONMXFdVT/kfe+hz/h5vo7azvS4Z//qsiwwk']}
2013-09-12 15:59:11,988 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:c158ab60-99b4-4b73-9b10-43d0ef43aa3f'], 'code': ['fi+5LHTMbrvwN3pCiI4yzeKmpg86HONMXFdVT/kfe+hz/h5vo7azvS4Z//qsiwwk']}
2013-09-12 15:59:11,992 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:59:12,021 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-12 15:59:12,025 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 15:59:12,026 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10bff5a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICDyn', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3Ac158ab60-99b4-4b73-9b10-43d0ef43aa3f&code=fi%2B5LHTMbrvwN3pCiI4yzeKmpg86HONMXFdVT%2Fkfe%2Bhz%2Fh5vo7azvS4Z%2F%2Fqsiwwk', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56829', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10c001b90>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10bf87210>, '_accessed_time': 1378994351.986937, 'service': u'https://localhost:8092/', '_creation_time': 1378994347.56193}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICDyn?scope=openid+profile&state=urn%3Auuid%3Ac158ab60-99b4-4b73-9b10-43d0ef43aa3f&code=fi%2B5LHTMbrvwN3pCiI4yzeKmpg86HONMXFdVT%2Fkfe%2Bhz%2Fh5vo7azvS4Z%2F%2Fqsiwwk', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10a41e270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:59:12,027 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10bf8a560>]
2013-09-12 15:59:12,028 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=fi%2B5LHTMbrvwN3pCiI4yzeKmpg86HONMXFdVT%2Fkfe%2Bhz%2Fh5vo7azvS4Z%2F%2Fqsiwwk&client_secret=ff2981f6cce17c8ca6502684e27054277999bed269d79058031d62b4&grant_type=authorization_code&client_id=CO60IcBLwJLO&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICDyn
2013-09-12 15:59:12,028 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 15:59:12,033 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:59:12,079 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 15:59:12,081 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 13:59:12 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 15:59:12,082 oic.oauth2:DEBUG resp.txt: {"access_token": "fi+5LHTMbrvwN3pCiI4yzbn48pLuvkAllXOEVVUD3nI0zhEv38P87aU/cZiEj/i+", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIkNPNjBJY0JMd0pMTyJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA3MzU1MiwgImlhdCI6IDEzNzg5OTQzNTIsICJzdWIiOiAiaGFobzAwMzIifQ.S53sRrBt1vG8-9-bfS5BW7sraInpIGfvNYNfRcylbeS-wE0d_MYJqDmRKzsc1CJG7Rr38KZOxkTqNZjlCtXM-R3l0Ijz8rJZnsdEjnH19ZxJHyuq8WWPODX5r-lWSEvMsB2I3eOAm_XcpYP963adDp2dyTBIr1zo_hsHAMxDc-VZj3YmRo0l0Sw4MLYJUpJnT2JJY7peBhwHWF-lgA6aFv3eJgMwhS3u-ugmX6NtA8K3HoxD4SYEySgdChDVeNE4_FvrpK2ES76c0mdkpu_gMr-yiPtO68rQdtc364Cp0Lznt-Yp4_NcDT3aVJS9ZeDoD8eIw8m8Fc169l1kKVkjNg", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:c158ab60-99b4-4b73-9b10-43d0ef43aa3f", "scope": "openid profile", "refresh_token": "fi+5LHTMbrvwN3pCiI4yzdKqXrWG/NU2cPJRIqaN+lI2DTvo/SayPlycyLllW7d9"}
2013-09-12 15:59:12,083 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 15:59:12,085 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'fi+5LHTMbrvwN3pCiI4yzbn48pLuvkAllXOEVVUD3nI0zhEv38P87aU/cZiEj/i+', 'request': 'openid', 'schema': 'openid'}
2013-09-12 15:59:12,086 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=fi%2B5LHTMbrvwN3pCiI4yzbn48pLuvkAllXOEVVUD3nI0zhEv38P87aU%2FcZiEj%2Fi%2B H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 15:59:12,091 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:59:12,123 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 15:59:12,125 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-12 15:59:12,127 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-12 15:59:12,127 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'fi+5LHTMbrvwN3pCiI4yzbn48pLuvkAllXOEVVUD3nI0zhEv38P87aU/cZiEj/i+', <oic.oic.Client object at 0x10bf87210>)
2013-09-12 15:59:12,144 root:INFO [static]sending: static/style.css
2013-09-12 15:59:12,145 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 15:59:12,146 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 15:59:12,148 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 15:59:15,364 root:INFO [static]sending: static/style.css
2013-09-12 15:59:15,366 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 15:59:15,367 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 15:59:15,369 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 15:59:16,540 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 15:59:16,540 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10bff5a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'instance': <rp.pyoidc.pyoidcOIC object at 0x10bff5ad0>, 'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'scope': ['openid', 'profile'], 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'pyoidcOIC', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'opKey': 'pyoidcOICDyn'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10bff5b10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10bff5a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, 'pyoidcOICDyn': {'instance': <rp.pyoidc.pyoidcOIC object at 0x10bff5ad0>, 'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'scope': ['openid', 'profile'], 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'pyoidcOIC', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'opKey': 'pyoidcOICDyn'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10bff5b10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICDyn': <oic.oic.Client object at 0x10bf87210>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10bff59d0>, 'PORT': 8666}
2013-09-12 15:59:23,934 rp.openidconnect:INFO client args: [('registration_endpoint', ''), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', 'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:60510344-079e-4096-be4b-9fa6d8ab7bfe'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10c011b90>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/pyoidcOICStatic']), ('id_token', None), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', 'VJNL62bPdOnn'), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', 'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10c011b10>), ('client_prefs', {}), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', 'https://localhost:8092/authorization')]
2013-09-12 15:59:23,935 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile'], 'state': 'urn:uuid:60510344-079e-4096-be4b-9fa6d8ab7bfe', 'response_type': 'code'}
2013-09-12 15:59:23,936 rp.openidconnect:DEBUG request: scope=openid+profile&state=urn%3Auuid%3A60510344-079e-4096-be4b-9fa6d8ab7bfe&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 15:59:23,937 rp.openidconnect:DEBUG body: None
2013-09-12 15:59:23,937 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A60510344-079e-4096-be4b-9fa6d8ab7bfe&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn
2013-09-12 15:59:23,938 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 15:59:23,938 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile&state=urn%3Auuid%3A60510344-079e-4096-be4b-9fa6d8ab7bfe&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic&response_type=code&client_id=VJNL62bPdOnn')]
2013-09-12 15:59:24,004 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10bff5a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A60510344-079e-4096-be4b-9fa6d8ab7bfe&code=J2guysPWLmzpnlXWXyR8S2asUuTbH0giDGRgg6f5BluFp4BrbqVy4SRBVBOGHTAq', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56841', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10bf70850>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10c011ad0>, '_accessed_time': 1378994364.003709, 'service': u'https://localhost:8092/', '_creation_time': 1378994347.56193}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&state=urn%3Auuid%3A60510344-079e-4096-be4b-9fa6d8ab7bfe&code=J2guysPWLmzpnlXWXyR8S2asUuTbH0giDGRgg6f5BluFp4BrbqVy4SRBVBOGHTAq', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10a41e270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:59:24,004 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile'], 'state': ['urn:uuid:60510344-079e-4096-be4b-9fa6d8ab7bfe'], 'code': ['J2guysPWLmzpnlXWXyR8S2asUuTbH0giDGRgg6f5BluFp4BrbqVy4SRBVBOGHTAq']}
2013-09-12 15:59:24,005 rp.openidconnect:DEBUG info: {'scope': ['openid profile'], 'state': ['urn:uuid:60510344-079e-4096-be4b-9fa6d8ab7bfe'], 'code': ['J2guysPWLmzpnlXWXyR8S2asUuTbH0giDGRgg6f5BluFp4BrbqVy4SRBVBOGHTAq']}
2013-09-12 15:59:24,009 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:59:24,037 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-12 15:59:24,042 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}'], 'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 15:59:24,043 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/oplist', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10bff5a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/pyoidcOICStatic', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile&state=urn%3Auuid%3A60510344-079e-4096-be4b-9fa6d8ab7bfe&code=J2guysPWLmzpnlXWXyR8S2asUuTbH0giDGRgg6f5BluFp4BrbqVy4SRBVBOGHTAq', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56841', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10bf70850>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10c011ad0>, '_accessed_time': 1378994364.003709, 'service': u'https://localhost:8092/', '_creation_time': 1378994347.56193}, 'wsgi.multithread': True, 'REQUEST_URI': '/pyoidcOICStatic?scope=openid+profile&state=urn%3Auuid%3A60510344-079e-4096-be4b-9fa6d8ab7bfe&code=J2guysPWLmzpnlXWXyR8S2asUuTbH0giDGRgg6f5BluFp4BrbqVy4SRBVBOGHTAq', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10a41e270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:59:24,044 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=J2guysPWLmzpnlXWXyR8S2asUuTbH0giDGRgg6f5BluFp4BrbqVy4SRBVBOGHTAq&client_secret=1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1&grant_type=authorization_code&client_id=VJNL62bPdOnn&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2FpyoidcOICStatic
2013-09-12 15:59:24,044 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 15:59:24,049 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:59:24,093 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 15:59:24,095 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 13:59:24 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 15:59:24,096 oic.oauth2:DEBUG resp.txt: {"access_token": "J2guysPWLmzpnlXWXyR8S2SSlGsHtVVmfRAFB1hyKiXAptwvy7EEx7bZoOlAI1m+", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIlZKTkw2MmJQZE9ubiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA3MzU2NCwgImlhdCI6IDEzNzg5OTQzNjQsICJzdWIiOiAiaGFobzAwMzIifQ.WwfVHaJ41paZp3BESedTaZXYyf9IIi-E8j-O0AkdsFMTnvcB-HJvEwZnBYflbkuHdjBwDXDNrbipTARgMNOAivDvNFpyTgoehwIKUNAL6IV2Tx6i2rwllPJfZWKFpqPsHbLwUN6eXXxp0CCa6dnNTESumaLaYKU0mPLUWP1D2cP_t2BxvYUJ-fPvxqHq1QSMCyyp79ERmSCCObmQZWjR2Q5C--js9cGWM7hT__bSwJRtGfai4fKDOqLlOASZ7E_6269m6fbE-wn5DKHyb2j2uQzC8w1CZstHlvfxtAbgsr_2FXOw6TD2cMHhWj9gE1Xbm_x7uKl4fYdyLqO8YP93RQ", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:60510344-079e-4096-be4b-9fa6d8ab7bfe", "scope": "openid profile", "refresh_token": "J2guysPWLmzpnlXWXyR8S6lS1iP73k+Ztu6zsONNRsxHhF1l9KdgDvac3aw077aI"}
2013-09-12 15:59:24,097 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 15:59:24,100 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'J2guysPWLmzpnlXWXyR8S2SSlGsHtVVmfRAFB1hyKiXAptwvy7EEx7bZoOlAI1m+', 'request': 'openid', 'schema': 'openid'}
2013-09-12 15:59:24,100 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=J2guysPWLmzpnlXWXyR8S2SSlGsHtVVmfRAFB1hyKiXAptwvy7EEx7bZoOlAI1m%2B H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 15:59:24,106 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:59:24,138 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 15:59:24,141 oic.oic:DEBUG Reponse text: '{"family_name": "H\u00f6rberg", "nickname": "Hasse", "given_name": "Hans", "name": "Hans H\u00f6rberg", "sub": "haho0032"}'
2013-09-12 15:59:24,142 rp.openidconnect:DEBUG UserInfo: family_name=H%C3%B6rberg&nickname=Hasse&sub=haho0032&name=Hans+H%C3%B6rberg&given_name=Hans
2013-09-12 15:59:24,142 rp:DEBUG [do_pyoidcOIC] response: (True, {'family_name': u'H\xf6rberg', 'nickname': u'Hasse', 'given_name': u'Hans', 'name': u'Hans H\xf6rberg', 'sub': u'haho0032'}, u'J2guysPWLmzpnlXWXyR8S2SSlGsHtVVmfRAFB1hyKiXAptwvy7EEx7bZoOlAI1m+', <oic.oic.Client object at 0x10c011ad0>)
2013-09-12 15:59:24,155 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 15:59:24,162 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 15:59:24,163 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 15:59:24,164 root:INFO [static]sending: static/style.css
2013-09-12 15:59:29,981 root:INFO [static]sending: static/style.css
2013-09-12 15:59:29,982 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 15:59:29,987 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 15:59:29,988 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
2013-09-12 15:59:35,096 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): hashog.umdc.umu.se
2013-09-12 15:59:35,124 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/webfinger?resource=https%3A%2F%2Fhaho0034%40hashog.umdc.umu.se%3A8092&rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1" 200 None
2013-09-12 15:59:35,127 rp.openidconnect:DEBUG FLOW type: code
2013-09-12 15:59:35,128 rp.openidconnect:DEBUG begin environ: {'service': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10bff5a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': u'OIDC server with discovery url: https://localhost:8092/', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10bf70d50>, 'scope': ['openid', 'profile', 'email', 'address', 'phone'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'instance': <rp.pyoidc.pyoidcOIC object at 0x10bff5ad0>, 'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'scope': ['openid', 'profile'], 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'pyoidcOIC', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'opKey': 'pyoidcOICDyn'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10bff5b10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'SERVICE': {'pyoidcOICStatic': {'description': 'User static settings to login at pyoidc oc3 server with OpenId connect.', 'keys': ['https://localhost:8092/', 'https://localhost:8092/static/jwks.json'], 'opKey': 'pyoidcOICStatic', 'client_id': 'VJNL62bPdOnn', 'client_secret': '1e1254a35bf2000dff6daaef35660a85f7f17b5a0d5192da7838dfb1', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOIC', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10bff5a50>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}, '919D3F697FDAAF138124B83E09ECB0B7': {'description': u'OIDC server with discovery url: https://localhost:8092/', 'opKey': '919D3F697FDAAF138124B83E09ECB0B7', 'instance': <rp.pyoidc.pyoidcOIC object at 0x10bf70d50>, 'scope': ['openid', 'profile', 'email', 'address', 'phone'], 'srv_discovery_url': u'https://localhost:8092/', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'name': u'https://localhost:8092/'}, 'pyoidcOICDyn': {'instance': <rp.pyoidc.pyoidcOIC object at 0x10bff5ad0>, 'description': 'Use discovery to login at pyoidc oc3 server with OpenId connect.', 'client_id': 'None', 'scope': ['openid', 'profile'], 'client_secret': 'None', 'srv_discovery_url': 'https://localhost:8092/', 'name': 'pyoidcOIC', 'class': <class 'rp.pyoidc.pyoidcOIC'>, 'opKey': 'pyoidcOICDyn'}, 'pyoidcOAuth': {'description': 'Login at pyoidc oc3 server with OAuth 2.0.', 'opKey': 'pyoidcOAuth', 'client_id': 'u1fD2wvxhw0S', 'client_secret': '1156c63d5cc94f62ca0fb717ab29755b7f7664bf3c5a84c04aede560', 'class': <class 'rp.pyoidc.pyoidcOAuth2'>, 'userinfo_endpoint': 'https://localhost:8092/userinfo', 'name': 'pyoidcOAuth', 'token_endpoint': 'https://localhost:8092/token', 'instance': <rp.pyoidc.pyoidcOAuth2 object at 0x10bff5b10>, 'scope': ['openid', 'profile'], 'authorization_endpoint': 'https://localhost:8092/authorization'}}, 'pyoidcOIC': <class 'rp.pyoidc.pyoidcOIC'>, 'base_url': 'http://hashog.umdc.umu.se:8666/', 'OIC_CLIENT': {'pyoidcOICStatic': <oic.oic.Client object at 0x10c011ad0>, 'pyoidcOICDyn': <oic.oic.Client object at 0x10bf87210>}, 'BASE': 'http://hashog.umdc.umu.se:8666/', 'pyoidc': <module 'rp.pyoidc' from '/Users/haho0032/githubFork/pyoidc/rp/pyoidc/__init__.pyc'>, 'pyoidcOAuth2': <class 'rp.pyoidc.pyoidcOAuth2'>, 'template_lookup': <mako.lookup.TemplateLookup object at 0x10bff59d0>, 'PORT': 8666}
2013-09-12 15:59:35,132 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:59:35,164 requests.packages.urllib3.connectionpool:DEBUG "GET /.well-known/openid-configuration HTTP/1.1" 200 None
2013-09-12 15:59:35,167 oic.utils.keyio:DEBUG loading keys for issuer: https://localhost:8092/
2013-09-12 15:59:35,169 oic.utils.keyio:DEBUG pcr: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 15:59:35,172 rp.openidconnect:DEBUG Got provider config: registration_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fregistration&claims_supported=profile+openid+offline_access+phone+address+email&userinfo_encryption_alg_values_supported=RSA1_5+RSA-OAEP&request_object_encryption_alg_values_supported=RSA1_5+RSA-OAEP&scopes_supported=openid&subject_types_supported=public+pairwise&token_endpoint_auth_methods_supported=client_secret_post+client_secret_basic+client_secret_jwt+private_key_jwt&userinfo_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&id_token_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&request_object_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&jwks_uri=https%3A%2F%2Flocalhost%3A8092%2Fstatic%2Fjwks.json&claims_parameter_supported=true&request_parameter_supported=true&issuer=https%3A%2F%2Flocalhost%3A8092%2F&token_endpoint_auth_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&userinfo_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fuserinfo&id_token_encryption_enc_values_supported=A128CBC-HS256+A256CBC-HS512+A256GCM&request_object_signing_alg_values_supported=HS512+none+RS256+ES256+HS256+RS512+HS384+RS384&require_request_uri_registration=true&grant_types_supported=authorization_code+implicit+urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&token_endpoint=https%3A%2F%2Flocalhost%3A8092%2Ftoken&request_uri_parameter_supported=true&version=3.0&response_types_supported=code+token+id_token+code+token+code+id_token+token+id_token+code+token+id_token&id_token_encryption_alg_values_supported=RSA1_5+RSA-OAEP&authorization_endpoint=https%3A%2F%2Flocalhost%3A8092%2Fauthorization&claim_types_supported=normal+aggregated+distributed
2013-09-12 15:59:35,172 rp.openidconnect:DEBUG Registering RP
2013-09-12 15:59:35,177 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:59:35,213 requests.packages.urllib3.connectionpool:DEBUG "POST /registration HTTP/1.1" 200 None
2013-09-12 15:59:35,216 rp.openidconnect:DEBUG Registration response: client_id_issued_at=1378990775&redirect_uris=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&contacts=ops%40example.com&application_type=web&registration_client_uri=https%3A%2F%2Flocalhost%3A8092%2Fregistration%3Fclient_id%3DXXs4goBb7wT6&registration_access_token=Lt4h4wgCxLfcBosTiNjXANZrwoU4SRd6&client_id=XXs4goBb7wT6&client_secret=5d3ab80e22d1e2970fc371b5eeec9ffb98de56c0e9e315f5dd5c2d2b&client_secret_expires_at=1379077175
2013-09-12 15:59:35,217 rp.openidconnect:INFO client args: [('registration_endpoint', u'https://localhost:8092/registration'), ('cookies', {}), ('check_session_endpoint', ''), ('grant_expire_in', 600), ('response2error', {'IdToken': [<class 'oic.oauth2.message.ErrorResponse'>], 'RegistrationResponse': [<class 'oic.oic.message.ClientRegistrationErrorResponse'>], 'AuthorizationResponse': [<class 'oic.oic.message.AuthorizationErrorResponse'>, <class 'oic.oic.message.TokenErrorResponse'>], 'OpenIDSchema': [<class 'oic.oic.message.UserInfoErrorResponse'>], 'AccessTokenResponse': [<class 'oic.oic.message.TokenErrorResponse'>]}), ('provider_info', {u'https://localhost:8092/': <oic.oic.message.ProviderConfigurationResponse object at 0x10bf70a10>}), ('check_id_endpoint', ''), ('cookiejar', <cookielib.CookieJar[]>), ('log', None), ('grant', {}), ('refresh_session_endpoint', ''), ('token_endpoint', u'https://localhost:8092/token'), ('request2endpoint', {'ResourceRequest': 'resource_endpoint', 'UserInfoRequest': 'userinfo_endpoint', 'CheckIDRequest': 'check_id_endpoint', 'AccessTokenRequest': 'token_endpoint', 'OpenIDRequest': 'authorization_endpoint', 'CheckSessionRequest': 'check_session_endpoint', 'AuthorizationRequest': 'authorization_endpoint', 'RefreshAccessTokenRequest': 'token_endpoint', 'RegistrationRequest': 'registration_endpoint', 'RefreshSessionRequest': 'refresh_session_endpoint', 'EndSessionRequest': 'end_session_endpoint', 'RotateSecret': 'registration_endpoint'}), ('state', 'urn:uuid:dde51009-a17f-4917-bcd2-b4cb5a1e1de8'), ('request_args', {'verify': False, 'allow_redirects': False}), ('file_store', './file/'), ('_c_secret', u'5d3ab80e22d1e2970fc371b5eeec9ffb98de56c0e9e315f5dd5c2d2b'), ('client_authn_method', {'client_secret_basic': <class 'oic.utils.authn.client.ClientSecretBasic'>, 'bearer_body': <class 'oic.utils.authn.client.BearerBody'>, 'private_key_jwt': <class 'oic.utils.authn.client.PrivateKeyJWT'>, 'bearer_header': <class 'oic.utils.authn.client.BearerHeader'>, 'client_secret_post': <class 'oic.utils.authn.client.ClientSecretPost'>, 'client_secret_jwt': <class 'oic.utils.authn.client.ClientSecretJWT'>}), ('client_timeout', 0), ('nonce', None), ('wf', <oic.utils.webfinger.WebFinger object at 0x10bf70ad0>), ('redirect_uris', ['http://hashog.umdc.umu.se:8666/919D3F697FDAAF138124B83E09ECB0B7']), ('id_token', None), ('registration_response', <oic.oic.message.RegistrationResponse object at 0x10c001ed0>), ('behaviour', {'require_signed_request_object': 'RS256'}), ('client_id', u'XXs4goBb7wT6'), ('registration_expires', 1379077175), ('token_class', <class 'oic.oic.Token'>), ('userinfo_endpoint', u'https://localhost:8092/userinfo'), ('file_uri', 'http://localhost/'), ('keyjar', <oic.utils.keyio.KeyJar object at 0x10bf70890>), ('client_prefs', {}), ('registration_access_token', u'Lt4h4wgCxLfcBosTiNjXANZrwoU4SRd6'), ('grant_class', <class 'oic.oic.Grant'>), ('token_revocation_endpoint', None), ('end_session_endpoint', ''), ('authorization_endpoint', u'https://localhost:8092/authorization')]
2013-09-12 15:59:35,218 rp.openidconnect:INFO request_args: {'scope': ['openid', 'profile', 'email', 'address', 'phone'], 'state': 'urn:uuid:dde51009-a17f-4917-bcd2-b4cb5a1e1de8', 'response_type': 'code'}
2013-09-12 15:59:35,219 rp.openidconnect:DEBUG request: scope=openid+profile+email+address+phone&state=urn%3Auuid%3Adde51009-a17f-4917-bcd2-b4cb5a1e1de8&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=XXs4goBb7wT6
2013-09-12 15:59:35,220 rp.openidconnect:DEBUG body: None
2013-09-12 15:59:35,220 rp.openidconnect:INFO URL: https://localhost:8092/authorization?scope=openid+profile+email+address+phone&state=urn%3Auuid%3Adde51009-a17f-4917-bcd2-b4cb5a1e1de8&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=XXs4goBb7wT6
2013-09-12 15:59:35,220 rp.openidconnect:DEBUG ht_args: {}
2013-09-12 15:59:35,221 rp.openidconnect:DEBUG resp_headers: [('Location', 'https://localhost:8092/authorization?scope=openid+profile+email+address+phone&state=urn%3Auuid%3Adde51009-a17f-4917-bcd2-b4cb5a1e1de8&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7&response_type=code&client_id=XXs4goBb7wT6')]
2013-09-12 15:59:35,268 rp:DEBUG [do_pyoidcOIC] environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10bff5a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile+email+address+phone&state=urn%3Auuid%3Adde51009-a17f-4917-bcd2-b4cb5a1e1de8&code=sVPASBafB4yV3OtAKAXWkUFEQO0Fz4opw15VzanTwYOKZ%2FTVHg9MCRjfWgjswCLl', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56858', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10bf87110>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10bf70950>, '_accessed_time': 1378994375.268157, 'service': u'https://localhost:8092/', '_creation_time': 1378994347.56193}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile+email+address+phone&state=urn%3Auuid%3Adde51009-a17f-4917-bcd2-b4cb5a1e1de8&code=sVPASBafB4yV3OtAKAXWkUFEQO0Fz4opw15VzanTwYOKZ%2FTVHg9MCRjfWgjswCLl', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10a41e270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:59:35,269 rp:DEBUG [do_pyoidcOIC] query: {'scope': ['openid profile email address phone'], 'state': ['urn:uuid:dde51009-a17f-4917-bcd2-b4cb5a1e1de8'], 'code': ['sVPASBafB4yV3OtAKAXWkUFEQO0Fz4opw15VzanTwYOKZ/TVHg9MCRjfWgjswCLl']}
2013-09-12 15:59:35,269 rp.openidconnect:DEBUG info: {'scope': ['openid profile email address phone'], 'state': ['urn:uuid:dde51009-a17f-4917-bcd2-b4cb5a1e1de8'], 'code': ['sVPASBafB4yV3OtAKAXWkUFEQO0Fz4opw15VzanTwYOKZ/TVHg9MCRjfWgjswCLl']}
2013-09-12 15:59:35,274 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:59:35,301 requests.packages.urllib3.connectionpool:DEBUG "GET /static/jwks.json HTTP/1.1" 200 None
2013-09-12 15:59:35,306 rp.openidconnect:DEBUG keyjar: {'': ['{"keys": [{"use": "sig", "kty": "oct"}]}', '{"keys": [{"use": "sig", "kty": "oct"}]}'], u'https://localhost:8092/': ['{"keys": [{"use": "enc", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}, {"use": "sig", "e": "AQAB", "kty": "RSA", "n": "1ECrSVVGxHDjCm-gLdGoTPCTeIgTRvin0cE9M6s_GkD0ta3Ty6DClu8GiBml-PQfQtSya5Ezv8EuUXhFhNCpR-3_vMwUjYLBzH5ybAB_NBRL8MJ1M7WUzm-WSnl1hdYMolX1xy2cy2Um5saItubMONhhVG-hFAsyy9iCDX-FV8anrOPpCBuYK1B0BaBSafMDus3SR-xq8T6LgTelwr3srJm6Q6A2AzdBsCkm-WcKW534ClRbMYfMaJQlBYpmtnQt_k8ctUWX1k_kIAJ7GR5Wh_7555wCcVJbnoc4iNgPs1KyNfmHv2RiEr2lf0BmxpkzUGnNQNaOVqB1_D1ygsNMAw"}]}']}
2013-09-12 15:59:35,307 rp.openidconnect:DEBUG callback environ: {'HTTP_REFERER': 'http://hashog.umdc.umu.se:8666/opbyuid', 'beaker.get_session': <bound method SessionMiddleware._get_session of <beaker.middleware.SessionMiddleware object at 0x10bff5a10>>, 'SERVER_SOFTWARE': 'CherryPy/3.2.2 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/919D3F697FDAAF138124B83E09ECB0B7', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'scope=openid+profile+email+address+phone&state=urn%3Auuid%3Adde51009-a17f-4917-bcd2-b4cb5a1e1de8&code=sVPASBafB4yV3OtAKAXWkUFEQO0Fz4opw15VzanTwYOKZ%2FTVHg9MCRjfWgjswCLl', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56858', 'SERVER_NAME': 'hashog.umdc.umu.se', 'REMOTE_ADDR': '130.239.200.146', 'wsgi.url_scheme': 'http', 'SERVER_PORT': '8666', 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10bf87110>, 'HTTP_HOST': 'hashog.umdc.umu.se:8666', 'beaker.session': {'client': <oic.oic.Client object at 0x10bf70950>, '_accessed_time': 1378994375.268157, 'service': u'https://localhost:8092/', '_creation_time': 1378994347.56193}, 'wsgi.multithread': True, 'REQUEST_URI': '/919D3F697FDAAF138124B83E09ECB0B7?scope=openid+profile+email+address+phone&state=urn%3Auuid%3Adde51009-a17f-4917-bcd2-b4cb5a1e1de8&code=sVPASBafB4yV3OtAKAXWkUFEQO0Fz4opw15VzanTwYOKZ%2FTVHg9MCRjfWgjswCLl', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10a41e270>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_COOKIE': 'beaker.session.id=0a14f48f9e56473a8add5963478797bf; __utma=19129575.636620323.1361783523.1378376197.1378380172.126; __utmz=19129575.1378380172.126.16.utmcsr=cas.umu.se|utmccn=(referral)|utmcmd=referral|utmcct=/login'}
2013-09-12 15:59:35,307 rp.openidconnect:DEBUG key: [<jwkest.jwk.RSA_key instance at 0x10bf8a248>]
2013-09-12 15:59:35,308 oic.oauth2:DEBUG <do_access_token> URL: https://localhost:8092/token, Body: code=sVPASBafB4yV3OtAKAXWkUFEQO0Fz4opw15VzanTwYOKZ%2FTVHg9MCRjfWgjswCLl&client_secret=5d3ab80e22d1e2970fc371b5eeec9ffb98de56c0e9e315f5dd5c2d2b&grant_type=authorization_code&client_id=XXs4goBb7wT6&redirect_uri=http%3A%2F%2Fhashog.umdc.umu.se%3A8666%2F919D3F697FDAAF138124B83E09ECB0B7
2013-09-12 15:59:35,309 oic.oauth2:DEBUG <do_access_token> response_cls: <class 'oic.oic.message.AccessTokenResponse'>
2013-09-12 15:59:35,313 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:59:35,359 requests.packages.urllib3.connectionpool:DEBUG "POST /token HTTP/1.1" 200 None
2013-09-12 15:59:35,361 oic.oauth2:DEBUG resp.headers: {'transfer-encoding': 'chunked', 'date': 'Thu, 12 Sep 2013 13:59:35 GMT', 'content-type': 'application/json', 'server': 'hashog.umdc.umu.se'}
2013-09-12 15:59:35,361 oic.oauth2:DEBUG resp.txt: {"access_token": "sVPASBafB4yV3OtAKAXWkZxDXmDxvN2rrrizgj+KPc4BOaAcPLu9JHqjWtMkjnWf", "id_token": "eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiBbIlhYczRnb0JiN3dUNiJdLCAiaXNzIjogImh0dHBzOi8vbG9jYWxob3N0OjgwOTIiLCAiYWNyIjogIjIiLCAiZXhwIjogMTM3OTA3MzU3NSwgImlhdCI6IDEzNzg5OTQzNzUsICJzdWIiOiAiaGFobzAwMzIifQ.qoeJLBUiLmG4CmNtAdxuaCc9q9oEEJn98deFtZRR67gw6kzotFgkmZiKu8QubR5S5ckheRNEnjESq4Xm7gOOfWZwCh9jQuVYjuux11QNLHX9GKttgMpAAMdolV6WWymET3rYhPc6yyRY6mYueLgmcRpL0VC9k8vKW3pXRTAWApFVvZGjaSL_tq0Yz5RoZxU9WG00oRCnvlqs030xz-PRp3YfunXaKYQ9fFqyl2CkOK4wdwKaq8CI31wjdEebVM0fQtOwHKDC2jpcsQ0wHm5b5T1mGMcGJfKD6E3E6qUsA2JQAMSC16YSgN_HooDhxbxz9UzCQsfEaXp-6rMHVwR5MA", "expires_in": 3600, "token_type": "Bearer", "state": "urn:uuid:dde51009-a17f-4917-bcd2-b4cb5a1e1de8", "scope": "openid profile email address phone", "refresh_token": "sVPASBafB4yV3OtAKAXWkSZesuSaW8ThwUekGiWvrA2x7S64jb66Jy55/ox8M7W7"}
2013-09-12 15:59:35,363 oic.oauth2.message:DEBUG header: {u'alg': u'RS256'}
2013-09-12 15:59:35,365 oic.oic:DEBUG [user_info_request]: kwargs:{'access_token': u'sVPASBafB4yV3OtAKAXWkZxDXmDxvN2rrrizgj+KPc4BOaAcPLu9JHqjWtMkjnWf', 'request': 'openid', 'schema': 'openid'}
2013-09-12 15:59:35,365 oic.oic:DEBUG [do_user_info_request] PATH:https://localhost:8092/userinfo BODY:access_token=sVPASBafB4yV3OtAKAXWkZxDXmDxvN2rrrizgj%2BKPc4BOaAcPLu9JHqjWtMkjnWf H_ARGS: {'headers': {'content-type': 'application/x-www-form-urlencoded'}}
2013-09-12 15:59:35,370 requests.packages.urllib3.connectionpool:INFO Starting new HTTPS connection (1): localhost
2013-09-12 15:59:35,405 requests.packages.urllib3.connectionpool:DEBUG "POST /userinfo HTTP/1.1" 200 None
2013-09-12 15:59:35,407 oic.oic:DEBUG Reponse text: '{"phone_number": "+46 90 7865000", "family_name": "H\u00f6rberg", "name": "Hans H\u00f6rberg", "email_verified": false, "given_name": "Hans", "address": {"country": "Sweden", "postal_code": "SE-90187", "street_address": "Ume\u00e5 Universitet", "locality": "Ume\u00e5"}, "nickname": "Hasse", "email": "hans@example.org", "sub": "haho0032"}'
2013-09-12 15:59:35,410 rp.openidconnect:DEBUG UserInfo: phone_number=%2B46+90+7865000&family_name=H%C3%B6rberg&name=Hans+H%C3%B6rberg&email_verified=False&given_name=Hans&address=country%3DSweden%26postal_code%3DSE-90187%26street_address%3DUme%25C3%25A5%2BUniversitet%26locality%3DUme%25C3%25A5&nickname=Hasse&email=hans%40example.org&sub=haho0032
2013-09-12 15:59:35,410 rp:DEBUG [do_pyoidcOIC] response: (True, {'phone_number': u'+46 90 7865000', 'family_name': u'H\xf6rberg', 'name': u'Hans H\xf6rberg', 'email_verified': False, 'given_name': u'Hans', 'address': {'country': u'Sweden', 'postal_code': u'SE-90187', 'street_address': u'Ume\xe5 Universitet', 'locality': u'Ume\xe5'}, 'nickname': u'Hasse', 'email': u'hans@example.org', 'sub': u'haho0032'}, u'sVPASBafB4yV3OtAKAXWkZxDXmDxvN2rrrizgj+KPc4BOaAcPLu9JHqjWtMkjnWf', <oic.oic.Client object at 0x10bf70950>)
2013-09-12 15:59:35,471 root:INFO [static]sending: static/bootstrap/js/bootstrap.min.js
2013-09-12 15:59:35,472 root:INFO [static]sending: static/style.css
2013-09-12 15:59:35,472 root:INFO [static]sending: static/jquery.min.1.9.1.js
2013-09-12 15:59:35,475 root:INFO [static]sending: static/bootstrap/css/bootstrap.min.css
